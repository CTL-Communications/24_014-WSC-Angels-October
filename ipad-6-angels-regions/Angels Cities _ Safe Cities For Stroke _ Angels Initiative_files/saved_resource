(function(){"use strict";var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},check=function(e){return e&&e.Math==Math&&e},global$C=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof commonjsGlobal&&commonjsGlobal)||function(){return this}()||Function("return this")(),domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},isCallable$i=function(e){return"function"==typeof e},isCallable$h=isCallable$i,isObject$6=function(e){return"object"==typeof e?null!==e:isCallable$h(e)},global$B=global$C,isObject$5=isObject$6,document$1=global$B.document,EXISTS$1=isObject$5(document$1)&&isObject$5(document$1.createElement),documentCreateElement$2=function(e){return EXISTS$1?document$1.createElement(e):{}},documentCreateElement$1=documentCreateElement$2,classList=documentCreateElement$1("span").classList,DOMTokenListPrototype$1=classList&&classList.constructor&&classList.constructor.prototype,domTokenListPrototype=DOMTokenListPrototype$1===Object.prototype?void 0:DOMTokenListPrototype$1,fails$h=function(e){try{return!!e()}catch(e){return!0}},fails$g=fails$h,functionBindNative=!fails$g((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),NATIVE_BIND$3=functionBindNative,FunctionPrototype$2=Function.prototype,bind$4=FunctionPrototype$2.bind,call$e=FunctionPrototype$2.call,uncurryThis$l=NATIVE_BIND$3&&bind$4.bind(call$e,call$e),functionUncurryThis=NATIVE_BIND$3?function(e){return e&&uncurryThis$l(e)}:function(e){return e&&function(){return call$e.apply(e,arguments)}},uncurryThis$k=functionUncurryThis,toString$6=uncurryThis$k({}.toString),stringSlice$6=uncurryThis$k("".slice),classofRaw$1=function(e){return stringSlice$6(toString$6(e),8,-1)},global$A=global$C,uncurryThis$j=functionUncurryThis,fails$f=fails$h,classof$6=classofRaw$1,Object$5=global$A.Object,split$3=uncurryThis$j("".split),indexedObject=fails$f((function(){return!Object$5("z").propertyIsEnumerable(0)}))?function(e){return"String"==classof$6(e)?split$3(e,""):Object$5(e)}:Object$5,global$z=global$C,TypeError$e=global$z.TypeError,requireObjectCoercible$4=function(e){if(null==e)throw TypeError$e("Can't call method on "+e);return e},IndexedObject$1=indexedObject,requireObjectCoercible$3=requireObjectCoercible$4,toIndexedObject$5=function(e){return IndexedObject$1(requireObjectCoercible$3(e))},shared$4={exports:{}},isPure=!1,global$y=global$C,defineProperty$3=Object.defineProperty,setGlobal$3=function(e,t){try{defineProperty$3(global$y,e,{value:t,configurable:!0,writable:!0})}catch(r){global$y[e]=t}return t},global$x=global$C,setGlobal$2=setGlobal$3,SHARED="__core-js_shared__",store$3=global$x[SHARED]||setGlobal$2(SHARED,{}),sharedStore=store$3,store$2=sharedStore;(shared$4.exports=function(e,t){return store$2[e]||(store$2[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.1",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.1/LICENSE",source:"https://github.com/zloirock/core-js"});var global$w=global$C,requireObjectCoercible$2=requireObjectCoercible$4,Object$4=global$w.Object,toObject$5=function(e){return Object$4(requireObjectCoercible$2(e))},uncurryThis$i=functionUncurryThis,toObject$4=toObject$5,hasOwnProperty=uncurryThis$i({}.hasOwnProperty),hasOwnProperty_1=Object.hasOwn||function(e,t){return hasOwnProperty(toObject$4(e),t)},uncurryThis$h=functionUncurryThis,id=0,postfix=Math.random(),toString$5=uncurryThis$h(1..toString),uid$2=function(e){return"Symbol("+(void 0===e?"":e)+")_"+toString$5(++id+postfix,36)},global$v=global$C,isCallable$g=isCallable$i,aFunction=function(e){return isCallable$g(e)?e:void 0},getBuiltIn$5=function(e,t){return arguments.length<2?aFunction(global$v[e]):global$v[e]&&global$v[e][t]},getBuiltIn$4=getBuiltIn$5,engineUserAgent=getBuiltIn$4("navigator","userAgent")||"",global$u=global$C,userAgent=engineUserAgent,process=global$u.process,Deno=global$u.Deno,versions=process&&process.versions||Deno&&Deno.version,v8=versions&&versions.v8,match,version;v8&&(match=v8.split("."),version=match[0]>0&&match[0]<4?1:+(match[0]+match[1])),!version&&userAgent&&(match=userAgent.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=userAgent.match(/Chrome\/(\d+)/),match&&(version=+match[1])));var engineV8Version=version,V8_VERSION=engineV8Version,fails$e=fails$h,nativeSymbol=!!Object.getOwnPropertySymbols&&!fails$e((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&V8_VERSION&&V8_VERSION<41})),NATIVE_SYMBOL$1=nativeSymbol,useSymbolAsUid=NATIVE_SYMBOL$1&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,global$t=global$C,shared$3=shared$4.exports,hasOwn$a=hasOwnProperty_1,uid$1=uid$2,NATIVE_SYMBOL=nativeSymbol,USE_SYMBOL_AS_UID$1=useSymbolAsUid,WellKnownSymbolsStore=shared$3("wks"),Symbol$1=global$t.Symbol,symbolFor=Symbol$1&&Symbol$1.for,createWellKnownSymbol=USE_SYMBOL_AS_UID$1?Symbol$1:Symbol$1&&Symbol$1.withoutSetter||uid$1,wellKnownSymbol$e=function(e){if(!hasOwn$a(WellKnownSymbolsStore,e)||!NATIVE_SYMBOL&&"string"!=typeof WellKnownSymbolsStore[e]){var t="Symbol."+e;NATIVE_SYMBOL&&hasOwn$a(Symbol$1,e)?WellKnownSymbolsStore[e]=Symbol$1[e]:WellKnownSymbolsStore[e]=USE_SYMBOL_AS_UID$1&&symbolFor?symbolFor(t):createWellKnownSymbol(t)}return WellKnownSymbolsStore[e]},global$s=global$C,isObject$4=isObject$6,String$4=global$s.String,TypeError$d=global$s.TypeError,anObject$c=function(e){if(isObject$4(e))return e;throw TypeError$d(String$4(e)+" is not an object")},objectDefineProperties={},fails$d=fails$h,descriptors=!fails$d((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),DESCRIPTORS$a=descriptors,fails$c=fails$h,v8PrototypeDefineBug=DESCRIPTORS$a&&fails$c((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),objectDefineProperty={},DESCRIPTORS$9=descriptors,fails$b=fails$h,createElement=documentCreateElement$2,ie8DomDefine=!DESCRIPTORS$9&&!fails$b((function(){return 7!=Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a})),NATIVE_BIND$2=functionBindNative,call$d=Function.prototype.call,functionCall=NATIVE_BIND$2?call$d.bind(call$d):function(){return call$d.apply(call$d,arguments)},uncurryThis$g=functionUncurryThis,objectIsPrototypeOf=uncurryThis$g({}.isPrototypeOf),global$r=global$C,getBuiltIn$3=getBuiltIn$5,isCallable$f=isCallable$i,isPrototypeOf$1=objectIsPrototypeOf,USE_SYMBOL_AS_UID=useSymbolAsUid,Object$3=global$r.Object,isSymbol$2=USE_SYMBOL_AS_UID?function(e){return"symbol"==typeof e}:function(e){var t=getBuiltIn$3("Symbol");return isCallable$f(t)&&isPrototypeOf$1(t.prototype,Object$3(e))},global$q=global$C,String$3=global$q.String,tryToString$2=function(e){try{return String$3(e)}catch(e){return"Object"}},global$p=global$C,isCallable$e=isCallable$i,tryToString$1=tryToString$2,TypeError$c=global$p.TypeError,aCallable$3=function(e){if(isCallable$e(e))return e;throw TypeError$c(tryToString$1(e)+" is not a function")},aCallable$2=aCallable$3,getMethod$4=function(e,t){var r=e[t];return null==r?void 0:aCallable$2(r)},global$o=global$C,call$c=functionCall,isCallable$d=isCallable$i,isObject$3=isObject$6,TypeError$b=global$o.TypeError,ordinaryToPrimitive$1=function(e,t){var r,n;if("string"===t&&isCallable$d(r=e.toString)&&!isObject$3(n=call$c(r,e)))return n;if(isCallable$d(r=e.valueOf)&&!isObject$3(n=call$c(r,e)))return n;if("string"!==t&&isCallable$d(r=e.toString)&&!isObject$3(n=call$c(r,e)))return n;throw TypeError$b("Can't convert object to primitive value")},global$n=global$C,call$b=functionCall,isObject$2=isObject$6,isSymbol$1=isSymbol$2,getMethod$3=getMethod$4,ordinaryToPrimitive=ordinaryToPrimitive$1,wellKnownSymbol$d=wellKnownSymbol$e,TypeError$a=global$n.TypeError,TO_PRIMITIVE=wellKnownSymbol$d("toPrimitive"),toPrimitive$1=function(e,t){if(!isObject$2(e)||isSymbol$1(e))return e;var r,n=getMethod$3(e,TO_PRIMITIVE);if(n){if(void 0===t&&(t="default"),r=call$b(n,e,t),!isObject$2(r)||isSymbol$1(r))return r;throw TypeError$a("Can't convert object to primitive value")}return void 0===t&&(t="number"),ordinaryToPrimitive(e,t)},toPrimitive=toPrimitive$1,isSymbol=isSymbol$2,toPropertyKey$3=function(e){var t=toPrimitive(e,"string");return isSymbol(t)?t:t+""},global$m=global$C,DESCRIPTORS$8=descriptors,IE8_DOM_DEFINE$1=ie8DomDefine,V8_PROTOTYPE_DEFINE_BUG$1=v8PrototypeDefineBug,anObject$b=anObject$c,toPropertyKey$2=toPropertyKey$3,TypeError$9=global$m.TypeError,$defineProperty=Object.defineProperty,$getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor,ENUMERABLE="enumerable",CONFIGURABLE$1="configurable",WRITABLE="writable";objectDefineProperty.f=DESCRIPTORS$8?V8_PROTOTYPE_DEFINE_BUG$1?function(e,t,r){if(anObject$b(e),t=toPropertyKey$2(t),anObject$b(r),"function"==typeof e&&"prototype"===t&&"value"in r&&WRITABLE in r&&!r[WRITABLE]){var n=$getOwnPropertyDescriptor$1(e,t);n&&n[WRITABLE]&&(e[t]=r.value,r={configurable:CONFIGURABLE$1 in r?r[CONFIGURABLE$1]:n[CONFIGURABLE$1],enumerable:ENUMERABLE in r?r[ENUMERABLE]:n[ENUMERABLE],writable:!1})}return $defineProperty(e,t,r)}:$defineProperty:function(e,t,r){if(anObject$b(e),t=toPropertyKey$2(t),anObject$b(r),IE8_DOM_DEFINE$1)try{return $defineProperty(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError$9("Accessors not supported");return"value"in r&&(e[t]=r.value),e};var ceil=Math.ceil,floor$4=Math.floor,toIntegerOrInfinity$4=function(e){var t=+e;return t!=t||0===t?0:(t>0?floor$4:ceil)(t)},toIntegerOrInfinity$3=toIntegerOrInfinity$4,max$2=Math.max,min$2=Math.min,toAbsoluteIndex$2=function(e,t){var r=toIntegerOrInfinity$3(e);return r<0?max$2(r+t,0):min$2(r,t)},toIntegerOrInfinity$2=toIntegerOrInfinity$4,min$1=Math.min,toLength$2=function(e){return e>0?min$1(toIntegerOrInfinity$2(e),9007199254740991):0},toLength$1=toLength$2,lengthOfArrayLike$3=function(e){return toLength$1(e.length)},toIndexedObject$4=toIndexedObject$5,toAbsoluteIndex$1=toAbsoluteIndex$2,lengthOfArrayLike$2=lengthOfArrayLike$3,createMethod$1=function(e){return function(t,r,n){var i,a=toIndexedObject$4(t),o=lengthOfArrayLike$2(a),s=toAbsoluteIndex$1(n,o);if(e&&r!=r){for(;o>s;)if((i=a[s++])!=i)return!0}else for(;o>s;s++)if((e||s in a)&&a[s]===r)return e||s||0;return!e&&-1}},arrayIncludes={includes:createMethod$1(!0),indexOf:createMethod$1(!1)},hiddenKeys$4={},uncurryThis$f=functionUncurryThis,hasOwn$9=hasOwnProperty_1,toIndexedObject$3=toIndexedObject$5,indexOf$1=arrayIncludes.indexOf,hiddenKeys$3=hiddenKeys$4,push$5=uncurryThis$f([].push),objectKeysInternal=function(e,t){var r,n=toIndexedObject$3(e),i=0,a=[];for(r in n)!hasOwn$9(hiddenKeys$3,r)&&hasOwn$9(n,r)&&push$5(a,r);for(;t.length>i;)hasOwn$9(n,r=t[i++])&&(~indexOf$1(a,r)||push$5(a,r));return a},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,objectKeys$2=Object.keys||function(e){return internalObjectKeys$1(e,enumBugKeys$2)},DESCRIPTORS$7=descriptors,V8_PROTOTYPE_DEFINE_BUG=v8PrototypeDefineBug,definePropertyModule$4=objectDefineProperty,anObject$a=anObject$c,toIndexedObject$2=toIndexedObject$5,objectKeys$1=objectKeys$2;objectDefineProperties.f=DESCRIPTORS$7&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function(e,t){anObject$a(e);for(var r,n=toIndexedObject$2(t),i=objectKeys$1(t),a=i.length,o=0;a>o;)definePropertyModule$4.f(e,r=i[o++],n[r]);return e};var getBuiltIn$2=getBuiltIn$5,html$1=getBuiltIn$2("document","documentElement"),shared$2=shared$4.exports,uid=uid$2,keys=shared$2("keys"),sharedKey$3=function(e){return keys[e]||(keys[e]=uid(e))},anObject$9=anObject$c,definePropertiesModule=objectDefineProperties,enumBugKeys$1=enumBugKeys$3,hiddenKeys$2=hiddenKeys$4,html=html$1,documentCreateElement=documentCreateElement$2,sharedKey$2=sharedKey$3,GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO$1=sharedKey$2("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(e){return LT+SCRIPT+GT+e+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(e){e.write(scriptTag("")),e.close();var t=e.parentWindow.Object;return e=null,t},NullProtoObjectViaIFrame=function(){var e,t=documentCreateElement("iframe"),r="java"+SCRIPT+":";return t.style.display="none",html.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(scriptTag("document.F=Object")),e.close(),e.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch(e){}NullProtoObject="undefined"!=typeof document?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var e=enumBugKeys$1.length;e--;)delete NullProtoObject[PROTOTYPE][enumBugKeys$1[e]];return NullProtoObject()};hiddenKeys$2[IE_PROTO$1]=!0;var objectCreate=Object.create||function(e,t){var r;return null!==e?(EmptyConstructor[PROTOTYPE]=anObject$9(e),r=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,r[IE_PROTO$1]=e):r=NullProtoObject(),void 0===t?r:definePropertiesModule.f(r,t)},wellKnownSymbol$c=wellKnownSymbol$e,create$3=objectCreate,definePropertyModule$3=objectDefineProperty,UNSCOPABLES=wellKnownSymbol$c("unscopables"),ArrayPrototype$1=Array.prototype;null==ArrayPrototype$1[UNSCOPABLES]&&definePropertyModule$3.f(ArrayPrototype$1,UNSCOPABLES,{configurable:!0,value:create$3(null)});var addToUnscopables$2=function(e){ArrayPrototype$1[UNSCOPABLES][e]=!0},iterators={},uncurryThis$e=functionUncurryThis,isCallable$c=isCallable$i,store$1=sharedStore,functionToString=uncurryThis$e(Function.toString);isCallable$c(store$1.inspectSource)||(store$1.inspectSource=function(e){return functionToString(e)});var inspectSource$3=store$1.inspectSource,global$l=global$C,isCallable$b=isCallable$i,inspectSource$2=inspectSource$3,WeakMap$1=global$l.WeakMap,nativeWeakMap=isCallable$b(WeakMap$1)&&/native code/.test(inspectSource$2(WeakMap$1)),createPropertyDescriptor$5=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},DESCRIPTORS$6=descriptors,definePropertyModule$2=objectDefineProperty,createPropertyDescriptor$4=createPropertyDescriptor$5,createNonEnumerableProperty$6=DESCRIPTORS$6?function(e,t,r){return definePropertyModule$2.f(e,t,createPropertyDescriptor$4(1,r))}:function(e,t,r){return e[t]=r,e},NATIVE_WEAK_MAP=nativeWeakMap,global$k=global$C,uncurryThis$d=functionUncurryThis,isObject$1=isObject$6,createNonEnumerableProperty$5=createNonEnumerableProperty$6,hasOwn$8=hasOwnProperty_1,shared$1=sharedStore,sharedKey$1=sharedKey$3,hiddenKeys$1=hiddenKeys$4,OBJECT_ALREADY_INITIALIZED="Object already initialized",TypeError$8=global$k.TypeError,WeakMap=global$k.WeakMap,set$1,get$1,has,enforce=function(e){return has(e)?get$1(e):set$1(e,{})},getterFor=function(e){return function(t){var r;if(!isObject$1(t)||(r=get$1(t)).type!==e)throw TypeError$8("Incompatible receiver, "+e+" required");return r}};if(NATIVE_WEAK_MAP||shared$1.state){var store=shared$1.state||(shared$1.state=new WeakMap),wmget=uncurryThis$d(store.get),wmhas=uncurryThis$d(store.has),wmset=uncurryThis$d(store.set);set$1=function(e,t){if(wmhas(store,e))throw new TypeError$8(OBJECT_ALREADY_INITIALIZED);return t.facade=e,wmset(store,e,t),t},get$1=function(e){return wmget(store,e)||{}},has=function(e){return wmhas(store,e)}}else{var STATE=sharedKey$1("state");hiddenKeys$1[STATE]=!0,set$1=function(e,t){if(hasOwn$8(e,STATE))throw new TypeError$8(OBJECT_ALREADY_INITIALIZED);return t.facade=e,createNonEnumerableProperty$5(e,STATE,t),t},get$1=function(e){return hasOwn$8(e,STATE)?e[STATE]:{}},has=function(e){return hasOwn$8(e,STATE)}}var internalState={set:set$1,get:get$1,has:has,enforce:enforce,getterFor:getterFor},objectGetOwnPropertyDescriptor={},objectPropertyIsEnumerable={},$propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$2&&!$propertyIsEnumerable.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function(e){var t=getOwnPropertyDescriptor$2(this,e);return!!t&&t.enumerable}:$propertyIsEnumerable;var DESCRIPTORS$5=descriptors,call$a=functionCall,propertyIsEnumerableModule$1=objectPropertyIsEnumerable,createPropertyDescriptor$3=createPropertyDescriptor$5,toIndexedObject$1=toIndexedObject$5,toPropertyKey$1=toPropertyKey$3,hasOwn$7=hasOwnProperty_1,IE8_DOM_DEFINE=ie8DomDefine,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$5?$getOwnPropertyDescriptor:function(e,t){if(e=toIndexedObject$1(e),t=toPropertyKey$1(t),IE8_DOM_DEFINE)try{return $getOwnPropertyDescriptor(e,t)}catch(e){}if(hasOwn$7(e,t))return createPropertyDescriptor$3(!call$a(propertyIsEnumerableModule$1.f,e,t),e[t])};var redefine$7={exports:{}},DESCRIPTORS$4=descriptors,hasOwn$6=hasOwnProperty_1,FunctionPrototype$1=Function.prototype,getDescriptor=DESCRIPTORS$4&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn$6(FunctionPrototype$1,"name"),PROPER=EXISTS&&"something"===function(){}.name,CONFIGURABLE=EXISTS&&(!DESCRIPTORS$4||DESCRIPTORS$4&&getDescriptor(FunctionPrototype$1,"name").configurable),functionName={EXISTS:EXISTS,PROPER:PROPER,CONFIGURABLE:CONFIGURABLE},global$j=global$C,isCallable$a=isCallable$i,hasOwn$5=hasOwnProperty_1,createNonEnumerableProperty$4=createNonEnumerableProperty$6,setGlobal$1=setGlobal$3,inspectSource$1=inspectSource$3,InternalStateModule$4=internalState,CONFIGURABLE_FUNCTION_NAME$1=functionName.CONFIGURABLE,getInternalState$3=InternalStateModule$4.get,enforceInternalState=InternalStateModule$4.enforce,TEMPLATE=String(String).split("String");(redefine$7.exports=function(e,t,r,n){var i,a=!!n&&!!n.unsafe,o=!!n&&!!n.enumerable,s=!!n&&!!n.noTargetGet,l=n&&void 0!==n.name?n.name:t;isCallable$a(r)&&("Symbol("===String(l).slice(0,7)&&(l="["+String(l).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!hasOwn$5(r,"name")||CONFIGURABLE_FUNCTION_NAME$1&&r.name!==l)&&createNonEnumerableProperty$4(r,"name",l),(i=enforceInternalState(r)).source||(i.source=TEMPLATE.join("string"==typeof l?l:""))),e!==global$j?(a?!s&&e[t]&&(o=!0):delete e[t],o?e[t]=r:createNonEnumerableProperty$4(e,t,r)):o?e[t]=r:setGlobal$1(t,r)})(Function.prototype,"toString",(function(){return isCallable$a(this)&&getInternalState$3(this).source||inspectSource$1(this)}));var objectGetOwnPropertyNames={},internalObjectKeys=objectKeysInternal,enumBugKeys=enumBugKeys$3,hiddenKeys=enumBugKeys.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function(e){return internalObjectKeys(e,hiddenKeys)};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var getBuiltIn$1=getBuiltIn$5,uncurryThis$c=functionUncurryThis,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertySymbolsModule$1=objectGetOwnPropertySymbols,anObject$8=anObject$c,concat$2=uncurryThis$c([].concat),ownKeys$1=getBuiltIn$1("Reflect","ownKeys")||function(e){var t=getOwnPropertyNamesModule.f(anObject$8(e)),r=getOwnPropertySymbolsModule$1.f;return r?concat$2(t,r(e)):t},hasOwn$4=hasOwnProperty_1,ownKeys=ownKeys$1,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,definePropertyModule$1=objectDefineProperty,copyConstructorProperties$1=function(e,t,r){for(var n=ownKeys(t),i=definePropertyModule$1.f,a=getOwnPropertyDescriptorModule.f,o=0;o<n.length;o++){var s=n[o];hasOwn$4(e,s)||r&&hasOwn$4(r,s)||i(e,s,a(t,s))}},fails$a=fails$h,isCallable$9=isCallable$i,replacement=/#|\.prototype\./,isForced$1=function(e,t){var r=data[normalize(e)];return r==POLYFILL||r!=NATIVE&&(isCallable$9(t)?fails$a(t):!!t)},normalize=isForced$1.normalize=function(e){return String(e).replace(replacement,".").toLowerCase()},data=isForced$1.data={},NATIVE=isForced$1.NATIVE="N",POLYFILL=isForced$1.POLYFILL="P",isForced_1=isForced$1,global$i=global$C,getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,createNonEnumerableProperty$3=createNonEnumerableProperty$6,redefine$6=redefine$7.exports,setGlobal=setGlobal$3,copyConstructorProperties=copyConstructorProperties$1,isForced=isForced_1,_export=function(e,t){var r,n,i,a,o,s=e.target,l=e.global,c=e.stat;if(r=l?global$i:c?global$i[s]||setGlobal(s,{}):(global$i[s]||{}).prototype)for(n in t){if(a=t[n],i=e.noTargetGet?(o=getOwnPropertyDescriptor$1(r,n))&&o.value:r[n],!isForced(l?n:s+(c?".":"#")+n,e.forced)&&void 0!==i){if(typeof a==typeof i)continue;copyConstructorProperties(a,i)}(e.sham||i&&i.sham)&&createNonEnumerableProperty$3(a,"sham",!0),redefine$6(r,n,a,e)}},fails$9=fails$h,correctPrototypeGetter=!fails$9((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),global$h=global$C,hasOwn$3=hasOwnProperty_1,isCallable$8=isCallable$i,toObject$3=toObject$5,sharedKey=sharedKey$3,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,IE_PROTO=sharedKey("IE_PROTO"),Object$2=global$h.Object,ObjectPrototype=Object$2.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER?Object$2.getPrototypeOf:function(e){var t=toObject$3(e);if(hasOwn$3(t,IE_PROTO))return t[IE_PROTO];var r=t.constructor;return isCallable$8(r)&&t instanceof r?r.prototype:t instanceof Object$2?ObjectPrototype:null},fails$8=fails$h,isCallable$7=isCallable$i,getPrototypeOf$1=objectGetPrototypeOf,redefine$5=redefine$7.exports,wellKnownSymbol$b=wellKnownSymbol$e,ITERATOR$6=wellKnownSymbol$b("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,IteratorPrototype$2,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=getPrototypeOf$1(getPrototypeOf$1(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$2=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0);var NEW_ITERATOR_PROTOTYPE=null==IteratorPrototype$2||fails$8((function(){var e={};return IteratorPrototype$2[ITERATOR$6].call(e)!==e}));NEW_ITERATOR_PROTOTYPE&&(IteratorPrototype$2={}),isCallable$7(IteratorPrototype$2[ITERATOR$6])||redefine$5(IteratorPrototype$2,ITERATOR$6,(function(){return this}));var iteratorsCore={IteratorPrototype:IteratorPrototype$2,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},defineProperty$2=objectDefineProperty.f,hasOwn$2=hasOwnProperty_1,wellKnownSymbol$a=wellKnownSymbol$e,TO_STRING_TAG$3=wellKnownSymbol$a("toStringTag"),setToStringTag$4=function(e,t,r){e&&!r&&(e=e.prototype),e&&!hasOwn$2(e,TO_STRING_TAG$3)&&defineProperty$2(e,TO_STRING_TAG$3,{configurable:!0,value:t})},IteratorPrototype$1=iteratorsCore.IteratorPrototype,create$2=objectCreate,createPropertyDescriptor$2=createPropertyDescriptor$5,setToStringTag$3=setToStringTag$4,Iterators$4=iterators,returnThis$1=function(){return this},createIteratorConstructor$2=function(e,t,r,n){var i=t+" Iterator";return e.prototype=create$2(IteratorPrototype$1,{next:createPropertyDescriptor$2(+!n,r)}),setToStringTag$3(e,i,!1),Iterators$4[i]=returnThis$1,e},global$g=global$C,isCallable$6=isCallable$i,String$2=global$g.String,TypeError$7=global$g.TypeError,aPossiblePrototype$1=function(e){if("object"==typeof e||isCallable$6(e))return e;throw TypeError$7("Can't set "+String$2(e)+" as a prototype")},uncurryThis$b=functionUncurryThis,anObject$7=anObject$c,aPossiblePrototype=aPossiblePrototype$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=uncurryThis$b(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return anObject$7(r),aPossiblePrototype(n),t?e(r,n):r.__proto__=n,r}}():void 0),$$3=_export,call$9=functionCall,FunctionName=functionName,isCallable$5=isCallable$i,createIteratorConstructor$1=createIteratorConstructor$2,getPrototypeOf=objectGetPrototypeOf,setPrototypeOf=objectSetPrototypeOf,setToStringTag$2=setToStringTag$4,createNonEnumerableProperty$2=createNonEnumerableProperty$6,redefine$4=redefine$7.exports,wellKnownSymbol$9=wellKnownSymbol$e,Iterators$3=iterators,IteratorsCore=iteratorsCore,PROPER_FUNCTION_NAME=FunctionName.PROPER,CONFIGURABLE_FUNCTION_NAME=FunctionName.CONFIGURABLE,IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$5=wellKnownSymbol$9("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},defineIterator$2=function(e,t,r,n,i,a,o){createIteratorConstructor$1(r,t,n);var s,l,c,u=function(e){if(e===i&&g)return g;if(!BUGGY_SAFARI_ITERATORS&&e in p)return p[e];switch(e){case KEYS:case VALUES:case ENTRIES:return function(){return new r(this,e)}}return function(){return new r(this)}},h=t+" Iterator",d=!1,p=e.prototype,f=p[ITERATOR$5]||p["@@iterator"]||i&&p[i],g=!BUGGY_SAFARI_ITERATORS&&f||u(i),E="Array"==t&&p.entries||f;if(E&&(s=getPrototypeOf(E.call(new e)))!==Object.prototype&&s.next&&(getPrototypeOf(s)!==IteratorPrototype&&(setPrototypeOf?setPrototypeOf(s,IteratorPrototype):isCallable$5(s[ITERATOR$5])||redefine$4(s,ITERATOR$5,returnThis)),setToStringTag$2(s,h,!0)),PROPER_FUNCTION_NAME&&i==VALUES&&f&&f.name!==VALUES&&(CONFIGURABLE_FUNCTION_NAME?createNonEnumerableProperty$2(p,"name",VALUES):(d=!0,g=function(){return call$9(f,this)})),i)if(l={values:u(VALUES),keys:a?g:u(KEYS),entries:u(ENTRIES)},o)for(c in l)(BUGGY_SAFARI_ITERATORS||d||!(c in p))&&redefine$4(p,c,l[c]);else $$3({target:t,proto:!0,forced:BUGGY_SAFARI_ITERATORS||d},l);return p[ITERATOR$5]!==g&&redefine$4(p,ITERATOR$5,g,{name:i}),Iterators$3[t]=g,l},toIndexedObject=toIndexedObject$5,addToUnscopables$1=addToUnscopables$2,Iterators$2=iterators,InternalStateModule$3=internalState,defineProperty$1=objectDefineProperty.f,defineIterator$1=defineIterator$2,DESCRIPTORS$3=descriptors,ARRAY_ITERATOR="Array Iterator",setInternalState$3=InternalStateModule$3.set,getInternalState$2=InternalStateModule$3.getterFor(ARRAY_ITERATOR),es_array_iterator=defineIterator$1(Array,"Array",(function(e,t){setInternalState$3(this,{type:ARRAY_ITERATOR,target:toIndexedObject(e),index:0,kind:t})}),(function(){var e=getInternalState$2(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),values=Iterators$2.Arguments=Iterators$2.Array;if(addToUnscopables$1("keys"),addToUnscopables$1("values"),addToUnscopables$1("entries"),DESCRIPTORS$3&&"values"!==values.name)try{defineProperty$1(values,"name",{value:"values"})}catch(e){}var global$f=global$C,DOMIterables=domIterables,DOMTokenListPrototype=domTokenListPrototype,ArrayIteratorMethods=es_array_iterator,createNonEnumerableProperty$1=createNonEnumerableProperty$6,wellKnownSymbol$8=wellKnownSymbol$e,ITERATOR$4=wellKnownSymbol$8("iterator"),TO_STRING_TAG$2=wellKnownSymbol$8("toStringTag"),ArrayValues=ArrayIteratorMethods.values,handlePrototype=function(e,t){if(e){if(e[ITERATOR$4]!==ArrayValues)try{createNonEnumerableProperty$1(e,ITERATOR$4,ArrayValues)}catch(t){e[ITERATOR$4]=ArrayValues}if(e[TO_STRING_TAG$2]||createNonEnumerableProperty$1(e,TO_STRING_TAG$2,t),DOMIterables[t])for(var r in ArrayIteratorMethods)if(e[r]!==ArrayIteratorMethods[r])try{createNonEnumerableProperty$1(e,r,ArrayIteratorMethods[r])}catch(t){e[r]=ArrayIteratorMethods[r]}}};for(var COLLECTION_NAME in DOMIterables)handlePrototype(global$f[COLLECTION_NAME]&&global$f[COLLECTION_NAME].prototype,COLLECTION_NAME);function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}handlePrototype(DOMTokenListPrototype,"DOMTokenList");class ITConfig{constructor(){_defineProperty(this,"_events",[]),_defineProperty(this,"_specs",[]),_defineProperty(this,"_registration",[]),_defineProperty(this,"_crmConfig",{}),_defineProperty(this,"_applicationNodeId",null),_defineProperty(this,"_pageNodeId",null),_defineProperty(this,"_overlayLibraryUrl",""),_defineProperty(this,"_overrideLocalEvars",!1),_defineProperty(this,"_overrideLocalEvarsWithFunctions",!1),_defineProperty(this,"_trackFormInputFilled",!1),_defineProperty(this,"_advancedTeaserTracking",!1),_defineProperty(this,"_scrollDepthTracking",!1),_defineProperty(this,"_nodeConfiguration",null),_defineProperty(this,"_tag_manager",null),_defineProperty(this,"_is_spa",!1),_defineProperty(this,"_track_spa_params",!1),_defineProperty(this,"_send_to_cdp",!1),_defineProperty(this,"_env",null),_defineProperty(this,"_app_key",null),_defineProperty(this,"_launchScript",null),_defineProperty(this,"_engagementEvent",null),_defineProperty(this,"_isAdobeBaked",!1),_defineProperty(this,"_trackPerformanceData",!1),_defineProperty(this,"_unfolded",!1),_defineProperty(this,"_cdpEndpoint",null),_defineProperty(this,"_hasShadowDom",!1),_defineProperty(this,"_oneTrustToken",null),_defineProperty(this,"_isProductionURL",!1),_defineProperty(this,"_useParentWindowForEprivacyControl",!1),_defineProperty(this,"_redirection_handler_blocking_rules",null),_defineProperty(this,"_FPID_path","/bi-ssc-svc")}unfold(e){this._events=e.events,this._specs=e.specifications,this._registration=e.registered_events.map((e=>({name:e.event_name,selector:e.selector||null,values:e.evars,data:e.data||{}}))),this._crmConfig=e.crm_configuration||{},this._applicationNodeId=e.application_node_id,this._pageNodeId=e.page_node_id,this._overlayLibraryUrl=e.overlay_library_url,this._overrideLocalEvars=Boolean(e.override_local_evars),this._overrideLocalEvarsWithFunctions=Boolean(e.override_local_evars_with_functions),this._nodeConfiguration=e.node_configuration,this._tag_manager=e.tag_manager,this._is_spa=Boolean(e.is_spa),this._track_spa_params=Boolean(e.track_spa_params),this._send_to_cdp=Boolean(e.send_to_cdp),this._env=e.env||null,this._app_key=e.app_key||null,this._launchScript=e.launch_script||null,this._engagementEvent=e.engagement_event||null,this._isAdobeBaked=e.is_adobe_baked||!1,this._trackPerformanceData=e.track_performance_data||!1,this._cdpEndpoint=e.cdp_endpoint||null,this._hasShadowDom=Boolean(e.has_shadow_dom),this._oneTrustToken=e.one_trust_token||null,this._isProductionURL=e.is_production_url||!1,this._useParentWindowForEprivacyControl=e.use_parent_window_for_eprivacy_control||!1,this._redirection_handler_blocking_rules=e.redirection_handler_blocking_rules,this._unfolded=!0}getEvar(e){return this._specs.find((t=>t.evar_name===e))||null}getEvent(e){return this._events.find((t=>t.event_name===e))||null}getDataAttributes(){const e=[];return this._events.forEach((t=>{t.data_attribute_trigger_name&&e.push(t.data_attribute_trigger_name)})),e}getNodeConfiguration(){return this._nodeConfiguration}get tagManagerName(){return this._tag_manager||""}get appKey(){return this._app_key}get overlayLibraryUrl(){return this._overlayLibraryUrl}get trackFormInputFilled(){return this._trackFormInputFilled}set trackFormInputFilled(e){this._trackFormInputFilled=e}get specs(){return this._specs}get events(){return this._events}get crm(){return this._crmConfig}get registration(){return this._registration}get applicationNodeId(){return this._applicationNodeId}get pageNodeId(){return this._pageNodeId}get overrideLocalEvars(){return this._overrideLocalEvars}get overrideLocalEvarsWithFunctions(){return this._overrideLocalEvarsWithFunctions}get scrollDepthTracking(){return this._scrollDepthTracking}set scrollDepthTracking(e){this._scrollDepthTracking=e}get advancedTeaserTracking(){return this._advancedTeaserTracking}set advancedTeaserTracking(e){this._advancedTeaserTracking=e}get is_spa(){return this._is_spa}get track_spa_params(){return this._track_spa_params}get send_to_cdp(){return this._send_to_cdp}get cdpEndpoint(){return this._cdpEndpoint}get env(){return this._env}get launchScriptUrl(){return this._launchScript}get isAdobeBaked(){return this._isAdobeBaked}get trackPerformanceData(){return this._trackPerformanceData}get version(){return"0.3.52"}get engagementEvent(){return this._engagementEvent}get isUnfolded(){return this._unfolded}get hasShadowDom(){return this._hasShadowDom}get oneTrustToken(){return this._oneTrustToken}get isProductionURL(){return this._isProductionURL}get useParentWindowForEprivacyControl(){return this._useParentWindowForEprivacyControl}get redirectionHandler(){return{blockedCssSelectors:this._redirection_handler_blocking_rules}}get FPIDPath(){return this._FPID_path}set FPIDPath(e){this._FPID_path=e}}var itConfig=new ITConfig,NATIVE_BIND$1=functionBindNative,FunctionPrototype=Function.prototype,apply$1=FunctionPrototype.apply,call$8=FunctionPrototype.call,functionApply="object"==typeof Reflect&&Reflect.apply||(NATIVE_BIND$1?call$8.bind(apply$1):function(){return call$8.apply(apply$1,arguments)}),wellKnownSymbol$7=wellKnownSymbol$e,TO_STRING_TAG$1=wellKnownSymbol$7("toStringTag"),test$1={};test$1[TO_STRING_TAG$1]="z";var toStringTagSupport="[object z]"===String(test$1),global$e=global$C,TO_STRING_TAG_SUPPORT=toStringTagSupport,isCallable$4=isCallable$i,classofRaw=classofRaw$1,wellKnownSymbol$6=wellKnownSymbol$e,TO_STRING_TAG=wellKnownSymbol$6("toStringTag"),Object$1=global$e.Object,CORRECT_ARGUMENTS="Arguments"==classofRaw(function(){return arguments}()),tryGet=function(e,t){try{return e[t]}catch(e){}},classof$5=TO_STRING_TAG_SUPPORT?classofRaw:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=tryGet(t=Object$1(e),TO_STRING_TAG))?r:CORRECT_ARGUMENTS?classofRaw(t):"Object"==(n=classofRaw(t))&&isCallable$4(t.callee)?"Arguments":n},global$d=global$C,classof$4=classof$5,String$1=global$d.String,toString$4=function(e){if("Symbol"===classof$4(e))throw TypeError("Cannot convert a Symbol value to a string");return String$1(e)},anObject$6=anObject$c,regexpFlags$1=function(){var e=anObject$6(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},fails$7=fails$h,global$c=global$C,$RegExp$2=global$c.RegExp,UNSUPPORTED_Y$1=fails$7((function(){var e=$RegExp$2("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),MISSED_STICKY=UNSUPPORTED_Y$1||fails$7((function(){return!$RegExp$2("a","y").sticky})),BROKEN_CARET=UNSUPPORTED_Y$1||fails$7((function(){var e=$RegExp$2("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),regexpStickyHelpers={BROKEN_CARET:BROKEN_CARET,MISSED_STICKY:MISSED_STICKY,UNSUPPORTED_Y:UNSUPPORTED_Y$1},fails$6=fails$h,global$b=global$C,$RegExp$1=global$b.RegExp,regexpUnsupportedDotAll=fails$6((function(){var e=$RegExp$1(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),fails$5=fails$h,global$a=global$C,$RegExp=global$a.RegExp,regexpUnsupportedNcg=fails$5((function(){var e=$RegExp("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),call$7=functionCall,uncurryThis$a=functionUncurryThis,toString$3=toString$4,regexpFlags=regexpFlags$1,stickyHelpers=regexpStickyHelpers,shared=shared$4.exports,create$1=objectCreate,getInternalState$1=internalState.get,UNSUPPORTED_DOT_ALL=regexpUnsupportedDotAll,UNSUPPORTED_NCG=regexpUnsupportedNcg,nativeReplace=shared("native-string-replace",String.prototype.replace),nativeExec=RegExp.prototype.exec,patchedExec=nativeExec,charAt$6=uncurryThis$a("".charAt),indexOf=uncurryThis$a("".indexOf),replace$4=uncurryThis$a("".replace),stringSlice$5=uncurryThis$a("".slice),UPDATES_LAST_INDEX_WRONG=(re1=/a/,re2=/b*/g,call$7(nativeExec,re1,"a"),call$7(nativeExec,re2,"a"),0!==re1.lastIndex||0!==re2.lastIndex),re1,re2,UNSUPPORTED_Y=stickyHelpers.BROKEN_CARET,NPCG_INCLUDED=void 0!==/()??/.exec("")[1],PATCH=UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED||UNSUPPORTED_Y||UNSUPPORTED_DOT_ALL||UNSUPPORTED_NCG;PATCH&&(patchedExec=function(e){var t,r,n,i,a,o,s,l=this,c=getInternalState$1(l),u=toString$3(e),h=c.raw;if(h)return h.lastIndex=l.lastIndex,t=call$7(patchedExec,h,u),l.lastIndex=h.lastIndex,t;var d=c.groups,p=UNSUPPORTED_Y&&l.sticky,f=call$7(regexpFlags,l),g=l.source,E=0,m=u;if(p&&(f=replace$4(f,"y",""),-1===indexOf(f,"g")&&(f+="g"),m=stringSlice$5(u,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==charAt$6(u,l.lastIndex-1))&&(g="(?: "+g+")",m=" "+m,E++),r=new RegExp("^(?:"+g+")",f)),NPCG_INCLUDED&&(r=new RegExp("^"+g+"$(?!\\s)",f)),UPDATES_LAST_INDEX_WRONG&&(n=l.lastIndex),i=call$7(nativeExec,p?r:l,m),p?i?(i.input=stringSlice$5(i.input,E),i[0]=stringSlice$5(i[0],E),i.index=l.lastIndex,l.lastIndex+=i[0].length):l.lastIndex=0:UPDATES_LAST_INDEX_WRONG&&i&&(l.lastIndex=l.global?i.index+i[0].length:n),NPCG_INCLUDED&&i&&i.length>1&&call$7(nativeReplace,i[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&d)for(i.groups=o=create$1(null),a=0;a<d.length;a++)o[(s=d[a])[0]]=i[s[1]];return i});var regexpExec$2=patchedExec,$$2=_export,exec$3=regexpExec$2;$$2({target:"RegExp",proto:!0,forced:/./.exec!==exec$3},{exec:exec$3});var uncurryThis$9=functionUncurryThis,redefine$3=redefine$7.exports,regexpExec$1=regexpExec$2,fails$4=fails$h,wellKnownSymbol$5=wellKnownSymbol$e,createNonEnumerableProperty=createNonEnumerableProperty$6,SPECIES=wellKnownSymbol$5("species"),RegExpPrototype=RegExp.prototype,fixRegexpWellKnownSymbolLogic=function(e,t,r,n){var i=wellKnownSymbol$5(e),a=!fails$4((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),o=a&&!fails$4((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[SPECIES]=function(){return r},r.flags="",r[i]=/./[i]),r.exec=function(){return t=!0,null},r[i](""),!t}));if(!a||!o||r){var s=uncurryThis$9(/./[i]),l=t(i,""[e],(function(e,t,r,n,i){var o=uncurryThis$9(e),l=t.exec;return l===regexpExec$1||l===RegExpPrototype.exec?a&&!i?{done:!0,value:s(t,r,n)}:{done:!0,value:o(r,t,n)}:{done:!1}}));redefine$3(String.prototype,e,l[0]),redefine$3(RegExpPrototype,i,l[1])}n&&createNonEnumerableProperty(RegExpPrototype[i],"sham",!0)},uncurryThis$8=functionUncurryThis,toIntegerOrInfinity$1=toIntegerOrInfinity$4,toString$2=toString$4,requireObjectCoercible$1=requireObjectCoercible$4,charAt$5=uncurryThis$8("".charAt),charCodeAt$1=uncurryThis$8("".charCodeAt),stringSlice$4=uncurryThis$8("".slice),createMethod=function(e){return function(t,r){var n,i,a=toString$2(requireObjectCoercible$1(t)),o=toIntegerOrInfinity$1(r),s=a.length;return o<0||o>=s?e?"":void 0:(n=charCodeAt$1(a,o))<55296||n>56319||o+1===s||(i=charCodeAt$1(a,o+1))<56320||i>57343?e?charAt$5(a,o):n:e?stringSlice$4(a,o,o+2):i-56320+(n-55296<<10)+65536}},stringMultibyte={codeAt:createMethod(!1),charAt:createMethod(!0)},charAt$4=stringMultibyte.charAt,advanceStringIndex$1=function(e,t,r){return t+(r?charAt$4(e,t).length:1)},uncurryThis$7=functionUncurryThis,toObject$2=toObject$5,floor$3=Math.floor,charAt$3=uncurryThis$7("".charAt),replace$3=uncurryThis$7("".replace),stringSlice$3=uncurryThis$7("".slice),SUBSTITUTION_SYMBOLS=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&'`]|\d{1,2})/g,getSubstitution$1=function(e,t,r,n,i,a){var o=r+e.length,s=n.length,l=SUBSTITUTION_SYMBOLS_NO_NAMED;return void 0!==i&&(i=toObject$2(i),l=SUBSTITUTION_SYMBOLS),replace$3(a,l,(function(a,l){var c;switch(charAt$3(l,0)){case"$":return"$";case"&":return e;case"`":return stringSlice$3(t,0,r);case"'":return stringSlice$3(t,o);case"<":c=i[stringSlice$3(l,1,-1)];break;default:var u=+l;if(0===u)return a;if(u>s){var h=floor$3(u/10);return 0===h?a:h<=s?void 0===n[h-1]?charAt$3(l,1):n[h-1]+charAt$3(l,1):a}c=n[u-1]}return void 0===c?"":c}))},global$9=global$C,call$6=functionCall,anObject$5=anObject$c,isCallable$3=isCallable$i,classof$3=classofRaw$1,regexpExec=regexpExec$2,TypeError$6=global$9.TypeError,regexpExecAbstract=function(e,t){var r=e.exec;if(isCallable$3(r)){var n=call$6(r,e,t);return null!==n&&anObject$5(n),n}if("RegExp"===classof$3(e))return call$6(regexpExec,e,t);throw TypeError$6("RegExp#exec called on incompatible receiver")},apply=functionApply,call$5=functionCall,uncurryThis$6=functionUncurryThis,fixRegExpWellKnownSymbolLogic=fixRegexpWellKnownSymbolLogic,fails$3=fails$h,anObject$4=anObject$c,isCallable$2=isCallable$i,toIntegerOrInfinity=toIntegerOrInfinity$4,toLength=toLength$2,toString$1=toString$4,requireObjectCoercible=requireObjectCoercible$4,advanceStringIndex=advanceStringIndex$1,getMethod$2=getMethod$4,getSubstitution=getSubstitution$1,regExpExec=regexpExecAbstract,wellKnownSymbol$4=wellKnownSymbol$e,REPLACE=wellKnownSymbol$4("replace"),max$1=Math.max,min=Math.min,concat$1=uncurryThis$6([].concat),push$4=uncurryThis$6([].push),stringIndexOf=uncurryThis$6("".indexOf),stringSlice$2=uncurryThis$6("".slice),maybeToString=function(e){return void 0===e?e:String(e)},REPLACE_KEEPS_$0="$0"==="a".replace(/./,"$0"),REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE=!!/./[REPLACE]&&""===/./[REPLACE]("a","$0"),REPLACE_SUPPORTS_NAMED_GROUPS=!fails$3((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));fixRegExpWellKnownSymbolLogic("replace",(function(e,t,r){var n=REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE?"$":"$0";return[function(e,r){var n=requireObjectCoercible(this),i=null==e?void 0:getMethod$2(e,REPLACE);return i?call$5(i,e,n,r):call$5(t,toString$1(n),e,r)},function(e,i){var a=anObject$4(this),o=toString$1(e);if("string"==typeof i&&-1===stringIndexOf(i,n)&&-1===stringIndexOf(i,"$<")){var s=r(t,a,o,i);if(s.done)return s.value}var l=isCallable$2(i);l||(i=toString$1(i));var c=a.global;if(c){var u=a.unicode;a.lastIndex=0}for(var h=[];;){var d=regExpExec(a,o);if(null===d)break;if(push$4(h,d),!c)break;""===toString$1(d[0])&&(a.lastIndex=advanceStringIndex(o,toLength(a.lastIndex),u))}for(var p="",f=0,g=0;g<h.length;g++){for(var E=toString$1((d=h[g])[0]),m=max$1(min(toIntegerOrInfinity(d.index),o.length),0),v=[],_=1;_<d.length;_++)push$4(v,maybeToString(d[_]));var y=d.groups;if(l){var S=concat$1([E],v,m,o);void 0!==y&&push$4(S,y);var T=toString$1(apply(i,void 0,S))}else T=getSubstitution(E,o,m,v,y,i);m>=f&&(p+=stringSlice$2(o,f,m)+T,f=m+E.length)}return p+stringSlice$2(o,f)}]}),!REPLACE_SUPPORTS_NAMED_GROUPS||!REPLACE_KEEPS_$0||REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);const itLogStyleError="background-color: red; color: white; font-weight:bold;",logError=e=>{console.error("%cInstatag:",itLogStyleError,e)};function _key(e){if("*"===e)return 1/0;const t=parseInt(e);return isNaN(t)?e:t}function validateArrayContext(e,t){return void 0===t?!e.length:(void 0===t||0!==e.length)&&validateArrayContext(e.slice(1),t[e[0]])}function set(e,t,r){let n=e;if("string"==typeof e&&(n=e.split(".")),0===n.length)return t;const i=_key(n[0]);if(r||(r="number"==typeof i?[]:{}),"number"==typeof i&&Number.isFinite(i)&&(r[i]=set(n.slice(1),t,r[i])),"string"==typeof i&&(r[i]=set(n.slice(1),t,r[i])),"number"==typeof i&&!Number.isFinite(i)){const e=r.filter((e=>validateArrayContext(n.slice(1),e))),i=set(n.slice(1),t,e.length?e[0]:null),a=JSON.stringify(i);-1===r.findIndex((e=>JSON.stringify(e)===a))&&r.push(i)}return r}function get(e,t){if("string"==typeof e&&(e=e.split(".")),0===e.length)return t;if(void 0===t)return t;const r=_key(e[0]);if("number"==typeof r&&!Number.isFinite(r))return get(e.slice(1),t);if(Array.isArray(t)&&"string"==typeof r){const n=t.reduce(((e,t)=>(e.push(t[r]),e)),[]);return get(e.slice(1),n)}return get(e.slice(1),t[r])}const adobeVarsNameByeVarFQN={"digitalData.website.websiteInfo.opu":"all_opu","digitalData.website.websiteInfo.websiteTitle":"all_domain","digitalData.website.websiteInfo.websiteBusiness":"all_websiteBusiness","digitalData.website.websiteInfo.websitePromotionType":"all_websiteType","digitalData.website.websiteInfo.websiteTarget":"all_websiteTarget","digitalData.website.websiteInfo.websiteTA":"all_websiteTA","digitalData.page.pageInfo.pageName":"content_pageName","digitalData.page.pageCategory.contentType":"content_contentType","digitalData.page.pageCategory.primaryCategory":"content_channel","digitalData.page.pageCategory.subCategory":"content_subCategory","digitalData.page.pageCategory.subSubCategory":"content_subSubCategory","digitalData.page.pageInfo.tags":"content_tags","digitalData.user.profile.profileInfo.loginStatus":"visitor_loginStatus","digitalData.member.memberID":"customerTrackingPreference","digitalData.brandInfo.brandName":"all_brand","digitalData.brandInfo.indication":"all_brandIndication","digitalData.page.pageInfo.country":"content_country","digitalData.website.websiteInfo.websiteTagManagerName":"all_websiteTagManagerName","digitalData.page.pageCategory.contentSubType":"content_SubType","digitalData.website.websiteInfo.websiteTagManagerLibVersion":"all_websiteTagManagerLibVersion","digitalData.meetingInfo.meetingID":"One Meeting ID"},parseAdobeVarName=e=>adobeVarsNameByeVarFQN[e]||null,getDataElementConfig=(e,t)=>{const r=parseAdobeVarName(e);if(!r)return null;let n=null;try{var i,a,o;n=null===(i=window._satellite)||void 0===i||null===(a=i._container)||void 0===a||null===(o=a.dataElements)||void 0===o?void 0:o[r][t]}catch(e){return null}return n},CONDITIONS={EQUALS:"Equals",NOT_EQUALS:"Not Equals",CONTAINS:"Contains",DOES_NOT_CONTAIN:"Does Not Contain",IS_SET:"Is set",IS_NOT_SET:"Is not set"},VAR_TYPES={EVAR:"EVAR",CUSTOM_VAR:"CUSTOM_VAR"},INC_IN_HEAD_EVENT="pseudo1",CUSTOM_EVENT_DATA_ATTR="data-it-rule-has-custom-event",RULE_EMPTY_SELECTOR_KEY="__noSelectorEvent",wildcardToRegExp=e=>new RegExp("^.*"+e.split(/\*+/).map(regExpEscape).join(".*")+".*$","gm"),regExpEscape=e=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");function getSnippetRulesToEventsMap(e){const t={[RULE_EMPTY_SELECTOR_KEY]:[]};return e.forEach((e=>{if(!e.selector)return void t[RULE_EMPTY_SELECTOR_KEY].push(e);e.selector.split(",").forEach((r=>{t[r]?t[r].push(e):t[r]=[e]}))})),t[RULE_EMPTY_SELECTOR_KEY].length||delete t[RULE_EMPTY_SELECTOR_KEY],t}function getDynamicVariableValue(e,t){const r=window.s||{};if(!r)return e;if(!e||"string"!=typeof e)return e;let n=e;const i=instatag.snippetDynamicVariablePrefix;if(n.substring(0,i.length)===i){const a=e.substring(i.length),o=(null==t?void 0:t[a])||r[a];n="string"==typeof o?o:n}return n}function getDoPluginEvarValue(e,t){if(!e)return"";const r=e.evar_name;let n=null;if(t&&void 0!==t[r])return n=t[r],Array.isArray(n)&&(n=n[0]||""),getDynamicVariableValue(n,t);if(n=get(e.evar_fqn,window),!n){n=(window.s||{})[r]||n}return Array.isArray(n)&&(n=n[0]||""),getDynamicVariableValue(n,t)}const getEvarSpecByFqn=e=>{const t=(instatag.config||{}).specs||[];if(!t.length)return;const r=t.filter((t=>t.evar_fqn===e));return r.length?r[0]:void 0},isArrayContains=(e,t)=>{let r=!1;for(let n=0;n<e.length;n++){const i=e[n];if(r=t.test(i),r)break}return r},isArrayEquals=(e,t)=>{let r=!1;for(let n=0;n<e.length;n++){if(e[n]===t){r=!0;break}}return r};function isFilterMatchValue(e,t){let r=!1;const n=Array.isArray(e);if((t=prepareFilterByAdobeVarConfig(t)).condition===CONDITIONS.EQUALS&&(r=n?isArrayEquals(e,t.value):e===t.value),t.condition===CONDITIONS.NOT_EQUALS&&(r=n?!isArrayEquals(e,t.value):e!==t.value),t.condition===CONDITIONS.CONTAINS&&("string"==typeof e||n)){const i=wildcardToRegExp(t.value);r=n?isArrayContains(e,i):i.test(e)}if(t.condition===CONDITIONS.DOES_NOT_CONTAIN&&("string"==typeof e||n)){const i=wildcardToRegExp(t.value);r=n?!isArrayContains(e,i):!i.test(e)}return t.condition===CONDITIONS.IS_SET&&(r=n?Boolean(e.length):Boolean(e)),t.condition===CONDITIONS.IS_NOT_SET&&(r=n?!e.length:!e),r}function prepareFilterByAdobeVarConfig(e){if(!e.variable_fqn)return e;if(!(getDataElementConfig(e.variable_fqn,"forceLowerCase")||!1))return e;const t=Object.assign({},e);try{t.value=t.value.toLowerCase()}catch(t){return e}return t}function canExecuteRuleSnippet(e,t){const r="(%expression%)";let n="",i="";for(let a=0;a<e.length;a++){const o=e[a];o.operator&&(n+=" ".concat(o.operator," ")),!o.filters||o.filters.length?(o.filters.forEach((e=>{if(e.operator&&(i+=" ".concat(e.operator," ")),e.var_type===VAR_TYPES.EVAR&&e.variable_fqn){const r=isFilterMatchValue(getDoPluginEvarValue(getEvarSpecByFqn(e.variable_fqn),t),e);i+=r}if(e.var_type===VAR_TYPES.CUSTOM_VAR)try{const t=isFilterMatchValue(new Function("try { return ".concat(e.variable,"; } catch(e) { return undefined; }"))(),e);i+=t}catch(e){i+="false"}})),n+=r.replace("%expression%",i),i=""):(n+=r.replace("%expression%","true"),i="")}n=n.replace(/OR/g,"||").replace(/AND/g,"&&");const a=new Function("return ".concat(n));try{return a()}catch(e){return!1}}function runSnippets(e,t){const r=instatag.snippetLookupTable,n=(instatag.ePrivacyPolicy||{}).specs;e.forEach((e=>{const i=r[e];i&&i.forEach((r=>{let i=!0,a=!0;if(n&&r.policy_cookie_name){var o;const e=null===(o=instatag.ePrivacyPolicy)||void 0===o?void 0:o.$getSpecByPolicy(r.policy_cookie_name);a=!!e&&Boolean(e.run_snippet)}if(!a&&e!==INC_IN_HEAD_EVENT)return;var s;if(r.filters.length&&r.filters.length>0&&(i=canExecuteRuleSnippet(r.filters,t)),i&&!a&&e===INC_IN_HEAD_EVENT&&r.policy_cookie_name)return void(null===(s=instatag.ePrivacyPolicy)||void 0===s||s.$addToBuffer(r.policy_cookie_name,r.fn));const l={eventName:e===INC_IN_HEAD_EVENT?"event1":e,isKpiEvent:r.kpi_event,kpiDescription:r.description||"",doPluginEvarValues:t};if(i&&a)try{r.fn(window,document,l)}catch(e){logError("Snippet exec error: ".concat(e))}}))}))}function normalizeEventName(e){const t=e.indexOf("=");return-1===t?e:e.substring(0,t)}function doPlugins(e){const t=window.s;if(t.abort)return;t.dynamicVariablePrefix&&(instatag.snippetDynamicVariablePrefix=t.dynamicVariablePrefix);const r=(e.events||[]).map(normalizeEventName).sort();if(window.s&&"e"===window.s.linkType){var n;r.push("exitLinkEvent");const t=null===(n=instatag.eventRegister.getEvent("exitLinkEvent"))||void 0===n?void 0:n.getEvar("eVarExitURL");var i,a,o,s,l;if(t)null!==(a=(i=null!==(s=(o=null!==(l=e)&&void 0!==l?l:e={events:[]}).evars)&&void 0!==s?s:o.evars={}).eVarExitURL)&&void 0!==a||(i.eVarExitURL=String(t.instatagValue||t.value))}runSnippets(r,(e||{}).evars||{}),instatag.engagementEventHandler&&instatag.engagementEventHandler.fire(r)}const ITEVENT_DEFAULT_OPTIONS={populateDigitalData:!0,callAfterFunction:!0,callBeforeFunction:!0,cleanupDigitalData:null,callSatellite:null,appendEventToDigitalData:null,fireOnlyOnce:!1,fireOnStartup:!1,fireOnlyNewestElement:!1,fireOnSubmitTextVisible:!1,skipDomEventBubble:!1},DOM_EVENT_NAMES={DOMContentLoaded:"DOMContentLoaded"},EXEC_DOM_EVENT_DIRECTLY_ON_READY_STATE={DOMContentLoaded:["interactive","complete"]},REGEX_FUNCTION=/^function/,REGEX_CSS=/^CSS:\/\/(.*)/,REGEX_XPATH=/^XPATH:\/\/(.*)/,IT_OL_KEY="aGFja2VyX21ldHpnZXJfZmxlaXNjaHd1cnN0PWxlY2tlcg",PAGE_VIEW_EVENT="event1",ITEVENTS_TO_AVOID_VISIBILITY_CHECK=["userIsAuthenticated","event2"],domLoadHandlers=[];let domLoadListener=!1;function flushHandlers(e){const t=domLoadHandlers.shift();t&&t(e),domLoadHandlers.length&&flushHandlers(e)}function isDomLoaded(){return EXEC_DOM_EVENT_DIRECTLY_ON_READY_STATE[DOM_EVENT_NAMES.DOMContentLoaded].indexOf(document.readyState)>-1}function onDomLoad(e){domLoadHandlers.push(e),isDomLoaded()?flushHandlers():domLoadListener||(document.addEventListener(DOM_EVENT_NAMES.DOMContentLoaded,(e=>{flushHandlers(e)}),!0),domLoadListener=!0)}function appendScript(e){const t=document.createElement("script");t.src=e,document.head.appendChild(t)}function getQueryParam(e,t){return getParamResult(e,"",t)}function getQueryParamInsensitive(e,t){return getParamResult(e,"i",t)}function getParamResult(e,t,r){r||(r=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)",t).exec(r);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function _ensureSession(){const e=getQueryParam("itToken");return!!("1"===getQueryParam(IT_OL_KEY)&&e&&e.length>0)&&(sessionStorage.setItem(IT_OL_KEY,e),!0)}function loadOverlayLibrary(e){_ensureSession();const t=sessionStorage.getItem(IT_OL_KEY);t&&t.length>0?appendScript(e+"/"+sessionStorage.getItem(IT_OL_KEY)):sessionStorage.removeItem(IT_OL_KEY)}var addToUnscopables=addToUnscopables$2;function testXPathSelector(e,t){const r=document.evaluate(e,document,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let e=0;e<r.snapshotLength;e++)if(r.snapshotItem(e)===t)return!0;return!1}function testCSSSelector(e,t){return t.matches(e)}function test(e,t){let r=REGEX_CSS.exec(e);return r?testCSSSelector(r[1],t):(r=REGEX_XPATH.exec(e),r?testXPathSelector(r[1],t):testCSSSelector(e,t))}function queryCss(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return[...t.querySelectorAll(e)]}function queryShadowDOM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;function r(e){return null!=e}const n=[...t.querySelectorAll("*")].map((e=>e.shadowRoot)).filter(r),i=n.map((t=>queryShadowDOM(e,t))),a=t.querySelectorAll(e);return[...a,...i].flat()}function isSelectorValid(e,t){try{return t.querySelector(e),!0}catch{return!1}}function queryAll(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;if(!(t instanceof Element))return[];if(!isSelectorValid(e,t))return[];const r=itConfig.hasShadowDom?queryShadowDOM:queryCss,n=REGEX_CSS.exec(e);return n&&n[1]&&(e=n[1]),r(e,t)}addToUnscopables("flat");const DATA_LAYER_EVENT_TRIGGER="multievent";function push$3(e){void 0===window.adobeDataLayer&&(window.adobeDataLayer=[]),e.event&&e.event===DATA_LAYER_EVENT_TRIGGER||(e.event=DATA_LAYER_EVENT_TRIGGER),e.eventList&&0!==e.eventList.length&&window.adobeDataLayer.push(e)}var adobeEventsMap={all_pages:"event1",loginSuccess:"event2",visitor_loginComplete:"event2",trackInternalSearch:"event3",internalSearch:"event3",assetView:"event5",trackAssetDownload:"event6",trackServiceToolStart:"event8",trackServiceComplete:"event9",trackSelfDetailingStart:"event10",trackSelfDetailingComplete:"event11",forms_formStart:"event12",formStart:"event12",forms_formSubmit:"event13",formSubmit:"event13",forms_registrationStart:"event14",registrationStart:"event14",forms_registrationSubmit:"event15",registrationSubmit:"event15",mediaTracking_start:"event22",mediaTracking_playTime:"event23",mediaTracking_complete:"event28",trackButton:"event29",SurveyStart:"event33",SurveySubmit:"event34",PollStart:"event35",PollSubmit:"event36",contentVoted:"event53",content_engagement_track:"event56",teaserView:"event75",teaserClick:"event76",productListView:"event116",productView:"event37",product_view:"event37",checkoutView:"event38",checkout_page_view:"event38",orderReview:"event39",order_review_page:"event39",soft_authentication:"event95",customExitClick:"customExitLink",cartAddition:"scAdd",cartRemoval:"scRemove",cartView:"scView",cart_view:"scView",cartCheckout:"scCheckout",orderConfirmation:"purchase",order_confirmation_page:"purchase",paymentStart:"event91",payment_start_page:"event91",paymentComplete:"event92",payment_complete_page:"event92",sellerProduct:"event78",seller_view:"event78",sellerRedirectWTB:"event79",trackButtonView:"event77",Button_view:"event77",getDirectionsClicked:"event88",courseStart:"event51",course_courseStart:"event51",courseComplete:"event52",course_courseComplete:"event52",courseJoin:"eventt87",course_courseJoin:"eventt87",moduleStart:"event85",module_moduleStart:"event85",moduleComplete:"event86",module_moduleComplete:"event86",forms_inputChange:"event112",returnProduct:"event113",shoppingCart_returnProductTracking:"event113",errorTracking:"event115",optin:"event16"};const assignValue=(e,t,r)=>{if(!e)throw new Error("Target object is undefined or null.");const n=t.split("."),i=n.pop();let a=e;for(const e of n)e in a&&"object"==typeof a[e]&&null!==a[e]||(a[e]={}),a=a[e];a[i]=r},deepClone=e=>window.structuredClone?window.structuredClone(e):JSON.parse(JSON.stringify(e));class DataLayerManager{constructor(){_defineProperty(this,"dd",{digitalData:{}}),_defineProperty(this,"events",[]),_defineProperty(this,"pageViewEventData",null),_defineProperty(this,"digitalDataSnapshot",null),_defineProperty(this,"appendableEventNamesSnapshot",[])}setInitialData(e){var t;if(!Object.keys(e).length)return;this.dd.digitalData=deepClone(e),this.digitalDataSnapshot=deepClone(e);const r=e.event&&e.event.eventInfo||[];this.dd.digitalData.event&&delete this.dd.digitalData.event,null!==(t=this.digitalDataSnapshot)&&void 0!==t&&t.event&&delete this.digitalDataSnapshot.event,r.length&&(this.appendableEventNamesSnapshot=r.map((e=>adobeEventsMap[e.eventName]||e.eventName)))}applyValues(e,t){t===PAGE_VIEW_EVENT&&(e=this.applyDataContext(e,this.dd),this.pageViewEventData=e),e.forEach((e=>{set(e.path,e.value,this.dd)})),t===PAGE_VIEW_EVENT&&(window.digitalData=deepClone(this.dd.digitalData)),t&&-1===this.events.indexOf(t)&&this.events.push(t)}applyDataContext(e,t){return 0==e.length?e:e.filter((e=>{if(null===e.source&&null===e.value){const r=get(e.path,t);null!=r&&(e.value=r)}return e}))}push(){const e={};if(this.events.indexOf(PAGE_VIEW_EVENT)>=0&&this.appendableEventNamesSnapshot.length){const e=this.appendableEventNamesSnapshot.filter((e=>-1===this.events.indexOf(e)));this.events=this.events.concat(e),this.appendableEventNamesSnapshot=[]}e.eventList=this.events.join(","),Object.assign(e,this.dd.digitalData),push$3(e),this.reset()}pushWithCurrentDigitalData(e){const t={digitalData:{}};this._applySnapshotValues(t);push$3(Object.assign(t.digitalData,window.digitalData,{eventList:e}))}reset(){this.dd={digitalData:{}},this._applySnapshotValues(this.dd),this.events=[]}modifyPageViewEventData(e,t){var r;const n=null===(r=this.pageViewEventData)||void 0===r?void 0:r.findIndex((t=>(Array.isArray(t.path)?t.path.join("."):t.path)===e));n&&this.pageViewEventData&&(this.pageViewEventData[n].value=t,assignValue(window.digitalData,e.replace("digitalData.",""),t),this.reset())}_applySnapshotValues(e){return this.digitalDataSnapshot&&(e.digitalData=deepClone(this.digitalDataSnapshot)),this.pageViewEventData&&this.pageViewEventData.forEach((t=>{set(t.path,t.value,e)})),e}}var EventDataLayer=new DataLayerManager;class EventsQueue{constructor(){_defineProperty(this,"_queue",[]),_defineProperty(this,"_combinedEvents",null)}get hasCombinedEvents(){return!!this._combinedEvents&&this._combinedEvents.filter((e=>e.name)).length>0}get isEmpty(){return 0===this._queue.length}get queue(){return this._queue}_processQueue(){const e=this._queue.shift(),t=Array.isArray(e);if(!e||t&&0===e.length){if(this.isEmpty)return;this._processQueue()}else t?this._processCombinedEvents(e):EventDataLayer.applyValues(e.evars,e.name),EventDataLayer.push(),this.isEmpty||this._processQueue()}_processCombinedEvents(e){const t={};for(let r=0;r<e.length;r++){const n=e[r];!1===n.combine?n.name&&(delete n.combine,t[n.name]=t[n.name]?t[n.name].concat(n):[n]):EventDataLayer.applyValues(n.evars,n.name)}const r=Object.keys(t);r.length&&r.forEach((e=>this._queue.unshift(t[e])))}combine(e){this._combinedEvents=[],this.queue.push(this._combinedEvents),e(),this._combinedEvents=null,this._processQueue()}enqueue(e){return this._combinedEvents?(this._combinedEvents.push(e),!0):!!e.name&&(this.isEmpty?(this._queue.push(e),this._processQueue()):this._queue.push(e),!0)}}var EventsQueue$1=new EventsQueue;function mitt(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map((function(e){e(r)})),(n=e.get("*"))&&n.slice().map((function(e){e(t,r)}))}}}const emitter=mitt();var eventBus={events:{BEFORE_SPA_CHANGE:"it:before-spa-page-change",AFTER_SPA_CHANGE:"it:after-spa-page-change"},emitter:emitter};const EVENTS={runtime:[],pageView:[],[DOM_EVENT_NAMES.DOMContentLoaded]:[]},LISTENERS={},EVENTS_BOOT_ORDER=["runtime",DOM_EVENT_NAMES.DOMContentLoaded,"pageView"];let HANDLE_DOM_EVENTS=!0;class EventRegister{constructor(){_defineProperty(this,"_booted",void 0),_defineProperty(this,"_observer",null),this._booted=!1,eventBus.emitter.on(eventBus.events.BEFORE_SPA_CHANGE,this._onBeforeSpaPageChange.bind(this)),eventBus.emitter.on(eventBus.events.AFTER_SPA_CHANGE,this._onAfterSpaPageChange.bind(this))}static _addElements(e){if(!e.selector)return[];const t=queryAll(e.selector),r=[];for(let n=0;n<t.length;n++){const i=t[n];e.addElement(i)&&r.push(i)}return r}get eventsBootOrder(){return Object.keys(EVENTS).sort(((e,t)=>{const r=EVENTS_BOOT_ORDER.indexOf(e),n=EVENTS_BOOT_ORDER.indexOf(t);return r>=0&&n<0?-1:n>=0&&r<0?1:r>=0&&n>=0?r-n:0}))}disable(){HANDLE_DOM_EVENTS=!1}enable(){HANDLE_DOM_EVENTS=!0}boot(){if(this._booted)return!1;this._booted=!0,EventsQueue$1.combine((()=>{this.eventsBootOrder.forEach((e=>{EVENTS[e].forEach((e=>this.bootEvent(e)))}))})),this._observer=new MutationObserver(this._handleDomChange.bind(this)),this._observer.observe(document.body,{childList:!0,subtree:!0,attributeFilter:["class"].concat(itConfig.getDataAttributes())})}bootEvent(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&e.elements.length&&e.cleanupDisconnectedElements(),this.addListeners(e),e.options.fireOnStartup)return void e.fire(window.document.head);const t=this._shouldDispatch(e),r=EventRegister._addElements(e);t&&r.forEach((t=>e.fireIfValid(t)))}addListeners(e){e.getDomEventNames().forEach((e=>{e===DOM_EVENT_NAMES.DOMContentLoaded&&isDomLoaded()||LISTENERS[e]||(document.documentElement.addEventListener(e,this._eventOccurred,!0),LISTENERS[e]=()=>{document.documentElement.removeEventListener(e,this._eventOccurred,!0)})}))}addEvent(e){const t=e.getDomEventNames();t.length?t.forEach((t=>{EVENTS[t]?EVENTS[t].push(e):EVENTS[t]=[e]})):e.name===PAGE_VIEW_EVENT?EVENTS.pageView.push(e):EVENTS.runtime.push(e),this._booted&&this.bootEvent(e)}refresh(){EventsQueue$1.combine((()=>{this._getMutationEvents().forEach((e=>this.bootEvent(e,!0)))}))}_shouldDispatch(e){return!!(e.getDomEventNames().indexOf(DOM_EVENT_NAMES.DOMContentLoaded)>=0)&&!!isDomLoaded()}_eventOccurred(e){if(!HANDLE_DOM_EVENTS)return;const t=EVENTS[e.type];if(!t.length)return;if(!(e.target instanceof Element))return;let r=e.target;r.shadowRoot&&(r=e.composedPath()[0]),EventsQueue$1.combine((()=>{t.forEach((e=>{e.fireIfValid(r)}))}))}_getMutationEvents(){return[...EVENTS[DOM_EVENT_NAMES.DOMContentLoaded]]}_handleDomChange(){this._observer&&(this._observer.disconnect(),window.setTimeout((()=>{var e;this.refresh(),null===(e=this._observer)||void 0===e||e.observe(document.body,{childList:!0,subtree:!0,attributeFilter:["class"].concat(itConfig.getDataAttributes())})}),100))}_onBeforeSpaPageChange(){var e;this.disable(),null===(e=this._observer)||void 0===e||e.disconnect();const t=Object.keys(EVENTS);for(let e=0;e<t.length;e++){const r=t[e];EVENTS[r].forEach((e=>e.reset()))}}_onAfterSpaPageChange(){var e;this.eventsBootOrder.forEach((e=>{EVENTS[e].forEach((e=>this.bootEvent(e)))})),this.enable(),null===(e=this._observer)||void 0===e||e.observe(document.body,{childList:!0,subtree:!0,attributeFilter:itConfig.getDataAttributes()})}getEvents(){return EVENTS}getEvent(e){let t=null;const r=Object.keys(EVENTS);for(let n=0;n<r.length;n++){const i=r[n],a=EVENTS[i].find((t=>t.name===e));if(a){t=a;break}}return t||null}}function serializeForm(e){const t=queryAll(['input[type="checkbox"]:checked','input[type="radio"]:checked','input[type="text"]','input[type="color"]','input[type="date"]','input[type="datetime-local"]','input[type="email"]','input[type="month"]','input[type="range"]','input[type="search"]','input[type="tel"]','input[type="time"]','input[type="url"]','input[type="week"]',"textarea","option:checked"].join(", "),e).reduce(((e,t)=>{const r=t.name||t.parentNode&&t.parentNode.name||"";return e[r]=e[r]||[],e[r].push(t.value||t.innerText),e}),{});return Object.keys(t).reduce(((e,r)=>(e.push(r+":"+t[r].join("/")),e)),[]).join(",")}const isStringInDocumentBody=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return!1;const t=e.replace(/\s/g,"\\s"),r=new RegExp("".concat(t),"g");return r.test(document.body.innerText)},isElementInViewport=e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},addHandlerForEvents=(e,t)=>{e.forEach((e=>{window.addEventListener(e,t)}))},removeHandlerForEvents=(e,t)=>{e.forEach((e=>{window.removeEventListener(e,t)}))},utility={set:set,serializeForm:serializeForm,isStringInDocumentBody:isStringInDocumentBody,getQueryParam:getQueryParam,getQueryParamInsensitive:getQueryParamInsensitive};function callFunction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(REGEX_FUNCTION.test(e)){e="return "+e+";",r.push(window.WSC.modules.instatag),r.push(utility);try{return new Function(e)().apply(t,r)}catch(e){return}}}function getFunctionArguments(e){const t=e.match(/function\s*\(\s*([^)]+?)\s*\)/);return t?t[1].split(",").map((e=>e.trim())):[]}const EVAR_VALUE_SOURCES={direct:"direct",local:"local",instatag:"instatag",dataAttribute:"data-attribute",defaultFunction:"default_function"};class ITEvar{constructor(e){_defineProperty(this,"_evar",void 0),_defineProperty(this,"_source",null),_defineProperty(this,"_value",null),_defineProperty(this,"_instatagValue",null),this._evar=e}static create(e){const t=itConfig.getEvar(e);return t?new this(t):null}static _getValueFromDataAttribute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e&&t?(e===window.document&&(e=window.document.head),e.hasAttribute(t)?e.getAttribute(t):e.parentElement?this._getValueFromDataAttribute(e.parentElement,t):null):null}static _getDomElByDataAttribute(e){if(!e)return null;const t=e.split(",");if(1===t.length&&t[0])return queryAll("[".concat(t[0],"]"))[0];let r=null;for(let e=0;e<t.length;e++){const n=t[e];if(!n||"string"!=typeof n)continue;const i=queryAll("[".concat(n,"]"))[0];if(i){r=i;break}}return r}static valueIsSet(e){return null!=e&&""!==e}computeValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=null;if(this.value&&this.source===EVAR_VALUE_SOURCES.direct)return this.value;try{t=this.path.length?get(this.path,window):null}catch(e){}if(ITEvar.valueIsSet(t)&&!itConfig.overrideLocalEvars)return this._source=EVAR_VALUE_SOURCES.local,this._value=t,t;if(ITEvar.valueIsSet(this._instatagValue))return this._value=this._instatagValue,this._source=EVAR_VALUE_SOURCES.instatag,this._instatagValue;if(e){const t=this.computeAttributeValue(e);if(ITEvar.valueIsSet(t))return this._source=EVAR_VALUE_SOURCES.dataAttribute,this._value=t,t}if(this._evar.data_attribute_name){const e=ITEvar._getDomElByDataAttribute(this._evar.data_attribute_name);if(e){const t=this.computeAttributeValue(e);if(ITEvar.valueIsSet(t))return this._source=EVAR_VALUE_SOURCES.dataAttribute,this._value=t,t}}let r=null;return this._evar.default_function&&!this.isDefaultFnITEventContext&&(r=callFunction(this._evar.default_function,this),itConfig.overrideLocalEvarsWithFunctions&&ITEvar.valueIsSet(r))?(this._source=EVAR_VALUE_SOURCES.defaultFunction,this._value=r,r):ITEvar.valueIsSet(t)?(this._source=EVAR_VALUE_SOURCES.local,this._value=t,t):ITEvar.valueIsSet(r)?(this._source=EVAR_VALUE_SOURCES.defaultFunction,this._value=r,r):void 0}computeAttributeValue(e){let t=null;const r=this._evar.data_attribute_name?this._evar.data_attribute_name.split(","):[];for(let n=0;n<r.length&&!(r[n]&&"string"==typeof r[n]&&(t=ITEvar._getValueFromDataAttribute(e,r[n].trim()),t&&t.length>0));n++);return t}hasValue(){return this._evar.allow_empty_value||ITEvar.valueIsSet(this._value)}reset(){this.value=null,this.source=null}get path(){return this.fqn?this.fqn.split("."):[]}get dataAttributeName(){return this._evar.data_attribute_name}get value(){return this._value}set value(e){this._value=e,this._source=EVAR_VALUE_SOURCES.direct}set instatagValue(e){this._instatagValue=e}get instatagValue(){return this._instatagValue}get source(){return this._source}set source(e){this._source=e}get name(){return this._evar.evar_name}get fqn(){return this._evar.evar_fqn}get isDefaultFnITEventContext(){if(!this._evar.default_function)return[];const e=getFunctionArguments(this._evar.default_function);return 1===e.length&&e.includes("itEvent")}get defaultFunction(){return this._evar.default_function}}_defineProperty(ITEvar,"VALUE_SOURCES",EVAR_VALUE_SOURCES);class CounterStore{constructor(){_defineProperty(this,"counters",void 0),this.counters=[]}find(e){return e?this.counters.find((t=>t.el&&t.el.isSameNode(e))):this.counters.find((t=>t.el===e))}add(e){this.counters.push({el:e,elCounter:0})}getElementToFind(e,t){let r=e;if(t&&e){const n=this.prepareSelector(t);for(const t of n)if(r=e.closest(t.trim()),r)break}return r}prepareSelector(e){const t=e.match(/^CSS:\/\/(.*)$/);return t&&(e=t[1]),e.split(",")}get(e,t){const r=this.getElementToFind(e,t),n=this.find(r);return(null==n?void 0:n.elCounter)||0}increase(e,t){const r=this.getElementToFind(e,t);this.find(r)||this.add(r);const n=this.find(r);n&&n.elCounter++}getElements(){return this.counters.map((e=>e.el))}clear(){this.counters=[]}}const courseBeforeFn=function(e){if(!e)return!1;const t=this.dataAttributeTrigger,r=this.getEvar("eVar93");let n=null;t&&(n=e.getAttribute?e.getAttribute(t):""),r&&(r.value=n||"")},FORM_EVAR_DATA_KEY="formEvarData";function handleFormChange(e){return t=>{const r=t.target,n=r.hasAttribute("data-it-medical-information")?r.value:null,i=r.hasAttribute("data-it-specialty")?r.value:null;if(!n&&!i)return;const a=this.getEvar("eVar33"),o=this.getEvar("eVar34");if(!a||!o)return;const s=window.localStorage?window.localStorage.getItem(FORM_EVAR_DATA_KEY):null;if(!s)return;const l=JSON.parse(s);n&&(a.value=n,l[FORM_EVAR_DATA_KEY][e].evars[a.name]={source:ITEvar.VALUE_SOURCES.direct,value:n,instatagValue:a.instatagValue},window.localStorage.setItem(FORM_EVAR_DATA_KEY,JSON.stringify(l))),i&&(o.value=i,l[FORM_EVAR_DATA_KEY][e].evars[o.name]={source:ITEvar.VALUE_SOURCES.direct,value:i,instatagValue:o.instatagValue},window.localStorage.setItem(FORM_EVAR_DATA_KEY,JSON.stringify(l)))}}const formFoundFn=function(){if(!window.WSC.modules.instatag.config.trackFormInputFilled)return!1;const e=this.cssSelector||this.selector;if(!e)return!1;const t=[e+" input",e+" select",e+" textarea"].join(","),r=window.WSC.modules.instatag.createEvent({name:"event112",selector:"CSS://"+t});null==r||r.register()},formBeforeFn=function(e){if(!e)return;const t=e.hasAttribute("data-it-medical-information")?e.value:null,r=e.hasAttribute("data-it-specialty")?e.value:null;if(t){const e=this.getEvar("eVar33");e&&(e.value=t)}if(r){const e=this.getEvar("eVar34");e&&(e.value=r)}},formAfterFn=function(e){const t=this.getEvar("eVar32");if(!t)return!1;const r=t.value||t.instatagValue;if(!r)return!1;let n={[FORM_EVAR_DATA_KEY]:{}};const i=window.localStorage?window.localStorage.getItem(FORM_EVAR_DATA_KEY):null;if(i&&(n=JSON.parse(i)),n[FORM_EVAR_DATA_KEY][r]={event:this.name,evars:{}},this.evars.forEach((function(e){n[FORM_EVAR_DATA_KEY][r].evars[e.name]={source:e.source,value:"string"==typeof e.value?e.value:null,instatagValue:e.instatagValue}})),window.localStorage.setItem(FORM_EVAR_DATA_KEY,JSON.stringify(n)),!e)return;const a=e.form;a&&a.addEventListener("change",handleFormChange.call(this,r))};function saveFormToLocalStorage(e,t){var r,n,i,a;const o=(null===(r=t.evars.first)||void 0===r?void 0:r.value)||(null===(n=t.evars.first)||void 0===n?void 0:n.instatagValue);if(!o)return!1;let s={[t.lsKey]:{}};const l=(null===(i=t.evars.second)||void 0===i?void 0:i.value)||(null===(a=t.evars.second)||void 0===a?void 0:a.instatagValue),c=t.evars.third,u=l||o;let h=null;e&&c&&(h=e.closest("form"),h&&(c.value="s;"+u+"|"+serializeForm(h)));const d=window.localStorage.getItem(t.lsKey);d&&(s=JSON.parse(d)),s[t.lsKey][o]={event:t.event,evars:{}},t.allEvars.forEach((function(e){s[t.lsKey][o].evars[e.name]={_source:e.source,_value:"string"==typeof e.value?e.value:null,_instatagValue:e.instatagValue}})),window.localStorage.setItem(t.lsKey,JSON.stringify(s)),e&&h&&h.addEventListener("change",(function(e){try{let r=null;const n=e.target.closest("form");if(n&&(r="".concat(t.prefix,";")+u+"|"+serializeForm(n)),c&&r){c.value=r;const e=window.localStorage.getItem(t.lsKey);if(e){const n=JSON.parse(e);let i="";t.evars.third&&(i=t.evars.third.name),n[t.lsKey][o].evars[i]={_source:"direct",_value:r,_instatagValue:c.instatagValue},window.localStorage.setItem(t.lsKey,JSON.stringify(n))}}}catch(e){}}))}const pollBeforeFn=function(e){},pollAfterFn=function(e){saveFormToLocalStorage(e,{prefix:"p",lsKey:"pollEvarData",evars:{first:this.getEvar("eVar61"),second:this.getEvar("eVar60"),third:this.getEvar("eVar62")},allEvars:this.evars,event:"event35"})},setEventFormEvars=function(e,t){for(const r in t){const n=e.getEvar(r);n&&(n.value=t[r].value,n.instatagValue=t[r].instatagValue,n.source=t[r].source)}populateEvarsData(e,t)},populateEvarsData=function(e,t){const r=Object.entries(t).reduce(((t,r)=>{var n;let[i,a]=r;return t[i]=[{value:a.instatagValue||a.value||"",path:(null===(n=e.getEvar(i))||void 0===n?void 0:n.path)||"",source:a.source||null}],t}),{});e.populateCustomEvarsData(r)},formSubmitToStartMap={event12:"event13",event15:"event14"},formSubmitBeforeFn=function(e){const t=this.getEvar("eVar32");if(!t)return!1;if(!(window.localStorage&&FORM_EVAR_DATA_KEY in window.localStorage))return!1;if("direct"==t.source)return this.setOption("populateDigitalData",!0),!0;this.setOption("populateDigitalData",!1);const r=window.localStorage.getItem(FORM_EVAR_DATA_KEY),n=r?JSON.parse(r):null;if(!n)return!1;const i=e?e.getAttribute(this.dataAttributeTrigger):null;let a=t.value||t.instatagValue;if(!a)for(const e in n[FORM_EVAR_DATA_KEY])if(e in n[FORM_EVAR_DATA_KEY]){a=e;break}const o=i||a;if(!o)return!1;let s=!1;if(!n[FORM_EVAR_DATA_KEY][o])return!1;if(formSubmitToStartMap[this.name]&&n[FORM_EVAR_DATA_KEY][o].event!==formSubmitToStartMap[this.name])return!1;if(i){const e=n[FORM_EVAR_DATA_KEY][i].evars;setEventFormEvars(this,e),s=!0,delete n[FORM_EVAR_DATA_KEY][i]}else if(a){let e=!1;const r=n[FORM_EVAR_DATA_KEY][a].evars.internalEvar_submition_text;if(r&&r.value?e=isStringInDocumentBody(String(r.value)):t.source===ITEvar.VALUE_SOURCES.direct&&(e=!0),!e)return!1;const i=n[FORM_EVAR_DATA_KEY][a].evars;setEventFormEvars(this,i),s=!0,delete n.formEvarData[a]}if(!s)return!1;window.localStorage&&FORM_EVAR_DATA_KEY in window.localStorage&&(Object.keys(n[FORM_EVAR_DATA_KEY]).length>0?window.localStorage.setItem(FORM_EVAR_DATA_KEY,JSON.stringify(n)):window.localStorage.removeItem(FORM_EVAR_DATA_KEY))},productViewBeforeFn=function(e){this.setOption("populateDigitalData",!0);const t=this.getEvar("eVarProductId"),r=this.getEvar("eVarProductCategory"),n=this.getEvar("eVarProductStockStatus");if(null!=t&&t.value&&"direct"===t.source)return!0;if(!(e&&t&&r&&n))return!1;const i=queryAll("[data-it-product-id]",e)[0];if(!i)return!1;const a=i.getAttribute("data-it-product-id"),o=i.getAttribute("data-it-product-category"),s=i.getAttribute("data-it-product-stock-status");t.value=a,r.value=o,n.value=s||null},addToCartBeforeFn=function(e){const t=this.getEvar("eVarProductId"),r=this.getEvar("eVarProductCategory"),n=this.getEvar("eVarProductStockStatus");if(!t||!r||!n)return!1;const i={[t.name]:[],[r.name]:[],[n.name]:[]};let a=t.value||null,o=r.value||null,s=n.value||null;if(!a&&e&&(a=t.computeAttributeValue(e)||null),!o&&e&&(o=r.computeAttributeValue(e)||null),!s&&e&&(s=n.computeAttributeValue(e)||null),!a)return!0;const l=String(a).split(","),c=o?String(o).split(","):[];l.forEach(((e,a)=>{i[t.name].push({path:t.path,value:e,source:"data-attribute"}),i[r.name].push({path:r.path,value:c[a]||c[c.length-1]||null,source:"data-attribute"}),i[n.name].push({path:n.path,value:s,source:"data-attribute"})})),this.populateCustomEvarsData(i)},removeFromCartBeforeFn=function(e){const t=this.getEvar("eVarCartProductId"),r=this.getEvar("eVarCartProductCategory"),n=this.getEvar("eVarCartProductStockStatus");if(!t||!r||!n)return!1;let i=t.value||null,a=r.value||null,o=n.value||null;if(!i&&e&&(i=t.computeAttributeValue(e)||null),!a&&e&&(a=r.computeAttributeValue(e)||null),!o&&e&&(o=n.computeAttributeValue(e)||null),!i)return!0;const s={[t.name]:[],[r.name]:[],[n.name]:[]},l=String(i).split(","),c=a?String(a).split(","):[];l.forEach(((e,i)=>{s[t.name].push({path:t.path,value:e,source:"data-attribute"}),s[r.name].push({path:r.path,value:c[i]||c[c.length-1]||null,source:"data-attribute"}),s[n.name].push({path:n.path,value:o,source:"data-attribute"})})),this.populateCustomEvarsData(s)},cartViewBeforeFn=function(e){const t=this.getEvar("eVarCartProductId"),r=this.getEvar("eVarCartProductCategory"),n=this.getEvar("eVarCartProductStockStatus");if(!t||!r||!n)return;const i=[],a={[t.name]:[],[r.name]:[],[n.name]:[]},o=t.value||"",s=r.value||"";if(o){const e=String(o).split(","),i=String(s).split(",");return e.forEach((function(e,o){a[t.name].push({path:t.path,value:e,source:"direct"}),a[r.name].push({path:r.path,value:i[o]||i[i.length-1]||"",source:"direct"}),a[n.name].push({path:n.path,value:n.value,source:"direct"})})),this.populateCustomEvarsData(a),!0}if(!e)return!1;queryAll("[data-it-cart-product-id]",e).forEach((function(e){const o=e.getAttribute("data-it-cart-product-id")||"",s=e.getAttribute("data-it-cart-product-category")||"",l=n.computeAttributeValue(e)||"",c=o.split(","),u=s.split(",");c.forEach((function(e,o){-1===i.indexOf(e)&&(i.push(e),a[t.name].push({path:t.path,value:e,source:"data-attribute"}),a[r.name].push({path:r.path,value:u[o]||u[u.length-1]||"",source:"data-attribute"}),a[n.name].push({path:n.path,value:l||null,source:"data-attribute"}))}))})),this.populateCustomEvarsData(a)},checkoutViewBeforeFn=function(e){const t=this.getEvar("eVarCartProductId"),r=this.getEvar("eVarCartProductCategory"),n=this.getEvar("eVarCartProductStockStatus");if(!t||!r||!n)return;const i=[],a={[t.name]:[],[r.name]:[],[n.name]:[]},o=t.value||"",s=r.value||"",l=n.value||"";if(o){const e=String(o).split(","),i=String(s).split(",");return e.forEach((function(e,o){a[t.name].push({path:t.path,value:e,source:"direct"}),a[r.name].push({path:r.path,value:i[o]||i[i.length-1]||"",source:"direct"}),a[n.name].push({path:n.path,value:l,source:"direct"})})),this.populateCustomEvarsData(a),!0}if(!e)return!1;const c=queryAll("[data-it-cart-product-id]",e);if(!c||!c.length)return!0;c.forEach((function(e){const o=e.getAttribute("data-it-cart-product-id")||"",s=e.getAttribute("data-it-cart-product-category")||"",l=n.computeAttributeValue(e)||"",c=o.split(","),u=s.split(",");c.forEach((function(e,o){-1===i.indexOf(e)&&(i.push(e),a[t.name].push({path:t.path,value:e,source:"data-attribute"}),a[r.name].push({path:r.path,value:u[o]||u[u.length-1]||"",source:"data-attribute"}),a[n.name].push({path:n.path,value:l,source:"data-attribute"}))}))})),this.populateCustomEvarsData(a)},cartCheckoutBeforeFn=function(){const e=this.getEvar("eVarCartProductId"),t=this.getEvar("eVarCartProductCategory"),r=this.getEvar("eVarCartProductStockStatus");if(!e||!t||!r)return;const n={[e.name]:[],[t.name]:[],[r.name]:[]},i=[],a=e.value||"",o=t.value||"",s=r.value||"";if(a){const i=String(a).split(","),l=String(o).split(",");return i.forEach((function(i,a){n[e.name].push({path:e.path,value:i,source:"direct"}),n[t.name].push({path:t.path,value:l[a]||l[l.length-1]||null,source:"direct"}),n[r.name].push({path:r.path,value:s||null,source:"direct"})})),this.populateCustomEvarsData(n),!0}const l=queryAll("[data-it-cart-product-id]");if(!l.length)return!0;l.forEach((function(a){const o=a.getAttribute("data-it-cart-product-id")||"",s=a.getAttribute("data-it-cart-product-category")||"",l=r.computeAttributeValue(a)||null,c=o.split(","),u=s.split(",");c.forEach((function(a,o){-1===i.indexOf(a)&&(i.push(a),n[e.name].push({path:e.path,value:a,source:"data-attribute"}),n[t.name].push({path:t.path,value:u[o]||u[u.length-1]||null,source:"data-attribute"}),n[r.name].push({path:r.path,value:l,source:"data-attribute"}))}))})),this.populateCustomEvarsData(n)},orderConfirmBeforeFn=function(e){const t=this.getEvar("eVar71"),r=this.getEvar("eVar70");if(!t||!r)return;const n={[t.name]:[],[r.name]:[]},i=t.value||"",a=r.value||"";if(i)n[t.name].push({path:t.path,value:i,source:"direct"});else{const e=queryAll("[data-it-payment-method]")[0];e&&n[t.name].push({path:t.path,value:e.getAttribute("data-it-payment-method")||null,source:"data-attribute"})}if(a)n[r.name].push({path:r.path,value:a,source:"direct"});else{const e=queryAll("[data-it-order-id]")[0];e&&n[r.name].push({path:r.path,value:e.getAttribute("data-it-order-id")||null,source:"data-attribute"})}const o=this.getEvar("eVarOrderProductId"),s=this.getEvar("eVarOrderProductCategory"),l=this.getEvar("eVarItemQuantity"),c=this.getEvar("eVarItemPrice"),u=this.getEvar("eVarTransactionProductStockStatus");if(!(o&&s&&l&&c&&u))return;n[o.name]=[],n[s.name]=[],n[l.name]=[],n[c.name]=[],n[u.name]=[];const h=Array.isArray(o.value)?o.value:queryAll("[data-it-order-product-id]",e);if(!h||!h.length)return n[r.name].length&&this.populateCustomEvarsData(n),!0;if(Array.isArray(o.value))return o.value.forEach((function(e){n[o.name].push({path:o.path,value:e.id,source:"direct"}),n[s.name].push({path:s.path,value:e.category,source:"direct"}),n[c.name].push({path:c.path,value:{basePrice:e.price},source:"direct"}),n[l.name].push({path:l.path,value:e.qty,source:"direct"}),n[u.name].push({path:u.path,value:e.stock||"",source:"direct"})})),this.populateCustomEvarsData(n),!0;const d={},p=[];h.forEach((function(e){const t=e.getAttribute("data-it-order-product-id")||"",r=e.getAttribute("data-it-order-product-category")||"";let n=e.getAttribute("data-it-order-item-quantity"),i=e.getAttribute("data-it-order-item-price");const a=u.computeAttributeValue(e),o=t.split(","),s=r.split(",");o.forEach((function(t,r){if(-1===p.indexOf(t)){if(p.push(t),null===n){const t=queryAll("[data-it-order-item-quantity]",e)[0];t?(n=t.getAttribute("data-it-order-item-quantity"),n=n||"1"):n="1"}if(null===i){const t=queryAll("[data-it-order-item-price]",e)[0];t&&(i=t.getAttribute("data-it-order-item-price"))}d[t]?d[t].qty=Number(d[t].qty)+Number(n):d[t]={id:t,cat:s[r]||s[s.length-1]||null,qty:n||null,price:r>0&&i?0:i,stock:a||null}}}))})),Object.keys(d).forEach((function(e){n[o.name].push({path:o.path,value:d[e].id,source:"data-attribute"}),n[s.name].push({path:s.path,value:d[e].cat,source:"data-attribute"}),n[c.name].push({path:c.path,value:{basePrice:d[e].price},source:"data-attribute"}),n[l.name].push({path:l.path,value:String(d[e].qty),source:"data-attribute"}),n[u.name].push({path:u.path,value:d[e].stock,source:"data-attribute"})})),this.populateCustomEvarsData(n)},paymentStartBeforeFn=function(e){const t=this.getEvar("eVarOrderProductId"),r=this.getEvar("eVarOrderProductCategory"),n=this.getEvar("eVarTransactionProductStockStatus"),i=this.getEvar("eVar111"),a=this.getEvar("eVar71");if(!(t&&r&&n&&i&&a))return;const o={[t.name]:[],[r.name]:[],[n.name]:[],[i.name]:[],[a.name]:[]},s=i.value||"",l=a.value||"";if(s)o[i.name].push({path:i.path,value:s,source:"direct"});else{const e=queryAll("[data-it-payment-amount]")[0];e&&o[i.name].push({path:i.path,value:e.getAttribute("data-it-payment-amount")||null,source:"data-attribute"})}if(l)o[a.name].push({path:a.path,value:l,source:"direct"});else{const e=queryAll("[data-it-payment-method]")[0];e&&o[a.name].push({path:a.path,value:e.getAttribute("data-it-payment-method")||null,source:"data-attribute"})}const c=Boolean(t.value&&r.value),u=c?null:queryAll("[data-it-order-product-id]",e);if(!(c||u&&u.length))return void(o.length&&this.populateCustomEvarsData(o));if(c){const e=String(t.value).split(","),i=String(r.value).split(",");return e.forEach((function(e,a){o[t.name].push({path:t.path,value:e,source:"direct"}),o[r.name].push({path:r.path,value:i[a]||i[i.length-1]||"",source:"direct"}),o[n.name].push({path:n.path,value:n.value||"",source:"direct"})})),this.populateCustomEvarsData(o),!0}const h=[];(u||[]).forEach((function(e){const i=e.getAttribute("data-it-order-product-id")||"",a=e.getAttribute("data-it-order-product-category")||"",s=n.computeAttributeValue(e)||"",l=i.split(","),c=a.split(",");l.forEach((function(e,i){-1===h.indexOf(e)&&(h.push(e),o[t.name].push({path:t.path,value:e,source:"data-attribute"}),o[r.name].push({path:r.path,value:c[i]||c[c.length-1]||null,source:"data-attribute"}),o[n.name].push({path:n.path,value:s||null,source:"data-attribute"}))}))})),this.populateCustomEvarsData(o)},productReturnBeforeFn=function(e){const t=this.getEvar("eVar116"),r=this.getEvar("eVar117"),n=this.getEvar("eVar118"),i=this.getEvar("returnProductId"),a=this.getEvar("returnProductCategory"),o=this.getEvar("returnProductQuantity"),s=this.getEvar("eVarReturnProductStockStatus");if(!(t&&r&&n&&i&&a&&o&&s))return;const l={[t.name]:[],[r.name]:[],[n.name]:[],[i.name]:[],[a.name]:[],[o.name]:[],[s.name]:[]};if(!t.value&&t.dataAttributeName){const e=queryAll("["+t.dataAttributeName+"]")[0];e&&(t.value=e.getAttribute(t.dataAttributeName)||"")}if(!r.value&&r.dataAttributeName){const e=queryAll("["+r.dataAttributeName+"]")[0];e&&(r.value=e.getAttribute(r.dataAttributeName)||"")}if(!n.value&&n.dataAttributeName){const e=queryAll("["+n.dataAttributeName+"]")[0];e&&(n.value=e.getAttribute(n.dataAttributeName)||"")}if(t.value&&l[t.name].push({path:t.path,value:t.value,source:t.source}),r.value&&l[r.name].push({path:r.path,value:r.value,source:r.source}),n.value&&l[n.name].push({path:n.path,value:n.value,source:n.source}),Array.isArray(i.value))return i.value.forEach((function(e){l[i.name].push({path:i.path,value:e.id||null,source:"direct"}),l[a.name].push({path:a.path,value:e.category||null,source:"direct"}),l[o.name].push({path:o.path,value:e.qty||0,source:"direct"}),l[s.name].push({path:s.path,value:e.stock||null,source:"direct"})})),this.populateCustomEvarsData(l),!0;const c=queryAll("["+i.dataAttributeName+"]",e)||[],u=[];if(0===c.length)return this.populateCustomEvarsData(l),!0;c.forEach((function(e){const t=e.getAttribute(i.dataAttributeName||""),r=e.getAttribute(a.dataAttributeName||""),n=e.getAttribute(o.dataAttributeName||""),c=s.computeAttributeValue(e)||"",h=t?t.split(","):[],d=r?r.split(","):[];h.forEach((function(e,t){-1===u.indexOf(e)&&(u.push(e),l[i.name].push({path:i.path,value:e,source:"data-attribute"}),l[a.name].push({path:a.path,value:d[t]||d[d.length-1]||null,source:"data-attribute"}),l[o.name].push({path:o.path,value:n||null,source:"data-attribute"}),l[s.name].push({path:s.path,value:c||null,source:"data-attribute"}))}))})),this.populateCustomEvarsData(l)},teaserElementFound=function(e){instatag.config.advancedTeaserTracking&&e&&instatag.itTeaserTracker.observe(e)},teaserTrackingBeforeFn=function(e){if(!e)return!0;if(e.hasAttribute("data-it-teasers")){const t=e.getAttribute("data-it-teasers")||"";if(0===t.length)return!1;const r=[],n=this.getEvar("eVarTeaserName");if(!n)return!1;return t.split(";").filter(Boolean).forEach((function(e){const t=e.replace(/=(.*)/,"");r.push({path:n.path,value:t,source:ITEvar.VALUE_SOURCES.direct})})),this.setOption("populateDigitalData",!1),this.populateCustomEvarsData({[n.name]:r}),!0}if(!instatag.config.advancedTeaserTracking)return!0;if(!instatag.itTeaserTracker.isElementIntersected(e))return!1;instatag.itTeaserTracker.unobserve(e)},productListElementFound=function(e){e&&instatag.itProductListView.observe(e)},productListViewBeforeFn=function(e){if(!e)return!0;if(!instatag.itProductListView.isElementIntersected(e))return!1;instatag.itProductListView.unobserve(e)};let disclaimerOriginalPageName="";const _hasPopup=function(e,t){if(window.localStorage&&e in window.localStorage)return!!t&&window.localStorage.getItem(e)!==t;return!new RegExp(t?e+"="+t:e+"=").test(document.cookie)},disclaimerPopupBeforeFunction=function(e){this.setOption("populateDigitalData",!1);const t=this.data.storageNameAttr||e&&e.getAttribute("data-it-cookie-name")||"",r=this.data.storageValueAttr||e&&e.getAttribute("data-it-cookie-value")||"",n=this.data.popupNameAttr||e&&e.getAttribute("data-it-popup")||"";if(!t)return!1;if(!_hasPopup(t,r))return!1;const i=instatag.eventRegister.getEvent("event1"),a=null==i?void 0:i.getEvar("eVar8");if(!a||!n)return!1;disclaimerOriginalPageName=a.instatagValue||a.value||"",a.value=n;const o=window.setInterval((function(){if(!_hasPopup(t,r)){window.clearInterval(o),a.value=disclaimerOriginalPageName,disclaimerOriginalPageName="";try{delete window.digitalData.page.pageInfo.pageName}catch(e){}null==i||i.fire()}}),250)},surveyBeforeFn=function(e){},surveyAfterFn=function(e){saveFormToLocalStorage(e,{prefix:"s",lsKey:"surveyEvarData",evars:{first:this.getEvar("eVar59"),second:this.getEvar("eVar58"),third:this.getEvar("eVar62")},allEvars:this.evars,event:"event33"})};var fails$2=fails$h,wellKnownSymbol$3=wellKnownSymbol$e,IS_PURE=isPure,ITERATOR$3=wellKnownSymbol$3("iterator"),nativeUrl=!fails$2((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),IS_PURE&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[ITERATOR$3]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})),redefine$2=redefine$7.exports,redefineAll$1=function(e,t,r){for(var n in t)redefine$2(e,n,t[n],r);return e},global$8=global$C,isPrototypeOf=objectIsPrototypeOf,TypeError$5=global$8.TypeError,anInstance$2=function(e,t){if(isPrototypeOf(t,e))return e;throw TypeError$5("Incorrect invocation")},uncurryThis$5=functionUncurryThis,aCallable$1=aCallable$3,NATIVE_BIND=functionBindNative,bind$3=uncurryThis$5(uncurryThis$5.bind),functionBindContext=function(e,t){return aCallable$1(e),void 0===t?e:NATIVE_BIND?bind$3(e,t):function(){return e.apply(t,arguments)}},classof$2=classof$5,getMethod$1=getMethod$4,Iterators$1=iterators,wellKnownSymbol$2=wellKnownSymbol$e,ITERATOR$2=wellKnownSymbol$2("iterator"),getIteratorMethod$3=function(e){if(null!=e)return getMethod$1(e,ITERATOR$2)||getMethod$1(e,"@@iterator")||Iterators$1[classof$2(e)]},global$7=global$C,call$4=functionCall,aCallable=aCallable$3,anObject$3=anObject$c,tryToString=tryToString$2,getIteratorMethod$2=getIteratorMethod$3,TypeError$4=global$7.TypeError,getIterator$2=function(e,t){var r=arguments.length<2?getIteratorMethod$2(e):t;if(aCallable(r))return anObject$3(call$4(r,e));throw TypeError$4(tryToString(e)+" is not iterable")},global$6=global$C,TypeError$3=global$6.TypeError,validateArgumentsLength$2=function(e,t){if(e<t)throw TypeError$3("Not enough arguments");return e},toPropertyKey=toPropertyKey$3,definePropertyModule=objectDefineProperty,createPropertyDescriptor$1=createPropertyDescriptor$5,createProperty$2=function(e,t,r){var n=toPropertyKey(t);n in e?definePropertyModule.f(e,n,createPropertyDescriptor$1(0,r)):e[n]=r},global$5=global$C,toAbsoluteIndex=toAbsoluteIndex$2,lengthOfArrayLike$1=lengthOfArrayLike$3,createProperty$1=createProperty$2,Array$2=global$5.Array,max=Math.max,arraySliceSimple=function(e,t,r){for(var n=lengthOfArrayLike$1(e),i=toAbsoluteIndex(t,n),a=toAbsoluteIndex(void 0===r?n:r,n),o=Array$2(max(a-i,0)),s=0;i<a;i++,s++)createProperty$1(o,s,e[i]);return o.length=s,o},arraySlice$1=arraySliceSimple,floor$2=Math.floor,mergeSort=function(e,t){var r=e.length,n=floor$2(r/2);return r<8?insertionSort(e,t):merge(e,mergeSort(arraySlice$1(e,0,n),t),mergeSort(arraySlice$1(e,n),t),t)},insertionSort=function(e,t){for(var r,n,i=e.length,a=1;a<i;){for(n=a,r=e[a];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==a++&&(e[n]=r)}return e},merge=function(e,t,r,n){for(var i=t.length,a=r.length,o=0,s=0;o<i||s<a;)e[o+s]=o<i&&s<a?n(t[o],r[s])<=0?t[o++]:r[s++]:o<i?t[o++]:r[s++];return e},arraySort$1=mergeSort,$$1=_export,global$4=global$C,call$3=functionCall,uncurryThis$4=functionUncurryThis,DESCRIPTORS$2=descriptors,USE_NATIVE_URL$1=nativeUrl,redefine$1=redefine$7.exports,redefineAll=redefineAll$1,setToStringTag$1=setToStringTag$4,createIteratorConstructor=createIteratorConstructor$2,InternalStateModule$2=internalState,anInstance$1=anInstance$2,isCallable$1=isCallable$i,hasOwn$1=hasOwnProperty_1,bind$2=functionBindContext,classof$1=classof$5,anObject$2=anObject$c,isObject=isObject$6,$toString$1=toString$4,create=objectCreate,createPropertyDescriptor=createPropertyDescriptor$5,getIterator$1=getIterator$2,getIteratorMethod$1=getIteratorMethod$3,validateArgumentsLength$1=validateArgumentsLength$2,wellKnownSymbol$1=wellKnownSymbol$e,arraySort=arraySort$1,ITERATOR$1=wellKnownSymbol$1("iterator"),URL_SEARCH_PARAMS="URLSearchParams",URL_SEARCH_PARAMS_ITERATOR=URL_SEARCH_PARAMS+"Iterator",setInternalState$2=InternalStateModule$2.set,getInternalParamsState=InternalStateModule$2.getterFor(URL_SEARCH_PARAMS),getInternalIteratorState=InternalStateModule$2.getterFor(URL_SEARCH_PARAMS_ITERATOR),getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,safeGetBuiltIn=function(e){if(!DESCRIPTORS$2)return global$4(e);var t=getOwnPropertyDescriptor(global$4,e);return t&&t.value},nativeFetch=safeGetBuiltIn("fetch"),NativeRequest=safeGetBuiltIn("Request"),Headers=safeGetBuiltIn("Headers"),RequestPrototype=NativeRequest&&NativeRequest.prototype,HeadersPrototype=Headers&&Headers.prototype,RegExp$1=global$4.RegExp,TypeError$2=global$4.TypeError,decodeURIComponent$1=global$4.decodeURIComponent,encodeURIComponent$1=global$4.encodeURIComponent,charAt$2=uncurryThis$4("".charAt),join$2=uncurryThis$4([].join),push$2=uncurryThis$4([].push),replace$2=uncurryThis$4("".replace),shift$1=uncurryThis$4([].shift),splice=uncurryThis$4([].splice),split$2=uncurryThis$4("".split),stringSlice$1=uncurryThis$4("".slice),plus=/\+/g,sequences=Array(4),percentSequence=function(e){return sequences[e-1]||(sequences[e-1]=RegExp$1("((?:%[\\da-f]{2}){"+e+"})","gi"))},percentDecode=function(e){try{return decodeURIComponent$1(e)}catch(t){return e}},deserialize=function(e){var t=replace$2(e,plus," "),r=4;try{return decodeURIComponent$1(t)}catch(e){for(;r;)t=replace$2(t,percentSequence(r--),percentDecode);return t}},find=/[!'()~]|%20/g,replacements={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(e){return replacements[e]},serialize=function(e){return replace$2(encodeURIComponent$1(e),find,replacer)},URLSearchParamsIterator=createIteratorConstructor((function(e,t){setInternalState$2(this,{type:URL_SEARCH_PARAMS_ITERATOR,iterator:getIterator$1(getInternalParamsState(e).entries),kind:t})}),"Iterator",(function(){var e=getInternalIteratorState(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r}),!0),URLSearchParamsState=function(e){this.entries=[],this.url=null,void 0!==e&&(isObject(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===charAt$2(e,0)?stringSlice$1(e,1):e:$toString$1(e)))};URLSearchParamsState.prototype={type:URL_SEARCH_PARAMS,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,i,a,o,s,l=getIteratorMethod$1(e);if(l)for(r=(t=getIterator$1(e,l)).next;!(n=call$3(r,t)).done;){if(a=(i=getIterator$1(anObject$2(n.value))).next,(o=call$3(a,i)).done||(s=call$3(a,i)).done||!call$3(a,i).done)throw TypeError$2("Expected sequence with length 2");push$2(this.entries,{key:$toString$1(o.value),value:$toString$1(s.value)})}else for(var c in e)hasOwn$1(e,c)&&push$2(this.entries,{key:c,value:$toString$1(e[c])})},parseQuery:function(e){if(e)for(var t,r,n=split$2(e,"&"),i=0;i<n.length;)(t=n[i++]).length&&(r=split$2(t,"="),push$2(this.entries,{key:deserialize(shift$1(r)),value:deserialize(join$2(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)e=t[n++],push$2(r,serialize(e.key)+"="+serialize(e.value));return join$2(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var URLSearchParamsConstructor=function(){anInstance$1(this,URLSearchParamsPrototype);var e=arguments.length>0?arguments[0]:void 0;setInternalState$2(this,new URLSearchParamsState(e))},URLSearchParamsPrototype=URLSearchParamsConstructor.prototype;if(redefineAll(URLSearchParamsPrototype,{append:function(e,t){validateArgumentsLength$1(arguments.length,2);var r=getInternalParamsState(this);push$2(r.entries,{key:$toString$1(e),value:$toString$1(t)}),r.updateURL()},delete:function(e){validateArgumentsLength$1(arguments.length,1);for(var t=getInternalParamsState(this),r=t.entries,n=$toString$1(e),i=0;i<r.length;)r[i].key===n?splice(r,i,1):i++;t.updateURL()},get:function(e){validateArgumentsLength$1(arguments.length,1);for(var t=getInternalParamsState(this).entries,r=$toString$1(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){validateArgumentsLength$1(arguments.length,1);for(var t=getInternalParamsState(this).entries,r=$toString$1(e),n=[],i=0;i<t.length;i++)t[i].key===r&&push$2(n,t[i].value);return n},has:function(e){validateArgumentsLength$1(arguments.length,1);for(var t=getInternalParamsState(this).entries,r=$toString$1(e),n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){validateArgumentsLength$1(arguments.length,1);for(var r,n=getInternalParamsState(this),i=n.entries,a=!1,o=$toString$1(e),s=$toString$1(t),l=0;l<i.length;l++)(r=i[l]).key===o&&(a?splice(i,l--,1):(a=!0,r.value=s));a||push$2(i,{key:o,value:s}),n.updateURL()},sort:function(){var e=getInternalParamsState(this);arraySort(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=getInternalParamsState(this).entries,n=bind$2(e,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new URLSearchParamsIterator(this,"keys")},values:function(){return new URLSearchParamsIterator(this,"values")},entries:function(){return new URLSearchParamsIterator(this,"entries")}},{enumerable:!0}),redefine$1(URLSearchParamsPrototype,ITERATOR$1,URLSearchParamsPrototype.entries,{name:"entries"}),redefine$1(URLSearchParamsPrototype,"toString",(function(){return getInternalParamsState(this).serialize()}),{enumerable:!0}),setToStringTag$1(URLSearchParamsConstructor,URL_SEARCH_PARAMS),$$1({global:!0,forced:!USE_NATIVE_URL$1},{URLSearchParams:URLSearchParamsConstructor}),!USE_NATIVE_URL$1&&isCallable$1(Headers)){var headersHas=uncurryThis$4(HeadersPrototype.has),headersSet=uncurryThis$4(HeadersPrototype.set),wrapRequestOptions=function(e){if(isObject(e)){var t,r=e.body;if(classof$1(r)===URL_SEARCH_PARAMS)return t=e.headers?new Headers(e.headers):new Headers,headersHas(t,"content-type")||headersSet(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),create(e,{body:createPropertyDescriptor(0,$toString$1(r)),headers:createPropertyDescriptor(0,t)})}return e};if(isCallable$1(nativeFetch)&&$$1({global:!0,enumerable:!0,noTargetGet:!0,forced:!0},{fetch:function(e){return nativeFetch(e,arguments.length>1?wrapRequestOptions(arguments[1]):{})}}),isCallable$1(NativeRequest)){var RequestConstructor=function(e){return anInstance$1(this,RequestPrototype),new NativeRequest(e,arguments.length>1?wrapRequestOptions(arguments[1]):{})};RequestPrototype.constructor=RequestConstructor,RequestConstructor.prototype=RequestPrototype,$$1({global:!0,forced:!0,noTargetGet:!0},{Request:RequestConstructor})}}var web_urlSearchParams_constructor={URLSearchParams:URLSearchParamsConstructor,getState:getInternalParamsState};const fetchSync=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const a=new XMLHttpRequest;if(n){const t=new URLSearchParams(n).toString();e+="?".concat(t)}a.open(t,e,!1),Object.keys(r).forEach((e=>{a.setRequestHeader(e,r[e])}));try{i?a.send(JSON.stringify(i)):a.send()}catch(t){return logError("Request failed for ".concat(e,". ").concat(t)),null}if(!(a.status>=200&&a.status<300))return logError("Request failed with status ".concat(a.status)),null;try{return JSON.parse(a.responseText)}catch(e){return null}};function convertStringsToObjects(e){const t=[];return e.forEach((e=>{try{const r=JSON.parse(e);t.push(r)}catch(r){t.push(e)}})),t}function findIndexOfSmallest(e){if(0===e.length)return-1;let t=0;for(let r=1;r<e.length;r++)e[r]<e[t]&&(t=r);return t}function findIndexOfGreatest(e){if(0===e.length)return-1;let t=0;for(let r=1;r<e.length;r++)e[r]>e[t]&&(t=r);return t}function countMatchingItems(e,t){let r=0;const n=Math.min(e.length,t.length);for(let i=0;i<n&&e[i]===t[i];i++)r++;return r}function splitAndIncludeDelimiters(e,t){const r=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=new RegExp("(".concat(r,")"),"g"),i=e.split(n);return e.startsWith(t)&&i.shift(),e.endsWith(t)&&i.pop(),i}function getTheClosestDomain(e,t){t=[...new Set(t)];const r=[];t.forEach((t=>{let n=e.replace(t,"").length;if(n===e.length){const r=t.replace(e,"").length;r<n&&(n=r)}r.push(n)}));const n=findIndexOfSmallest(r);return-1===n?null:t[n]}function getTheClosestPath(e,t){t=[...new Set(t)];const r=[],n=splitAndIncludeDelimiters(e,"/");t.forEach((e=>{const t=splitAndIncludeDelimiters(e,"/"),i=countMatchingItems(n,t);i===t.length&&r.push({path:e,matchCount:i})}));const i=findIndexOfGreatest(r.map((e=>e.matchCount)));return-1===i?null:r[i].path}function isTargetedCookieValue(e){return"object"==typeof e&&null!==e&&"domain"in e&&"string"==typeof e.domain&&"value"in e&&"path"in e}function getCookie(name){let defaultFunction=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(defaultFunction)try{return eval(defaultFunction)()?name:null}catch(e){logError("Default function error: ".concat(e)),logError("Function body: ".concat(defaultFunction))}const matches=document.cookie.match(new RegExp("(?:^|; )"+name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return matches?decodeURIComponent(matches[1]):null}function getAllCookiesByName(e){const t=document.cookie.split(";").filter((t=>t.includes("".concat(e,"="))));if(0===t.length)return null;return t.map((t=>decodeURIComponent(t.trim().replace("".concat(e,"="),""))))}function getTargetedCookie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/";const n=getAllCookiesByName(e);if(!n)return null;const i=convertStringsToObjects(n);null===t&&(t=window.location.hostname);const a=getTheClosestDomain(t,i.map((e=>isTargetedCookieValue(e)?e.domain:"")).filter((e=>""!==e)));if(null===a){const e=i.filter((e=>"object"!=typeof e));return 0===e.length?null:e[0]}let o=getTheClosestPath(r,i.map((e=>isTargetedCookieValue(e)?e.path:"")).filter((e=>""!==e)));o||(o="/");const s=i.find((e=>isTargetedCookieValue(e)&&e.domain===a&&e.path===o));return isTargetedCookieValue(s)?s.value:null}function setCookie(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!r)throw new Error("Cookie path is missing.");let a=e+"="+t;if(null!==n){const e=new Date;e.setTime(e.getTime()+24*n*60*60*1e3);a+=";expires="+e.toUTCString()}a+=";path="+encodeURI(r),null!==i&&(a+=";domain="+i),"https:"===window.location.protocol&&(a+=";secure"),document.cookie=a}function setTargetedCookie(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!r)throw new Error("Cookie path is missing.");const a={value:t,domain:i||window.location.hostname,path:r};setCookie(e,JSON.stringify(a),r,n,i)}function getSubDomains(){const e=[],t=window.location.hostname.replace(/(https?:\/\/)?/i,""),r=t.split(".").reverse();if(r.length<3)return["."+t];let n="";for(let t=0;t<r.length;t++)n="."+r[t]+n,t>0&&t+1<r.length&&e.push(n);return e}function removeCookiesWithPrefixes(e){const t=document.cookie.split(";"),r=getSubDomains();for(let n=0;n<t.length;n++){const i=t[n].split("=")[0].trim();e.forEach((function(e){i.startsWith(e)&&(setCookie(i,1,"/",-1),r.forEach((function(e){setCookie(i,1,"/",-1,e)})))}))}}function getAllCookies(){return document.cookie.split(";").map((e=>e.trim()))}function findMatchingCookiesNames(e){const t=getAllCookies(),r=[];return t.forEach((t=>{const[n]=t.split("=");e.test(n)&&r.push(n)})),Array.from(new Set(r))}const COOKIE_SEEN_NAME="it_eprivacy_default_seen",COOKIE_OPT_OUT="opt_out",ACCEPT_CONSENT_EVENT="itTrackingConsentChange",EXIT_LINKS_ENABLE_ALL="ALL",EXIT_LINKS_ENABLE_NON_BI="NON_BI",EXIT_LINK_CLICK_EVENT="itExitLinkClickEvent",EPRIVACY_API_NAMESPACE="__itEprivacyBanner",MS_PER_DAY=864e5,FPID_SSC="FPID_SSC",FPID_EXPIRES="FPID_EXPIRES",RENEWAL_DAYS=200,NOT_ACCEPTED="not_accepted",ACCEPTED="accepted",NONE="none",ONE_TRUST="OneTrust",daysBetweenDates=(e,t)=>{const r=Math.abs(e.getTime()-t.getTime());return Math.round(r/MS_PER_DAY)},areCookiesCorrect=(e,t)=>{const r=t?new Date(t):new Date("");return e&&t&&!isNaN(r.getTime())&&daysBetweenDates(r,new Date)>=RENEWAL_DAYS},isOptimizationAllowed=()=>{var e;const t=(null===(e=window.WSC.modules.instatag.ePrivacyPolicy)||void 0===e?void 0:e.getCurrentPolicyStatus())||{};return["AH - Optimization","HP- Optimisation"].filter((e=>e in t)).map((e=>t[e])).includes(!0)},getMainDomain=()=>{const e=location.hostname,t=e.split(".").reverse();if(t.length>=2){let e=t[1]+"."+t[0];return t.length>2&&2==t[0].length&&("co"===t[1]||"com"===t[1]||"org"===t[1]||"net"===t[1])&&(e=t[2]+"."+e),"."+e}return"."+e},fetchFPIDCookies=()=>fetchSync(window.WSC.modules.instatag.config.FPIDPath,"GET",{},{cookie_path:"/",cookie_domain:"true"}),removeFPIDCookies=()=>{const e=getMainDomain();setCookie(FPID_SSC,null,"/",-1,e),setCookie(FPID_EXPIRES,null,"/",-1,e)},getOptimizationForOneTrust=()=>{const e=document.cookie.split(";").find((e=>e.trim().startsWith("OptanonConsent")));return e?decodeURIComponent(e).includes("C0002:1")?ACCEPTED:NOT_ACCEPTED:NONE},getOptimizationConsentState=()=>{const e=getOptimizationForOneTrust();if(e!==NONE)return e;const t=findMatchingCookiesNames(/^it_eprivacy.*(optimisation|optimization)$/);return 0===t.length?NONE:t.map((e=>getTargetedCookie(e))).includes(!0)?ACCEPTED:NOT_ACCEPTED},isEprivacyEnabled=()=>{var e;return null===(e=window.WSC.modules.instatag.ePrivacyPolicy)||void 0===e?void 0:e.eprivacy_enabled},getEprivacyProvider=()=>{var e;return null===(e=window.WSC.modules.instatag.ePrivacyPolicy)||void 0===e?void 0:e.eprivacy_provider},isOneTrustProvider=()=>getEprivacyProvider()===ONE_TRUST,oneTrustCookiesExists=()=>getCookie("OptanonConsent"),isFPIDAllowed=()=>{if(!isEprivacyEnabled()){const e=getOptimizationConsentState();return e===NONE||e===ACCEPTED}return!(!isOneTrustProvider()||oneTrustCookiesExists())||isOptimizationAllowed()},handleConsentChangeForFPID=()=>{const e=isFPIDAllowed(),t=getCookie(FPID_SSC);if(e){const e=handleFPIDValue();t!=e&&instatag.modifyEvarValueForNextEvents("eVar19",e)}else null!=t&&(removeFPIDCookies(),instatag.modifyEvarValueForNextEvents("eVar19",null))},handleFPIDValue=()=>{let e=getCookie(FPID_SSC);const t=getCookie(FPID_EXPIRES);if(!areCookiesCorrect(e,t)){const t=fetchFPIDCookies();t&&t.uuid&&(e=t.uuid)}return e},handleFPIDCookie=e=>{if(!isFPIDAllowed())return void removeFPIDCookies();const t=handleFPIDValue(),r=e.getEvar("eVar19");r&&(r.value=t)},handleFPIDCookiesRemoval=()=>{isOneTrustProvider()||!isOptimizationAllowed()&&getCookie(FPID_SSC)&&"accepted"===getCookie(COOKIE_SEEN_NAME)&&removeFPIDCookies()},setEvarValue=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const i="eVarPerformance"+r.charAt(0).toUpperCase()+r.slice(1),a=e.getEvar(i);a&&(null===n&&(n=r),a.value=t?Math.round(t[n]):0)},trackPerformanceData=e=>{const t=performance.getEntriesByType("navigation"),r=performance.getEntriesByType("paint"),n=t.length>0?t[0]:null,i=r.length>0?r[r.length-1]:null;["connectEnd","connectStart","domContentLoadedEventStart","domInteractive","domainLookupEnd","domainLookupStart","fetchStart","requestStart","responseEnd","responseStart","secureConnectionStart"].forEach((t=>setEvarValue(e,n,t))),Object.entries({LCP:"startTime"}).forEach((t=>{let[r,n]=t;return setEvarValue(e,i,r,n)}))},pageViewBeforeFn=function(){instatag.config.trackPerformanceData&&trackPerformanceData(this),handleFPIDCookie(this)};var eventsCustomData={event_disclaimer:{before_function:disclaimerPopupBeforeFunction},event1:{before_function:pageViewBeforeFn},event2:{before_function:function(e){const t=this.dataAttributeTrigger;if(e&&t){const r=e.getAttribute?e.getAttribute(t):"";return r&&"true"===r.toLowerCase()}}},event5:{before_function:function(e){if(!e)return!1;const t=e.getAttribute?e.getAttribute(this.dataAttributeTrigger):"",r=this.getEvar("eVar24");if(!t||!t.length||!r)return!1;const n=[];t.split(",").forEach((function(e){n.push({path:r.path,value:e,source:"data-attribute"})})),this.populateCustomEvarsData({[r.name]:n})}},userIsAuthenticated:{before_function:function(){const e=instatag.eventRegister.getEvent("event1");if(!e)return;const t=e.getEvar("eVar16");t&&(t.value="logged in")}},event6:{combine:!1},exitLinkEvent:{eddlEventName:"customExitLink",combine:!1},event12:{element_found_function:formFoundFn,before_function:formBeforeFn,after_function:formAfterFn},event13:{element_found_function:()=>!0,before_function:formSubmitBeforeFn},event14:{element_found_function:formFoundFn,before_function:formBeforeFn,after_function:formAfterFn},event15:{element_found_function:()=>!0,before_function:formSubmitBeforeFn},event33:{before_function:surveyBeforeFn,after_function:surveyAfterFn},event35:{before_function:pollBeforeFn,after_function:pollAfterFn},event37:{before_function:productViewBeforeFn},scAdd:{before_function:addToCartBeforeFn},scRemove:{before_function:removeFromCartBeforeFn},scView:{before_function:cartViewBeforeFn},scCheckout:{before_function:cartCheckoutBeforeFn},event38:{before_function:checkoutViewBeforeFn},event39:{before_function:checkoutViewBeforeFn},order_confirmation_page:{eddlEventName:"purchase",before_function:orderConfirmBeforeFn},event91:{before_function:paymentStartBeforeFn},event92:{before_function:paymentStartBeforeFn},event113:{before_function:productReturnBeforeFn},event51:{before_function:courseBeforeFn},event52:{before_function:courseBeforeFn},event87:{before_function:courseBeforeFn},event116:{combine:!1,before_function:productListViewBeforeFn,element_found_function:productListElementFound},event75:{element_found_function:teaserElementFound,before_function:teaserTrackingBeforeFn}};const CUST_ID_QUERY_PARAM="cust_id";function isVeevaId(e){return e&&"string"==typeof e&&(15===e.length||18===e.length)}function setEventUIDType(e){if(!e)return;const t=e.getEvar("eVar18"),r=e.getEvar("eVar112");if(!r)return;const n=getQueryParam(CUST_ID_QUERY_PARAM);(n&&isVeevaId(n)||t&&isVeevaId(t.value))&&(r.value="VeevaID")}var customEvarFunctions={eVar112:e=>setEventUIDType(e)};class ITEvent{static create(e,t){const{name:r,values:n=[],selector:i=null,elements:a=[],data:o={}}=e,s=itConfig.getEvent(r);if(!s)return null;return new this({event:s,selector:i,elements:a,data:o},n,Object.assign({},s.workflow_options,t))}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_defineProperty(this,"_registered",!1),_defineProperty(this,"_event",void 0),_defineProperty(this,"_options",void 0),_defineProperty(this,"_evars",[]),_defineProperty(this,"_selector",""),_defineProperty(this,"_elements",[]),_defineProperty(this,"_data",{}),_defineProperty(this,"_timesFired",new CounterStore),_defineProperty(this,"_customComputedEvars",{}),this._event=e.event,this._options=Object.assign({},ITEVENT_DEFAULT_OPTIONS,r),this._selector=e.selector||"",this._elements=e.elements||[],this._data=e.data||{},this._bootEvars(t)}register(e){return e||(e=instatag.eventRegister),e.addEvent(this),this._registered=!0,!0}_bootEvars(e){this._event.evars.forEach((t=>{const r=ITEvar.create(t);if(r){if(e.length){const n=e.find((e=>e.name===t));r.instatagValue=n?n.value:null,r.source=n&&n.value?ITEvar.VALUE_SOURCES.instatag:null}this.addEvar(r)}}))}get evars(){return this._evars}get options(){return this._options}get elements(){return this._elements}get selector(){return this._selector}get cssSelector(){const e=this.selector.match(/^CSS:\/\/(.*)$/);return e?e[1]:null}get domEventName(){return this._event.dom_event_name}get dataAttributeTrigger(){return this._event.data_attribute_trigger_name||null}get name(){return this._event.event_name}get isInternal(){return!this._event.dtm_event_name||this._event.dtm_event_name.indexOf("__internal")>-1||this._event.dtm_event_name.indexOf("__generic")>-1}get hasCustomEvarsData(){return Object.keys(this._customComputedEvars).length>0}get customData(){return eventsCustomData[this.name]||{}}get data(){return this._data}hasElement(e){return this._elements.findIndex((t=>t===e))>-1}getDomEventNames(){return this.domEventName?this.domEventName.split(","):[]}setOption(e,t){if("boolean"!=typeof t)return!1;this._options[e]=t}addEvar(e){return this._evars.push(e),!0}getEvar(e){return this._evars.find((t=>t.name===e))}_computeEvarsData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=[];for(let r=0;r<this._evars.length;r++){const n=this._evars[r];this._customComputedEvars[n.name]?Array.isArray(this._customComputedEvars[n.name])&&t.concat(this._customComputedEvars[n.name]):n.computeValue(e),n.isDefaultFnITEventContext&&n.defaultFunction?callFunction(n.defaultFunction,this,[this]):!n.defaultFunction&&customEvarFunctions[n.name]&&customEvarFunctions[n.name](this),t.push({path:n.path,value:n.value,source:n.source})}return t}populateCustomEvarsData(e){this._customComputedEvars=e}_flattenCustomEvarsData(){return Object.keys(this._customComputedEvars).reduce(((e,t)=>e=e.concat(this._customComputedEvars[t])),[])}fireIfValid(e){return!!this.test(e)&&(this.fire(e),!0)}fire(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._options.fireOnlyOnce&&this._timesFired.get(e,this.selector)>0)return!1;if(this._options.callBeforeFunction){const t=(eventsCustomData[this.name]||{}).before_function;if(t){if(!1===t.call(this,e))return!1}else if(!1===this._checkFunction(this._event.before_function,e))return!1}let t=[];this._options.populateDigitalData?t=this._computeEvarsData(e):this.hasCustomEvarsData&&(t=this._flattenCustomEvarsData(),this._customComputedEvars={});const r=this.customData.eddlEventName||this.name;if(EventsQueue$1.enqueue({name:this.isInternal?null:r,evars:t,combine:this.customData.combine}),this.options.callAfterFunction){const t=(eventsCustomData[this.name]||{}).after_function;t?t.call(this,e):this._checkFunction(this._event.after_function,e)}this._options.fireOnlyOnce&&this._timesFired.increase(e,this.selector)}reset(){this._evars.forEach((e=>e.reset())),this._elements=[],this._timesFired.clear(),this._customComputedEvars={}}cleanupDisconnectedElements(){this.elements.length&&(this._elements=this._elements.filter((e=>e.isConnected)))}addElement(e){return!this.isElementVisuallyHidden(e)&&(-1===this._elements.indexOf(e)&&(e instanceof HTMLElement&&(this._elements.push(e),this._handleElementFoundFunction(e),!0)))}isElementVisuallyHidden(e){let t=e;if(ITEVENTS_TO_AVOID_VISIBILITY_CHECK.includes(this.name))return!1;if(e===window.document.head)return!1;for(;t;){const e=window.getComputedStyle(t);if("none"===e.display||"hidden"===e.visibility)return!0;t=t.parentElement}return!1}getElementsForEventWasFired(){return this._timesFired.getElements()}_handleElementFoundFunction(e){const t=(eventsCustomData[this.name]||{}).element_found_function;return t?t.call(this,e):!!this._event.element_found_function&&this._checkFunction(this._event.element_found_function,e)}_checkFunction(e){if("string"==typeof e&&0!==e.length){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return callFunction(e,this,r)}}test(e){if(e===window.document&&(e=window.document.head),this.elements.length>0)for(let t=0;t<this.elements.length;t++){if(this.elements[t]===e)return!0;if(this.elements[t].contains(e))return!0}if(!this.selector)return!0;let t=e;for(;t;){if(test(this.selector,t))return!0;t=t.parentElement}return!1}}class SnippetRuleEventRegister{constructor(){_defineProperty(this,"_booted",!1),_defineProperty(this,"_observer",null),_defineProperty(this,"_domEventSnippetRules",[]),eventBus.emitter.on(eventBus.events.BEFORE_SPA_CHANGE,this._onBeforeSpaPageChange.bind(this)),eventBus.emitter.on(eventBus.events.AFTER_SPA_CHANGE,this._onAfterSpaPageChange.bind(this))}get booted(){return this._booted}get eventsCount(){return this._domEventSnippetRules.map((e=>e.snippetRules.length)).reduce(((e,t)=>e+t),0)}addSnippetRule(e){this._domEventSnippetRules.push(e)}bootIfPossible(){return!this._booted&&("loading"!==document.readyState?this.bootCallback():(document.addEventListener("DOMContentLoaded",(()=>{this.bootCallback()}),!0),!0))}refreshEventListeners(){this._domEventSnippetRules.forEach((e=>e.refresh()))}bootCallback(){return this._booted=!0,this._domEventSnippetRules.forEach((e=>e.boot())),this.eventsCount>0&&(this._observer=new MutationObserver((()=>{this.refreshEventListeners()})),this._observer.observe(document.body,{childList:!0,subtree:!0,attributes:!1})),!0}_onBeforeSpaPageChange(){var e;null===(e=this._observer)||void 0===e||e.disconnect(),this._domEventSnippetRules.forEach((e=>e.reset()))}_onAfterSpaPageChange(){var e;this._domEventSnippetRules.forEach((e=>e.reboot())),null===(e=this._observer)||void 0===e||e.observe(document.body,{childList:!0,subtree:!0,attributes:!1})}}function evaluateSnippetRunProperty(e,t){return Object.keys(e).forEach((function(r){const n=e[r];switch(!0){case Boolean(n.default_seen&&n.default_unseen):n.run_snippet=!0;break;case Boolean(!n.default_seen&&n.default_unseen):n.run_snippet=null!=ePrivacy.checkCookieConsent(n)||null==getCookie(t);break;case Boolean(n.default_seen&&!n.default_unseen):n.run_snippet=null!=ePrivacy.checkCookieConsent(n)||null!=getCookie(t);break;default:n.run_snippet=null!=ePrivacy.checkCookieConsent(n)}n.sub_policies&&Object.keys(n.sub_policies).length&&(n.sub_policies=evaluateSnippetRunProperty(n.sub_policies,t))})),e}function isTrackingAllowed(e){const t=checkTracking(e);return t.trackingAllowed||t.noTrackingPolicy}function checkTracking(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{trackingAllowed:!1,noTrackingPolicy:!0};return Object.keys(e).forEach((function(r){const n=e[r];n.for_tracking&&(t.noTrackingPolicy=!1,n.run_snippet&&(t.trackingAllowed=!0)),n.sub_policies&&Object.keys(n.sub_policies).length&&(t=checkTracking(n.sub_policies,t))})),t}function handlePolicyDependentCookies(e){Object.keys(e).forEach((function(t){const r=e[t];null==ePrivacy.checkCookieConsent(r)&&r.dependent_cookies.length&&removeCookiesWithPrefixes(r.dependent_cookies),r.sub_policies&&Object.keys(r.sub_policies).length&&handlePolicyDependentCookies(r.sub_policies)}))}function accumulateSpecsStatus(e,t,r){Object.keys(e).forEach((n=>{const i=e[n],a=ePrivacy.checkCookieConsent(i),o=getCookie(COOKIE_SEEN_NAME);let s=!1;a||Boolean(i.default_function)||Boolean(ePrivacy.checkEprivacyPolicySpecCallback)?s=Boolean(a):(i.default_unseen||i.default_seen&&null!=o)&&(s=!0),r[i.name]=s,i.for_tracking&&(r.Tracking||(r.Tracking=s)),i.sub_policies&&!t.popup_simplified&&accumulateSpecsStatus(i.sub_policies,t,r)}))}function getCurrentPolicyStatus(e,t){var r,n;const i=e||(null===(r=window.WSC.modules.instatag.ePrivacyPolicy)||void 0===r?void 0:r.specs),a=t||(null===(n=window.WSC.modules.instatag.ePrivacyPolicy)||void 0===n?void 0:n.properties);if(!i||!a)return{Tracking:!0};const o={};return accumulateSpecsStatus(i,a,o),void 0===o.Tracking&&(o.Tracking=!0),o}function checkPolicyStatus(){var e;null===(e=window.WSC.modules.instatag.ePrivacyPolicy)||void 0===e||e.$acceptCb()}function getExitLinksHostnames(e){const t=[];for(let r=0;r<e.length;r++){const n=e[r];n.hostname&&n.hostname!==window.location.hostname&&(-1===t.indexOf(n.hostname)&&t.push(n.hostname))}return t}class HTTPBase{constructor(e){_defineProperty(this,"body",void 0),_defineProperty(this,"status",void 0),_defineProperty(this,"headers",{}),this.body=e.response,this.status=e.status,this.headers=e.getAllResponseHeaders().split("\r\n").reduce(((e,t)=>{const[r,n]=t.split(": ");return e[r]=n,e}),{})}}class HttpResponse extends HTTPBase{json(){return JSON.parse(this.body)}}class HttpError extends HTTPBase{toString(){if(!this.body)return"Error: "+this.status;const e=JSON.parse(this.body);return"["+this.status+"] Error: "+e.error||e.errors.map((e=>e.message)).join(", ")}}const httpRequest=function(e){var t;const r=new XMLHttpRequest;r.withCredentials=(null===(t=e.options)||void 0===t?void 0:t.withCredentials)||!1,r.open(e.method,e.url),r.setRequestHeader("Content-Type","application/json");for(const t in e.headers)Object.hasOwnProperty.call(e.headers,t)&&r.setRequestHeader(t,e.headers[t]);r.send(e.body),r.onload=function(){r.status>=200&&r.status<300?e.onSuccess&&e.onSuccess(new HttpResponse(r)):e.onError&&e.onError(new HttpError(r))},r.onerror=function(){e.onError&&e.onError(new HttpError(r))}},exitLinksModule=function(){let e,t=null,r=null,n=EXIT_LINKS_ENABLE_ALL;function i(){document.addEventListener("click",(t=>{if(!t||!t.target)return!0;const r=t.target;return!(r instanceof HTMLAnchorElement||r instanceof HTMLAreaElement)||(r.hostname===window.location.hostname||(!!r.getAttribute("data-it-exit-link-allowed")||void function(t){const r=t.target.hostname;let i=[];n===EXIT_LINKS_ENABLE_ALL?i=e.external.concat(e.bi):n===EXIT_LINKS_ENABLE_NON_BI&&(i=e.external.concat());if(-1===i.indexOf(r))return!0;t.preventDefault();const a=new CustomEvent(EXIT_LINK_CLICK_EVENT,{detail:{link:t}});document.dispatchEvent(a)}(t)))}),!0)}function a(t){const n=function(t){const r=[];let n=!1;for(let i=0;i<t.length;i++){const a=t[i],o=-1===e.external.indexOf(a);-1===e.bi.indexOf(a)&&o&&(n=!0),r.indexOf(a)>=0||r.push(a)}return n?r:[]}(getExitLinksHostnames(t));n.length&&function(t){const n="".concat(r,"/api/exit-links?appKey=").concat(instatag.config.appKey);httpRequest({url:n,method:"POST",body:JSON.stringify(t),onSuccess:t=>{const r=t.json();e=r},onError:e=>{logError("exit links request exec error: ".concat(e.toString()))}})}(n)}function o(e){for(const t of e)if("attributes"===t.type&&"href"===t.attributeName&&t.target&&"A"===t.target.nodeName&&a([t.target]),"childList"===t.type)for(const e of t.addedNodes)"A"===e.nodeName&&a([e])}return{boot(s){if(!s||!s.exit_links_enabled)return!1;r=s.gateway_url,e=s.exit_links_map,n=s.properties.el_third_party,eventBus.emitter.on(eventBus.events.BEFORE_SPA_CHANGE,(()=>{var e;null===(e=t)||void 0===e||e.disconnect()})),eventBus.emitter.on(eventBus.events.AFTER_SPA_CHANGE,(()=>{var e;a([].slice.call(document.links)),null===(e=t)||void 0===e||e.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["href"]})})),onDomLoad((()=>{a([].slice.call(document.links)),i(),t=new MutationObserver(o),t.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["href"]})}))},getCachedLinks:function(){return e}}}(),SNIPPET_BUFFER={};window[EPRIVACY_API_NAMESPACE]={getCurrentPolicyStatus:getCurrentPolicyStatus,checkPolicyStatus:checkPolicyStatus};const firePolicySnippets=e=>{SNIPPET_BUFFER[e]&&(SNIPPET_BUFFER[e].forEach((e=>{try{return e(window,document)}catch(e){logError("eprivacy snippet exec error: ".concat(e))}})),SNIPPET_BUFFER[e]=[])},ePrivacy={$cookieSeenName:COOKIE_SEEN_NAME,$cookieOptOut:COOKIE_OPT_OUT,exitLinksModule:exitLinksModule,getCurrentPolicyStatus:getCurrentPolicyStatus,$load(e){this.properties=e.properties,this.eprivacy_enabled=e.eprivacy_enabled,this.eprivacy_provider=e.eprivacy_provider,this.exit_links_enabled=e.exit_links_enabled,this.config=e,this.checkCookieConsent=t=>t.default_function?getCookie(t.cookie_name,t.default_function):getTargetedCookie(t.cookie_name,null,e.cookie_path||"/")},$start(){if(!this.config)throw new Error("Eprivacy: No config defined.");this.itBypassEprivacy(this.config.specs),this.bootEprivacy(this.config),this.exitLinksModule.boot(this.config),!this.eprivacy_enabled&&!this.exit_links_enabled||!this.config.template_script_url||this.properties.hide_eprivacy_frontend||"Instatag"!==this.config.eprivacy_provider||instatag.config.useParentWindowForEprivacyControl||appendScript(this.config.template_script_url),delete this.config},disableTracking(){instatag.isTrackingConsentGiven=!1},enableTracking(){instatag.isTrackingConsentGiven=!0,instatag.runDomLoadActions()},bootEprivacy(e){e.eprivacy_enabled&&Object.keys(e.specs).length&&(this.specs=evaluateSnippetRunProperty(e.specs,this.$cookieSeenName),this.cookie_path=e.cookie_path,this.disableTracking(),isTrackingAllowed(this.specs)&&this.enableTracking(),"Instatag"===e.eprivacy_provider&&handlePolicyDependentCookies(this.specs),handleFPIDCookiesRemoval())},$acceptCb(){this.specs=evaluateSnippetRunProperty(this.specs,this.$cookieSeenName),handlePolicyDependentCookies(this.specs),isTrackingAllowed(this.specs)?this.enableTracking():this.disableTracking(),this.$flushBuffer(),this.$dispatchTrackingEvent(),handleConsentChangeForFPID()},$dispatchTrackingEvent(){const e=new CustomEvent(ACCEPT_CONSENT_EVENT,{detail:getCurrentPolicyStatus(this.specs,this.properties),bubbles:!0});document.dispatchEvent(e)},$getSpecByPolicy(e){if(this.specs[e])return this.specs[e];let t={};return Object.keys(this.specs).forEach((e=>{t=Object.assign(t,this.specs[e].sub_policies)})),t[e]||null},$addToBuffer(e,t){SNIPPET_BUFFER[e]?SNIPPET_BUFFER[e].push(t):SNIPPET_BUFFER[e]=[t]},$flushBuffer(){Object.keys(SNIPPET_BUFFER).forEach((e=>{const t=this.$getSpecByPolicy(e);(t?this.checkCookieConsent(t):null)&&t&&t.run_snippet&&SNIPPET_BUFFER[e].length&&firePolicySnippets(e)}))},itBypassEprivacy(e){var t;const r=null===(t=this.config)||void 0===t?void 0:t.cookie_path;if(!r)return;new URLSearchParams(location.search).has("itBypassEprivacy")&&(Object.keys(e).forEach((t=>{setTargetedCookie(e[t].cookie_name,!0,r,365);const n=e[t].sub_policies;n&&Object.keys(n).length&&this.itBypassEprivacy(n)})),setCookie(this.$cookieSeenName,"accepted",r,365))},addCheckEprivacyPolicySpecCallback(e){this.checkEprivacyPolicySpecCallback=e,this.checkCookieConsent=t=>e(t)?t.cookie_name:null},handleDependentCookies(){handlePolicyDependentCookies(this.specs)},utils:{getCookie:getCookie,setCookie:setCookie,getTargetedCookie:getTargetedCookie,setTargetedCookie:setTargetedCookie}},SNIPPET_RULE_CUSTOM_EVENTS={CLICK:"Click",CHANGE:"Change",DOMCONTENTLOADED:"DOMContentLoaded",MEDIA_START:"Media Start",MEDIA_COMPLETE:"Media Complete",MEDIA_25:"Media 25%",MEDIA_50:"Media 50%",MEDIA_75:"Media 75%",EL_IN_VIEWPORT:"Element In Viewport"},CUSTOM_EVENTS_VALUES=Object.values(SNIPPET_RULE_CUSTOM_EVENTS),DOM_EVENTS_MAP={[SNIPPET_RULE_CUSTOM_EVENTS.CLICK]:"click",[SNIPPET_RULE_CUSTOM_EVENTS.CHANGE]:"change",[SNIPPET_RULE_CUSTOM_EVENTS.DOMCONTENTLOADED]:"DOMContentLoaded",[SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_START]:"play",[SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_COMPLETE]:"ended",[SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_25]:"timeupdate",[SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_50]:"timeupdate",[SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_75]:"timeupdate"},ADOBE_EVENTS_MAP={[SNIPPET_RULE_CUSTOM_EVENTS.CLICK]:"event29",[SNIPPET_RULE_CUSTOM_EVENTS.CHANGE]:"event12",[SNIPPET_RULE_CUSTOM_EVENTS.DOMCONTENTLOADED]:"event1",[SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_START]:"event22",[SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_COMPLETE]:"event28",[SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_25]:"event22",[SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_50]:"event22",[SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_75]:"event22",[SNIPPET_RULE_CUSTOM_EVENTS.EL_IN_VIEWPORT]:"event5"};class ITSnippetRuleCustomEvent{constructor(e){_defineProperty(this,"_snippetData",void 0),_defineProperty(this,"_eventName",void 0),_defineProperty(this,"_fireOnce",!1),_defineProperty(this,"_timesFired",0),_defineProperty(this,"_intersectionInstance",null),_defineProperty(this,"_elListeners",[]),_defineProperty(this,"_elObservers",[]),this._snippetData=Object.freeze(e),this._eventName=e.event_name||"",this._fireOnce=e.fire_once||!1,this._eventName===SNIPPET_RULE_CUSTOM_EVENTS.DOMCONTENTLOADED&&(this._fireOnce=!0),this._eventName!==SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_START&&this._eventName!==SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_START&&this._eventName!==SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_25&&this._eventName!==SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_50&&this._eventName!==SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_75||(this._fireOnce=!0)}get canRefresh(){const e=this._fireOnce&&this._timesFired>0;return this._eventName!==SNIPPET_RULE_CUSTOM_EVENTS.DOMCONTENTLOADED&&!e}hasCustomEventDataAttr(e){return!!e.hasAttribute&&e.hasAttribute(CUSTOM_EVENT_DATA_ATTR)}boot(e){return-1!==CUSTOM_EVENTS_VALUES.indexOf(this._eventName)&&(this._eventName===SNIPPET_RULE_CUSTOM_EVENTS.DOMCONTENTLOADED&&isDomLoaded()?this.fire():void e.forEach((e=>{if(e instanceof Document)return;if(this.hasCustomEventDataAttr(e))return;if(this._eventName===SNIPPET_RULE_CUSTOM_EVENTS.EL_IN_VIEWPORT){const t=this._bootIntersectionObserver(e);return this._elObservers.push(t),!0}if(this._eventName===SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_25||this._eventName===SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_50||this._eventName===SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_75){const t=this._bootMediaMilestoneListener(e);return this._elListeners.push(t),!0}const t=this._bootDefaultEventListener(e);return this._elListeners.push(t),!0})))}fire(){if(this._timesFired>0&&this._fireOnce)return this.removeListeners(),!1;let e=!0,t=!0;if((window.WSC.modules.instatag.ePrivacyPolicy||{}).specs&&this._snippetData.policy_cookie_name){const t=ePrivacy.$getSpecByPolicy(this._snippetData.policy_cookie_name);e=!!t&&Boolean(t.run_snippet)}if(!e)return!1;if(this._snippetData.filters.length&&this._snippetData.filters.length>0&&(t=canExecuteRuleSnippet(this._snippetData.filters)),!t)return!1;const r={eventName:ADOBE_EVENTS_MAP[this._eventName]||this._eventName,isKpiEvent:this._snippetData.kpi_event,kpiDescription:this._snippetData.description||""};try{return this._snippetData.fn(window,document,r),this._timesFired+=1,!0}catch(e){return logError("Snippet exec error: ".concat(e)),!1}}refresh(e){if(!this.canRefresh)return!1;this.boot(e)}removeListeners(){this._elListeners.forEach((e=>e())),this._elObservers.forEach((e=>e())),this._elListeners=[],this._elObservers=[],this._intersectionInstance&&(this._intersectionInstance=null)}_createInstersectionObserver(){return new IntersectionObserver((e=>{const t=e[0];t&&t.isIntersecting&&1===t.intersectionRatio&&this.fire()}),{threshold:1})}_bootIntersectionObserver(e){return this._intersectionInstance||(this._intersectionInstance=this._createInstersectionObserver()),this._intersectionInstance.observe(e),()=>{var t;null===(t=this._intersectionInstance)||void 0===t||t.unobserve(e)}}_bootDefaultEventListener(e){const t=DOM_EVENTS_MAP[this._eventName],r=this.fire.bind(this);return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}_bootMediaMilestoneListener(e){const t=DOM_EVENTS_MAP[this._eventName],r={[SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_25]:25,[SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_50]:50,[SNIPPET_RULE_CUSTOM_EVENTS.MEDIA_75]:75}[this._eventName],n=e=>{if(!e.target)return;const t=e.target;if(!t.duration)return;const n=t.duration*r/100;t.currentTime>=n&&this.fire()};return e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}}}class ITSnippetRuleEventContainer{constructor(e){let{selector:t,snippetRules:r=[]}=e;_defineProperty(this,"selector",""),_defineProperty(this,"snippetRules",[]),_defineProperty(this,"snippetRuleCustomEvents",[]),this.selector=t,this.snippetRules=r,this.snippetRuleCustomEvents=r.map((e=>new ITSnippetRuleCustomEvent(e)))}get hasSelector(){return this.selector!==RULE_EMPTY_SELECTOR_KEY}getSelectorDomElements(){return this.hasSelector?queryAll(this.selector):[document]}register(e){return e||(e=instatag.snippetRuleEventRegister),e.addSnippetRule(this),!0}boot(){const e=this.getSelectorDomElements();if(!e.length)return!1;this.snippetRuleCustomEvents.forEach((t=>{t.boot(e)})),this.hasSelector&&this.setDomElementAttribute(e)}setDomElementAttribute(e){e.forEach((e=>{e instanceof Document||e.setAttribute&&e.setAttribute(CUSTOM_EVENT_DATA_ATTR,"")}))}removeDomElementAttribute(e){e.forEach((e=>{e instanceof Document||e.removeAttribute&&e.removeAttribute(CUSTOM_EVENT_DATA_ATTR)}))}refresh(){const e=this.getSelectorDomElements();return!!e.length&&(this.snippetRuleCustomEvents.forEach((t=>{t.refresh(e)})),this.hasSelector&&this.setDomElementAttribute(e),!0)}reset(){this.removeListeners(),this.snippetRuleCustomEvents=[]}reboot(){this.snippetRuleCustomEvents=this.snippetRules.map((e=>new ITSnippetRuleCustomEvent(e)))}removeListeners(){this.snippetRuleCustomEvents.forEach((e=>e.removeListeners()))}}const debounce=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];clearTimeout(t),t=setTimeout((()=>e.apply(this,i)),r)}},throttle=function(e){let t,r,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];t?(clearTimeout(r),r=setTimeout((()=>{Date.now()-n>=i&&(e.apply(this,o),n=Date.now())}),Math.max(i-(Date.now()-n),0))):(e.apply(this,o),n=Date.now(),t=!0)}};class EventHandler{run(e){this.trackScrollDepth(e)}trackScrollDepth(e){const t=window.WSC.modules.instatag.createEvent({name:"Page_Scroll",values:[{name:"eVar36",value:e}]});null==t||t.fire()}}class ActionsHandler{constructor(e){_defineProperty(this,"actionsOnDepth",void 0),this.actionsOnDepth=e}run(e){const t=e.split("|");this.actionsOnDepth.forEach((e=>{if(t.includes(e.depth))try{e.fn()}catch(e){logError(e)}}))}}const scrollChangeService={listener:null,boot(){this.scrollDepthHandler||(this.scrollDepthHandler=new EventHandler),eventBus.emitter.on(eventBus.events.BEFORE_SPA_CHANGE,(()=>{this.off()})),eventBus.emitter.on(eventBus.events.AFTER_SPA_CHANGE,(()=>{this.createListener()})),this.createListener()},bootWithActions(e){return this.scrollDepthHandler=new ActionsHandler(e),this.boot()},createListener(){return!this.listener&&(setTimeout((()=>{this.listener=onScrollChange(this.scrollDepthHandler)}),300),!0)},off(){this.listener&&(this.listener(),this.listener=null)}};function calculateThresholds(e,t){return t.map((t=>100===t?e-5:e*(t/100)))}function getScrollTop(){const e=document.body,t=document.documentElement;return e.scrollTop||t.scrollTop}function getWindowHeight(){return window.innerHeight||document.documentElement.clientHeight}function getScrollDistance(){return Math.round(getScrollTop()+getWindowHeight())}function getDocHeight(){const e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}function getScrollPercent(e,t){return Math.round(e/t*100)}function onScrollChange(e){let t=!1,r=null;const n=["mousedown","keydown","touchstart","wheel"];getDocHeight(),getScrollTop();const i=getScrollDistance(),a=[];let o=i,s=null,l=null,c=null;const u=[25,50,75,100],h=()=>{l&&(window.removeEventListener("resize",l),l=null),s&&(window.removeEventListener("scroll",s),s=null),c&&(removeHandlerForEvents(n,c),c=null)},d=()=>{const i=getDocHeight(),s=calculateThresholds(i,u),l=getScrollTop(),d=getScrollDistance(),p=getScrollPercent(d,i),f=getScrollPercent(l,i);if(a.length>=u.length)return void h();const g=o===d;let E="up";g?E="initial":o<=d&&(E="down");let m=s,v=u;"up"===E&&(m=s.slice().reverse(),v=u.slice().reverse());const _=v.reduce(((e,t,r)=>{const n=m[r];return g&&!a.includes(t)&&d>=n&&t<=p&&t>=f||!a.includes(t)&&t<=p&&t>=f?(e.callbacks=e.callbacks.concat(t),e):e}),{callbacks:[],direction:E});if(o=d,_.callbacks&&_.callbacks.length){if(_.callbacks.forEach((e=>{a.push(e)})),!t){if(!r)return void(r=_.callbacks);c&&removeHandlerForEvents(n,c),t=!0,_.callbacks=[..._.callbacks,...r],r=null}e.run(_.callbacks.join("|"))}};return d(),c=()=>{r&&(c&&removeHandlerForEvents(n,c),t=!0,e.run(r.join("|")),r=null)},addHandlerForEvents(n,c),s=throttle(d,500),l=debounce(d,500),window.addEventListener("scroll",s),window.addEventListener("resize",l),h}const PUSH_STATE="pushState",REPLACE_STATE="replaceState";function trimPath(e){const t=e.indexOf("?");t>-1&&(e=e.slice(0,t));const r=e.indexOf("#");return r>-1&&(e=e.slice(0,r)),e}function onRouteChange(e){if("undefined"==typeof document)return;let t=window.location.pathname+(itConfig.track_spa_params?window.location.search:"");window.addEventListener("popstate",(()=>{e(window.location.pathname+(itConfig.track_spa_params?window.location.search:""))}));[PUSH_STATE,REPLACE_STATE].map((r=>{const n=window.history[r];window.history[r]=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];const o=i[2];if("string"!=typeof o)return n.apply(window.history,i);const s=itConfig.track_spa_params?o:trimPath(o);return t!==s&&(t=s,e(o)),n.apply(window.history,i)}}))}const defaultConfig={threshold:1},createIntersectionObserver=(e,t)=>new IntersectionObserver(e,Object.assign({},defaultConfig,t));class IntersectionTracking{constructor(e){_defineProperty(this,"_observer",null),_defineProperty(this,"_intersectedElements",[]),_defineProperty(this,"_eventName",""),this._observer=createIntersectionObserver(this._handleIntersection.bind(this)),this._eventName=e}_handleIntersection(e){const t=[];for(let r=0;r<e.length;r++){const n=e[r];n&&n.isIntersecting&&1===n.intersectionRatio&&(this._intersectedElements.push(n.target),t.push(n.target))}t.length&&this.fire(t)}observe(e){var t;isElementInViewport(e)?this._intersectedElements.push(e):null===(t=this._observer)||void 0===t||t.observe(e)}unobserve(e){var t;this._intersectedElements=this._intersectedElements.filter((t=>t!==e)),null===(t=this._observer)||void 0===t||t.unobserve(e)}isElementIntersected(e){return!!this._intersectedElements.find((t=>t===e))}fire(e){const t=ITEvent.create({name:this._eventName});t&&EventsQueue$1.combine((()=>{e.forEach((e=>{t.setOption("callBeforeFunction",!1),t.fire(e),this.unobserve(e)}))}))}}const productListEventName="event116";var productListTracking=()=>new IntersectionTracking(productListEventName);const teaserEventName="event75";var teaserTracking=()=>new IntersectionTracking(teaserEventName),charAt$1=stringMultibyte.charAt,toString=toString$4,InternalStateModule$1=internalState,defineIterator=defineIterator$2,STRING_ITERATOR="String Iterator",setInternalState$1=InternalStateModule$1.set,getInternalState=InternalStateModule$1.getterFor(STRING_ITERATOR);defineIterator(String,"String",(function(e){setInternalState$1(this,{type:STRING_ITERATOR,string:toString(e),index:0})}),(function(){var e,t=getInternalState(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=charAt$1(r,n),t.index+=e.length,{value:e,done:!1})}));var DESCRIPTORS$1=descriptors,uncurryThis$3=functionUncurryThis,call$2=functionCall,fails$1=fails$h,objectKeys=objectKeys$2,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,propertyIsEnumerableModule=objectPropertyIsEnumerable,toObject$1=toObject$5,IndexedObject=indexedObject,$assign=Object.assign,defineProperty=Object.defineProperty,concat=uncurryThis$3([].concat),objectAssign=!$assign||fails$1((function(){if(DESCRIPTORS$1&&1!==$assign({b:1},$assign(defineProperty({},"a",{enumerable:!0,get:function(){defineProperty(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=$assign({},e)[r]||objectKeys($assign({},t)).join("")!=n}))?function(e,t){for(var r=toObject$1(e),n=arguments.length,i=1,a=getOwnPropertySymbolsModule.f,o=propertyIsEnumerableModule.f;n>i;)for(var s,l=IndexedObject(arguments[i++]),c=a?concat(objectKeys(l),a(l)):objectKeys(l),u=c.length,h=0;u>h;)s=c[h++],DESCRIPTORS$1&&!call$2(o,l,s)||(r[s]=l[s]);return r}:$assign,call$1=functionCall,anObject$1=anObject$c,getMethod=getMethod$4,iteratorClose$1=function(e,t,r){var n,i;anObject$1(e);try{if(!(n=getMethod(e,"return"))){if("throw"===t)throw r;return r}n=call$1(n,e)}catch(e){i=!0,n=e}if("throw"===t)throw r;if(i)throw n;return anObject$1(n),r},anObject=anObject$c,iteratorClose=iteratorClose$1,callWithSafeIterationClosing$1=function(e,t,r,n){try{return n?t(anObject(r)[0],r[1]):t(r)}catch(t){iteratorClose(e,"throw",t)}},wellKnownSymbol=wellKnownSymbol$e,Iterators=iterators,ITERATOR=wellKnownSymbol("iterator"),ArrayPrototype=Array.prototype,isArrayIteratorMethod$1=function(e){return void 0!==e&&(Iterators.Array===e||ArrayPrototype[ITERATOR]===e)},uncurryThis$2=functionUncurryThis,fails=fails$h,isCallable=isCallable$i,classof=classof$5,getBuiltIn=getBuiltIn$5,inspectSource=inspectSource$3,noop$1=function(){},empty=[],construct=getBuiltIn("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec$2=uncurryThis$2(constructorRegExp.exec),INCORRECT_TO_STRING=!constructorRegExp.exec(noop$1),isConstructorModern=function(e){if(!isCallable(e))return!1;try{return construct(noop$1,empty,e),!0}catch(e){return!1}},isConstructorLegacy=function(e){if(!isCallable(e))return!1;switch(classof(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING||!!exec$2(constructorRegExp,inspectSource(e))}catch(e){return!0}};isConstructorLegacy.sham=!0;var isConstructor$1=!construct||fails((function(){var e;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern((function(){e=!0}))||e}))?isConstructorLegacy:isConstructorModern,global$3=global$C,bind$1=functionBindContext,call=functionCall,toObject=toObject$5,callWithSafeIterationClosing=callWithSafeIterationClosing$1,isArrayIteratorMethod=isArrayIteratorMethod$1,isConstructor=isConstructor$1,lengthOfArrayLike=lengthOfArrayLike$3,createProperty=createProperty$2,getIterator=getIterator$2,getIteratorMethod=getIteratorMethod$3,Array$1=global$3.Array,arrayFrom$1=function(e){var t=toObject(e),r=isConstructor(this),n=arguments.length,i=n>1?arguments[1]:void 0,a=void 0!==i;a&&(i=bind$1(i,n>2?arguments[2]:void 0));var o,s,l,c,u,h,d=getIteratorMethod(t),p=0;if(!d||this==Array$1&&isArrayIteratorMethod(d))for(o=lengthOfArrayLike(t),s=r?new this(o):Array$1(o);o>p;p++)h=a?i(t[p],p):t[p],createProperty(s,p,h);else for(u=(c=getIterator(t,d)).next,s=r?new this:[];!(l=call(u,c)).done;p++)h=a?callWithSafeIterationClosing(c,i,[l.value,p],!0):l.value,createProperty(s,p,h);return s.length=p,s},global$2=global$C,uncurryThis$1=functionUncurryThis,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexNonASCII=/[^\0-\u007E]/,regexSeparators=/[.\u3002\uFF0E\uFF61]/g,OVERFLOW_ERROR="Overflow: input needs wider integers to process",baseMinusTMin=base-tMin,RangeError=global$2.RangeError,exec$1=uncurryThis$1(regexSeparators.exec),floor$1=Math.floor,fromCharCode=String.fromCharCode,charCodeAt=uncurryThis$1("".charCodeAt),join$1=uncurryThis$1([].join),push$1=uncurryThis$1([].push),replace$1=uncurryThis$1("".replace),split$1=uncurryThis$1("".split),toLowerCase$1=uncurryThis$1("".toLowerCase),ucs2decode=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=charCodeAt(e,r++);if(i>=55296&&i<=56319&&r<n){var a=charCodeAt(e,r++);56320==(64512&a)?push$1(t,((1023&i)<<10)+(1023&a)+65536):(push$1(t,i),r--)}else push$1(t,i)}return t},digitToBasic=function(e){return e+22+75*(e<26)},adapt=function(e,t,r){var n=0;for(e=r?floor$1(e/damp):e>>1,e+=floor$1(e/t);e>baseMinusTMin*tMax>>1;)e=floor$1(e/baseMinusTMin),n+=base;return floor$1(n+(baseMinusTMin+1)*e/(e+skew))},encode=function(e){var t,r,n=[],i=(e=ucs2decode(e)).length,a=initialN,o=0,s=initialBias;for(t=0;t<e.length;t++)(r=e[t])<128&&push$1(n,fromCharCode(r));var l=n.length,c=l;for(l&&push$1(n,delimiter);c<i;){var u=maxInt;for(t=0;t<e.length;t++)(r=e[t])>=a&&r<u&&(u=r);var h=c+1;if(u-a>floor$1((maxInt-o)/h))throw RangeError(OVERFLOW_ERROR);for(o+=(u-a)*h,a=u,t=0;t<e.length;t++){if((r=e[t])<a&&++o>maxInt)throw RangeError(OVERFLOW_ERROR);if(r==a){for(var d=o,p=base;;){var f=p<=s?tMin:p>=s+tMax?tMax:p-s;if(d<f)break;var g=d-f,E=base-f;push$1(n,fromCharCode(digitToBasic(f+g%E))),d=floor$1(g/E),p+=base}push$1(n,fromCharCode(digitToBasic(d))),s=adapt(o,h,c==l),o=0,c++}}o++,a++}return join$1(n,"")},stringPunycodeToAscii=function(e){var t,r,n=[],i=split$1(replace$1(toLowerCase$1(e),regexSeparators,"."),".");for(t=0;t<i.length;t++)r=i[t],push$1(n,exec$1(regexNonASCII,r)?"xn--"+encode(r):r);return join$1(n,".")},$=_export,DESCRIPTORS=descriptors,USE_NATIVE_URL=nativeUrl,global$1=global$C,bind=functionBindContext,uncurryThis=functionUncurryThis,defineProperties=objectDefineProperties.f,redefine=redefine$7.exports,anInstance=anInstance$2,hasOwn=hasOwnProperty_1,assign=objectAssign,arrayFrom=arrayFrom$1,arraySlice=arraySliceSimple,codeAt=stringMultibyte.codeAt,toASCII=stringPunycodeToAscii,$toString=toString$4,setToStringTag=setToStringTag$4,validateArgumentsLength=validateArgumentsLength$2,URLSearchParamsModule=web_urlSearchParams_constructor,InternalStateModule=internalState,setInternalState=InternalStateModule.set,getInternalURLState=InternalStateModule.getterFor("URL"),URLSearchParams$1=URLSearchParamsModule.URLSearchParams,getInternalSearchParamsState=URLSearchParamsModule.getState,NativeURL=global$1.URL,TypeError$1=global$1.TypeError,parseInt$1=global$1.parseInt,floor=Math.floor,pow=Math.pow,charAt=uncurryThis("".charAt),exec=uncurryThis(/./.exec),join=uncurryThis([].join),numberToString=uncurryThis(1..toString),pop=uncurryThis([].pop),push=uncurryThis([].push),replace=uncurryThis("".replace),shift=uncurryThis([].shift),split=uncurryThis("".split),stringSlice=uncurryThis("".slice),toLowerCase=uncurryThis("".toLowerCase),unshift=uncurryThis([].unshift),INVALID_AUTHORITY="Invalid authority",INVALID_SCHEME="Invalid scheme",INVALID_HOST="Invalid host",INVALID_PORT="Invalid port",ALPHA=/[a-z]/i,ALPHANUMERIC=/[\d+-.a-z]/i,DIGIT=/\d/,HEX_START=/^0x/i,OCT=/^[0-7]+$/,DEC=/^\d+$/,HEX=/^[\da-f]+$/i,FORBIDDEN_HOST_CODE_POINT=/[\0\t\n\r #%/:<>?@[\\\]^|]/,FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT=/[\0\t\n\r #/:<>?@[\\\]^|]/,LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,TAB_AND_NEW_LINE=/[\t\n\r]/g,EOF,parseIPv4=function(e){var t,r,n,i,a,o,s,l=split(e,".");if(l.length&&""==l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(i=l[n]))return e;if(a=10,i.length>1&&"0"==charAt(i,0)&&(a=exec(HEX_START,i)?16:8,i=stringSlice(i,8==a?1:2)),""===i)o=0;else{if(!exec(10==a?DEC:8==a?OCT:HEX,i))return e;o=parseInt$1(i,a)}push(r,o)}for(n=0;n<t;n++)if(o=r[n],n==t-1){if(o>=pow(256,5-t))return null}else if(o>255)return null;for(s=pop(r),n=0;n<r.length;n++)s+=r[n]*pow(256,3-n);return s},parseIPv6=function(e){var t,r,n,i,a,o,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,h=0,d=function(){return charAt(e,h)};if(":"==d()){if(":"!=charAt(e,1))return;h+=2,u=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=r=0;r<4&&exec(HEX,d());)t=16*t+parseInt$1(d(),16),h++,r++;if("."==d()){if(0==r)return;if(h-=r,c>6)return;for(n=0;d();){if(i=null,n>0){if(!("."==d()&&n<4))return;h++}if(!exec(DIGIT,d()))return;for(;exec(DIGIT,d());){if(a=parseInt$1(d(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;h++}l[c]=256*l[c]+i,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[c++]=t}else{if(null!==u)return;h++,u=++c}}if(null!==u)for(o=c-u,c=7;0!=c&&o>0;)s=l[c],l[c--]=l[u+o-1],l[u+--o]=s;else if(8!=c)return;return l},findLongestZeroSequence=function(e){for(var t=null,r=1,n=null,i=0,a=0;a<8;a++)0!==e[a]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=a),++i);return i>r&&(t=n,r=i),t},serializeHost=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)unshift(t,e%256),e=floor(e/256);return join(t,".")}if("object"==typeof e){for(t="",n=findLongestZeroSequence(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=numberToString(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},C0ControlPercentEncodeSet={},fragmentPercentEncodeSet=assign({},C0ControlPercentEncodeSet,{" ":1,'"':1,"<":1,">":1,"`":1}),pathPercentEncodeSet=assign({},fragmentPercentEncodeSet,{"#":1,"?":1,"{":1,"}":1}),userinfoPercentEncodeSet=assign({},pathPercentEncodeSet,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(e,t){var r=codeAt(e,0);return r>32&&r<127&&!hasOwn(t,e)?e:encodeURIComponent(e)},specialSchemes={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isWindowsDriveLetter=function(e,t){var r;return 2==e.length&&exec(ALPHA,charAt(e,0))&&(":"==(r=charAt(e,1))||!t&&"|"==r)},startsWithWindowsDriveLetter=function(e){var t;return e.length>1&&isWindowsDriveLetter(stringSlice(e,0,2))&&(2==e.length||"/"===(t=charAt(e,2))||"\\"===t||"?"===t||"#"===t)},isSingleDot=function(e){return"."===e||"%2e"===toLowerCase(e)},isDoubleDot=function(e){return".."===(e=toLowerCase(e))||"%2e."===e||".%2e"===e||"%2e%2e"===e},SCHEME_START={},SCHEME={},NO_SCHEME={},SPECIAL_RELATIVE_OR_AUTHORITY={},PATH_OR_AUTHORITY={},RELATIVE={},RELATIVE_SLASH={},SPECIAL_AUTHORITY_SLASHES={},SPECIAL_AUTHORITY_IGNORE_SLASHES={},AUTHORITY={},HOST={},HOSTNAME={},PORT={},FILE={},FILE_SLASH={},FILE_HOST={},PATH_START={},PATH={},CANNOT_BE_A_BASE_URL_PATH={},QUERY={},FRAGMENT={},URLState=function(e,t,r){var n,i,a,o=$toString(e);if(t){if(i=this.parse(o))throw TypeError$1(i);this.searchParams=null}else{if(void 0!==r&&(n=new URLState(r,!0)),i=this.parse(o,null,n))throw TypeError$1(i);(a=getInternalSearchParamsState(new URLSearchParams$1)).bindURL(this),this.searchParams=a}};URLState.prototype={type:"URL",parse:function(e,t,r){var n,i,a,o,s=this,l=t||SCHEME_START,c=0,u="",h=!1,d=!1,p=!1;for(e=$toString(e),t||(s.scheme="",s.username="",s.password="",s.host=null,s.port=null,s.path=[],s.query=null,s.fragment=null,s.cannotBeABaseURL=!1,e=replace(e,LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE,"")),e=replace(e,TAB_AND_NEW_LINE,""),n=arrayFrom(e);c<=n.length;){switch(i=n[c],l){case SCHEME_START:if(!i||!exec(ALPHA,i)){if(t)return INVALID_SCHEME;l=NO_SCHEME;continue}u+=toLowerCase(i),l=SCHEME;break;case SCHEME:if(i&&(exec(ALPHANUMERIC,i)||"+"==i||"-"==i||"."==i))u+=toLowerCase(i);else{if(":"!=i){if(t)return INVALID_SCHEME;u="",l=NO_SCHEME,c=0;continue}if(t&&(s.isSpecial()!=hasOwn(specialSchemes,u)||"file"==u&&(s.includesCredentials()||null!==s.port)||"file"==s.scheme&&!s.host))return;if(s.scheme=u,t)return void(s.isSpecial()&&specialSchemes[s.scheme]==s.port&&(s.port=null));u="","file"==s.scheme?l=FILE:s.isSpecial()&&r&&r.scheme==s.scheme?l=SPECIAL_RELATIVE_OR_AUTHORITY:s.isSpecial()?l=SPECIAL_AUTHORITY_SLASHES:"/"==n[c+1]?(l=PATH_OR_AUTHORITY,c++):(s.cannotBeABaseURL=!0,push(s.path,""),l=CANNOT_BE_A_BASE_URL_PATH)}break;case NO_SCHEME:if(!r||r.cannotBeABaseURL&&"#"!=i)return INVALID_SCHEME;if(r.cannotBeABaseURL&&"#"==i){s.scheme=r.scheme,s.path=arraySlice(r.path),s.query=r.query,s.fragment="",s.cannotBeABaseURL=!0,l=FRAGMENT;break}l="file"==r.scheme?FILE:RELATIVE;continue;case SPECIAL_RELATIVE_OR_AUTHORITY:if("/"!=i||"/"!=n[c+1]){l=RELATIVE;continue}l=SPECIAL_AUTHORITY_IGNORE_SLASHES,c++;break;case PATH_OR_AUTHORITY:if("/"==i){l=AUTHORITY;break}l=PATH;continue;case RELATIVE:if(s.scheme=r.scheme,i==EOF)s.username=r.username,s.password=r.password,s.host=r.host,s.port=r.port,s.path=arraySlice(r.path),s.query=r.query;else if("/"==i||"\\"==i&&s.isSpecial())l=RELATIVE_SLASH;else if("?"==i)s.username=r.username,s.password=r.password,s.host=r.host,s.port=r.port,s.path=arraySlice(r.path),s.query="",l=QUERY;else{if("#"!=i){s.username=r.username,s.password=r.password,s.host=r.host,s.port=r.port,s.path=arraySlice(r.path),s.path.length--,l=PATH;continue}s.username=r.username,s.password=r.password,s.host=r.host,s.port=r.port,s.path=arraySlice(r.path),s.query=r.query,s.fragment="",l=FRAGMENT}break;case RELATIVE_SLASH:if(!s.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){s.username=r.username,s.password=r.password,s.host=r.host,s.port=r.port,l=PATH;continue}l=AUTHORITY}else l=SPECIAL_AUTHORITY_IGNORE_SLASHES;break;case SPECIAL_AUTHORITY_SLASHES:if(l=SPECIAL_AUTHORITY_IGNORE_SLASHES,"/"!=i||"/"!=charAt(u,c+1))continue;c++;break;case SPECIAL_AUTHORITY_IGNORE_SLASHES:if("/"!=i&&"\\"!=i){l=AUTHORITY;continue}break;case AUTHORITY:if("@"==i){h&&(u="%40"+u),h=!0,a=arrayFrom(u);for(var f=0;f<a.length;f++){var g=a[f];if(":"!=g||p){var E=percentEncode(g,userinfoPercentEncodeSet);p?s.password+=E:s.username+=E}else p=!0}u=""}else if(i==EOF||"/"==i||"?"==i||"#"==i||"\\"==i&&s.isSpecial()){if(h&&""==u)return INVALID_AUTHORITY;c-=arrayFrom(u).length+1,u="",l=HOST}else u+=i;break;case HOST:case HOSTNAME:if(t&&"file"==s.scheme){l=FILE_HOST;continue}if(":"!=i||d){if(i==EOF||"/"==i||"?"==i||"#"==i||"\\"==i&&s.isSpecial()){if(s.isSpecial()&&""==u)return INVALID_HOST;if(t&&""==u&&(s.includesCredentials()||null!==s.port))return;if(o=s.parseHost(u))return o;if(u="",l=PATH_START,t)return;continue}"["==i?d=!0:"]"==i&&(d=!1),u+=i}else{if(""==u)return INVALID_HOST;if(o=s.parseHost(u))return o;if(u="",l=PORT,t==HOSTNAME)return}break;case PORT:if(!exec(DIGIT,i)){if(i==EOF||"/"==i||"?"==i||"#"==i||"\\"==i&&s.isSpecial()||t){if(""!=u){var m=parseInt$1(u,10);if(m>65535)return INVALID_PORT;s.port=s.isSpecial()&&m===specialSchemes[s.scheme]?null:m,u=""}if(t)return;l=PATH_START;continue}return INVALID_PORT}u+=i;break;case FILE:if(s.scheme="file","/"==i||"\\"==i)l=FILE_SLASH;else{if(!r||"file"!=r.scheme){l=PATH;continue}if(i==EOF)s.host=r.host,s.path=arraySlice(r.path),s.query=r.query;else if("?"==i)s.host=r.host,s.path=arraySlice(r.path),s.query="",l=QUERY;else{if("#"!=i){startsWithWindowsDriveLetter(join(arraySlice(n,c),""))||(s.host=r.host,s.path=arraySlice(r.path),s.shortenPath()),l=PATH;continue}s.host=r.host,s.path=arraySlice(r.path),s.query=r.query,s.fragment="",l=FRAGMENT}}break;case FILE_SLASH:if("/"==i||"\\"==i){l=FILE_HOST;break}r&&"file"==r.scheme&&!startsWithWindowsDriveLetter(join(arraySlice(n,c),""))&&(isWindowsDriveLetter(r.path[0],!0)?push(s.path,r.path[0]):s.host=r.host),l=PATH;continue;case FILE_HOST:if(i==EOF||"/"==i||"\\"==i||"?"==i||"#"==i){if(!t&&isWindowsDriveLetter(u))l=PATH;else if(""==u){if(s.host="",t)return;l=PATH_START}else{if(o=s.parseHost(u))return o;if("localhost"==s.host&&(s.host=""),t)return;u="",l=PATH_START}continue}u+=i;break;case PATH_START:if(s.isSpecial()){if(l=PATH,"/"!=i&&"\\"!=i)continue}else if(t||"?"!=i)if(t||"#"!=i){if(i!=EOF&&(l=PATH,"/"!=i))continue}else s.fragment="",l=FRAGMENT;else s.query="",l=QUERY;break;case PATH:if(i==EOF||"/"==i||"\\"==i&&s.isSpecial()||!t&&("?"==i||"#"==i)){if(isDoubleDot(u)?(s.shortenPath(),"/"==i||"\\"==i&&s.isSpecial()||push(s.path,"")):isSingleDot(u)?"/"==i||"\\"==i&&s.isSpecial()||push(s.path,""):("file"==s.scheme&&!s.path.length&&isWindowsDriveLetter(u)&&(s.host&&(s.host=""),u=charAt(u,0)+":"),push(s.path,u)),u="","file"==s.scheme&&(i==EOF||"?"==i||"#"==i))for(;s.path.length>1&&""===s.path[0];)shift(s.path);"?"==i?(s.query="",l=QUERY):"#"==i&&(s.fragment="",l=FRAGMENT)}else u+=percentEncode(i,pathPercentEncodeSet);break;case CANNOT_BE_A_BASE_URL_PATH:"?"==i?(s.query="",l=QUERY):"#"==i?(s.fragment="",l=FRAGMENT):i!=EOF&&(s.path[0]+=percentEncode(i,C0ControlPercentEncodeSet));break;case QUERY:t||"#"!=i?i!=EOF&&("'"==i&&s.isSpecial()?s.query+="%27":s.query+="#"==i?"%23":percentEncode(i,C0ControlPercentEncodeSet)):(s.fragment="",l=FRAGMENT);break;case FRAGMENT:i!=EOF&&(s.fragment+=percentEncode(i,fragmentPercentEncodeSet))}c++}},parseHost:function(e){var t,r,n;if("["==charAt(e,0)){if("]"!=charAt(e,e.length-1))return INVALID_HOST;if(!(t=parseIPv6(stringSlice(e,1,-1))))return INVALID_HOST;this.host=t}else if(this.isSpecial()){if(e=toASCII(e),exec(FORBIDDEN_HOST_CODE_POINT,e))return INVALID_HOST;if(null===(t=parseIPv4(e)))return INVALID_HOST;this.host=t}else{if(exec(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT,e))return INVALID_HOST;for(t="",r=arrayFrom(e),n=0;n<r.length;n++)t+=percentEncode(r[n],C0ControlPercentEncodeSet);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return hasOwn(specialSchemes,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&isWindowsDriveLetter(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,a=e.port,o=e.path,s=e.query,l=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=serializeHost(i),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+join(o,"/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},setHref:function(e){var t=this.parse(e);if(t)throw TypeError$1(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new URLConstructor(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+serializeHost(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse($toString(e)+":",SCHEME_START)},getUsername:function(){return this.username},setUsername:function(e){var t=arrayFrom($toString(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=percentEncode(t[r],userinfoPercentEncodeSet)}},getPassword:function(){return this.password},setPassword:function(e){var t=arrayFrom($toString(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=percentEncode(t[r],userinfoPercentEncodeSet)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?serializeHost(e):serializeHost(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,HOST)},getHostname:function(){var e=this.host;return null===e?"":serializeHost(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,HOSTNAME)},getPort:function(){var e=this.port;return null===e?"":$toString(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=$toString(e))?this.port=null:this.parse(e,PORT))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+join(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,PATH_START))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=$toString(e))?this.query=null:("?"==charAt(e,0)&&(e=stringSlice(e,1)),this.query="",this.parse(e,QUERY)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=$toString(e))?("#"==charAt(e,0)&&(e=stringSlice(e,1)),this.fragment="",this.parse(e,FRAGMENT)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var URLConstructor=function(e){var t=anInstance(this,URLPrototype),r=validateArgumentsLength(arguments.length,1)>1?arguments[1]:void 0,n=setInternalState(t,new URLState(e,!1,r));DESCRIPTORS||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},URLPrototype=URLConstructor.prototype,accessorDescriptor=function(e,t){return{get:function(){return getInternalURLState(this)[e]()},set:t&&function(e){return getInternalURLState(this)[t](e)},configurable:!0,enumerable:!0}};if(DESCRIPTORS&&defineProperties(URLPrototype,{href:accessorDescriptor("serialize","setHref"),origin:accessorDescriptor("getOrigin"),protocol:accessorDescriptor("getProtocol","setProtocol"),username:accessorDescriptor("getUsername","setUsername"),password:accessorDescriptor("getPassword","setPassword"),host:accessorDescriptor("getHost","setHost"),hostname:accessorDescriptor("getHostname","setHostname"),port:accessorDescriptor("getPort","setPort"),pathname:accessorDescriptor("getPathname","setPathname"),search:accessorDescriptor("getSearch","setSearch"),searchParams:accessorDescriptor("getSearchParams"),hash:accessorDescriptor("getHash","setHash")}),redefine(URLPrototype,"toJSON",(function(){return getInternalURLState(this).serialize()}),{enumerable:!0}),redefine(URLPrototype,"toString",(function(){return getInternalURLState(this).serialize()}),{enumerable:!0}),NativeURL){var nativeCreateObjectURL=NativeURL.createObjectURL,nativeRevokeObjectURL=NativeURL.revokeObjectURL;nativeCreateObjectURL&&redefine(URLConstructor,"createObjectURL",bind(nativeCreateObjectURL,NativeURL)),nativeRevokeObjectURL&&redefine(URLConstructor,"revokeObjectURL",bind(nativeRevokeObjectURL,NativeURL))}setToStringTag(URLConstructor,"URL"),$({global:!0,forced:!USE_NATIVE_URL,sham:!DESCRIPTORS},{URL:URLConstructor});class Playtime{constructor(){_defineProperty(this,"startTimestamp",0),_defineProperty(this,"pauseStartTimestamp",0),_defineProperty(this,"pauseTime",0)}get isPaused(){return this.pauseStartTimestamp>0}getTime(){return this.startTimestamp?(Date.now()-this.startTimestamp)/1e3-this.pauseTime:0}start(){this.isPaused?this.resume():this.startTimestamp=Date.now()}pause(){this.isPaused||(this.pauseStartTimestamp=Date.now())}addPauseTime(e){this.pauseTime+=e}removePauseTime(e){this.pauseTime&&this.pauseTime>=e?this.pauseTime-=e:this.pauseTime=0}resume(){this.isPaused&&(this.pauseTime+=(Date.now()-this.pauseStartTimestamp)/1e3),this.pauseStartTimestamp=0}interval(){this.reset(),this.startTimestamp=Date.now()}stop(){this.reset()}reset(){this.startTimestamp=0,this.pauseStartTimestamp=0,this.pauseTime=0}}const MEDIA_START="mediaStart",MEDIA_COMPLETE="mediaComplete",MEDIA_PLAYTIME="mediaPlaytime",itMediaEventNames={[MEDIA_START]:"event22",[MEDIA_COMPLETE]:"event28",[MEDIA_PLAYTIME]:"event23"},mediaEventEvarsStrategies={eVar120:e=>e.id,eVar121:e=>{var t;return null!==(t=e.playerType)&&void 0!==t?t:null},eVar122:e=>{var t;return null!==(t=e.seekTime)&&void 0!==t?t:null},eVar123:e=>{var t;return null!==(t=e.duration)&&void 0!==t?t:null},eVar124:e=>{var t;return null!==(t=e.playTime)&&void 0!==t?t:null}};function fireMediaEvent(e,t,r){let n=null;const i=instatag.itMediaTracker.registeredMediaEvents;if(n=i[e.id]&&i[e.id][t]?i[e.id][t]:instatag.createEvent(itMediaEventNames[t]),!n)return;const a=Object.assign({},r,{id:e.id});return n.evars.forEach((e=>{mediaEventEvarsStrategies[e.name]&&(e.value=mediaEventEvarsStrategies[e.name](a))})),n.fire(e)}function truncateNumber(e){return Math.floor(100*e)/100}class Media{constructor(e,t){_defineProperty(this,"el",void 0),_defineProperty(this,"interval",0),_defineProperty(this,"duration",0),_defineProperty(this,"firstplay",!0),_defineProperty(this,"watchedTillEnd",!1),_defineProperty(this,"lastComputeTimestamp",0),_defineProperty(this,"lastPlaytimeBeforeEnd",0),_defineProperty(this,"playerType",void 0),_defineProperty(this,"playTimeTracker",void 0),_defineProperty(this,"mediaTrackingContainer",void 0),_defineProperty(this,"_seekerPosition",0),_defineProperty(this,"_playTime",0),_defineProperty(this,"lastTimeUpdate",0),_defineProperty(this,"listeners",{}),this.el=e,this.mediaTrackingContainer=t,this.playerType=this.getPlayerType(),this.playTimeTracker=new Playtime,this.lastComputeTimestamp=0}get seekerPosition(){return this._seekerPosition}set seekerPosition(e){const t=this.parseTime(e);t>this.duration?this._seekerPosition=this.duration:this._seekerPosition=t}get playTime(){return this._playTime}set playTime(e){this._playTime=this.parseTime(e),this.checkPlaytimeInterval(this._playTime)}checkPlaytimeInterval(e){if(e>=this.interval||e>=this.parseTime(this.interval-.1)){this.playTimeTracker.interval();Math.round(this.parseTime(this.duration-this.lastTimeUpdate))>0?this.firePlayTimeEvent():this.lastPlaytimeBeforeEnd=e}}computePlaytime(e){if(this.watchedTillEnd)return!1;const t=this.parseTime(e-this.lastTimeUpdate);if(0!==t||this.playTimeTracker.isPaused)t>0&&t<1&&(this.playTimeTracker.isPaused&&(this.playTimeTracker.removePauseTime(t),this.playTimeTracker.resume()),this.playTime=this.playTimeTracker.getTime(),this.seekerPosition=e);else if(this.playTimeTracker.pause(),this.lastComputeTimestamp){const e=(Date.now()-this.lastComputeTimestamp)/1e3;this.playTimeTracker.addPauseTime(e)}this.lastTimeUpdate=e,this.lastComputeTimestamp=Date.now()}onPlay(){this.playTimeTracker.start(),this.firstplay&&(this.fireStartEvent(),this.firstplay=!1),this.watchedTillEnd=!1}onEnd(){this.playTime=this.playTimeTracker.getTime(),this.playTimeTracker.stop(),this.playTime>=.5&&(this.lastPlaytimeBeforeEnd=this.playTime),this.fireEndEvent(),this.watchedTillEnd=!0,this.firstplay=!0,this.removeMediaListeners()}onPause(){this.playTimeTracker.pause()}isBrightCovePlayer(e){return e.className.indexOf("bc-player")>=0}getPlayerType(){return this.el.src.indexOf("brightcove")>-1?"brightcove":this.el.src.indexOf("youtube")>-1?"youtube":this.isBrightCovePlayer(this.el)||this.el.parentElement&&this.isBrightCovePlayer(this.el.parentElement)?"brightcove":"html5"}parseTime(e){return truncateNumber(e)}reset(){this.lastTimeUpdate=0,this.playTime=0,this.seekerPosition=0,this.lastPlaytimeBeforeEnd=0}fireStartEvent(){const e={playerType:this.playerType,duration:this.duration,seekTime:this.seekerPosition||.01};fireMediaEvent(this.el,"mediaStart",e)}fireEndEvent(){const e={playerType:this.playerType,duration:this.duration,seekTime:Math.round(this.seekerPosition),playTime:this.lastPlaytimeBeforeEnd};fireMediaEvent(this.el,"mediaComplete",e)}firePlayTimeEvent(){const e={playerType:this.playerType,duration:this.duration,seekTime:Math.round(this.seekerPosition),playTime:this.playTime};fireMediaEvent(this.el,"mediaPlaytime",e)}addMediaElementListener(e,t,r){e.addEventListener(t,r),this.listeners[t]=()=>{e.removeEventListener(t,r)}}addYoutubeListener(e,t,r){e.addEventListener(t,r),this.listeners[t]=()=>{e.removeEventListener(t,r)}}removeListener(e){this.listeners[e]&&this.listeners[e]()}removeMediaListeners(){Object.keys(this.listeners).forEach(this.removeListener.bind(this)),this.listeners={}}}class AccurateTimer{constructor(e,t){_defineProperty(this,"expected",0),_defineProperty(this,"timeout",null),_defineProperty(this,"cb",void 0),_defineProperty(this,"timeInterval",void 0),this.timeInterval=t,this.cb=e}start(){this.expected=Date.now()+this.timeInterval,this.timeout=setTimeout(this.round.bind(this),this.timeInterval)}stop(){this.timeout&&clearTimeout(this.timeout)}round(){const e=Date.now()-this.expected;this.cb(),this.expected+=this.timeInterval,this.timeout=setTimeout(this.round.bind(this),this.timeInterval-e)}}class ITNativeMedia extends Media{constructor(e,t){super(e,t),_defineProperty(this,"timer",null),e.readyState>=1?this.init():this.addMediaElementListener(e,"loadedmetadata",this.init.bind(this))}init(){this.addMediaElementListener(this.el,"ended",this.onEnd.bind(this)),this.addMediaElementListener(this.el,"playing",this.onPlay.bind(this)),this.addMediaElementListener(this.el,"pause",this.onPause.bind(this)),this.timer=new AccurateTimer((()=>{const e=this.el.currentTime;this.computePlaytime(e)}),100),this.duration=this.parseTime(this.el.duration),this.interval=this.parseTime(Math.min(this.duration/4,60))}onPlay(){var e;null===(e=this.timer)||void 0===e||e.start(),super.onPlay()}onEnd(){var e;null===(e=this.timer)||void 0===e||e.stop(),super.onEnd()}onPause(){var e;null===(e=this.timer)||void 0===e||e.stop(),super.onPause()}removeMediaListeners(){this.timer&&this.timer.stop(),super.removeMediaListeners()}}const noop=function(){};class YoutubeMedia extends Media{constructor(e,t){super(e,t),_defineProperty(this,"player",null),_defineProperty(this,"timer",null),window.YT&&window.YT.Player?this.init():document.addEventListener("it-yt-iframe-api-loaded",this.init.bind(this))}init(){this.player=new window.YT.Player(this.el.id,{}),this.addYoutubeListener(this.player,"onReady",this.onPlayerReady.bind(this)),this.addYoutubeListener(this.player,"onStateChange",this.onPlayerStateChange.bind(this))}onPlayerReady(){this.player&&(this.duration=this.parseTime(this.player.getDuration()),this.interval=this.parseTime(Math.min(this.duration/4,60)),this.timer=new AccurateTimer((()=>{this.player&&this.computePlaytime(this.parseTime(this.player.getCurrentTime()))}),100))}onPlayerStateChange(e){this.handlePlayerEvent(e.data)}handlePlayerEvent(e){3!==e&&(1===e?this.onPlay():2===e?this.onPause():0===e&&this.onEnd())}onPlay(){var e;null===(e=this.timer)||void 0===e||e.start(),super.onPlay()}onPause(){var e;null===(e=this.timer)||void 0===e||e.stop(),super.onPause()}onEnd(){var e;null===(e=this.timer)||void 0===e||e.stop(),super.onEnd(),this.handlePlayerEvent=noop}removeMediaListeners(){this.timer&&this.timer.stop(),this.handlePlayerEvent=noop}}function isYoutubeFrame(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.indexOf("youtube")>-1}class ITMediaTracker{constructor(){_defineProperty(this,"indexStorage",0),_defineProperty(this,"observer",null),_defineProperty(this,"isYoutubeAPILoaded",!1),_defineProperty(this,"registeredMediaEvents",{}),_defineProperty(this,"media",{}),this.mutationCallback=this.mutationCallback.bind(this),onDomLoad((()=>{this.initMedia()}))}initMedia(){queryAll("video, audio").forEach((e=>{this.trackMedia(e)})),queryAll("iframe").forEach((e=>{this.trackYoutubeMedia(e)})),this.initMediaObserver()}loadYoutubeIframeAPI(){if(this.isYoutubeAPILoaded)return;if(!(!window.YT||!window.YT.Player))return void(this.isYoutubeAPILoaded=!0);window.onYouTubeIframeAPIReady=this._onYouTubeIframeAPIReady.bind(this);const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";const t=document.getElementsByTagName("script")[0];t&&t.parentNode?t.parentNode.insertBefore(e,t):document.head.appendChild(e)}_onYouTubeIframeAPIReady(){this.isYoutubeAPILoaded=!0;const e=document.createEvent("Event");e.initEvent("it-yt-iframe-api-loaded",!1,!1),document.dispatchEvent(e)}initMediaObserver(){this.observer=new MutationObserver(this.mutationCallback),this.observer.observe(document.body,{attributeFilter:["src"],childList:!0,subtree:!0})}disconnectObserver(){var e;null===(e=this.observer)||void 0===e||e.disconnect(),this.observer=null}mutationCallback(e){for(const t of e)if("attributes"===t.type&&"src"===t.attributeName&&t.target instanceof HTMLMediaElement&&(this.forgetMedia(t.target),this.trackMedia(t.target)),"childList"===t.type){for(const e of t.addedNodes)e instanceof HTMLMediaElement&&this.trackMedia(e),e instanceof HTMLIFrameElement&&this.trackYoutubeMedia(e);for(const e of t.removedNodes)(e instanceof HTMLMediaElement||e instanceof HTMLIFrameElement)&&this.forgetMedia(e)}}getMediaIdentifier(e){const t=e.getAttribute("name");return t&&0!==t.length||this.setMediaNameAttr(e),e.id&&e.id.length||this.setMediaIdentifier(e),e.id}setMediaIdentifier(e){e.setAttribute("id","it-media-player-"+this.indexStorage++)}setMediaNameAttr(e){const t="it-no-name-found";e instanceof HTMLMediaElement&&e.setAttribute("name",e.src||e.currentSrc||t),e instanceof HTMLIFrameElement&&e.setAttribute("name",e.src||t)}storeRegisteredEvent(e,t,r){if(!e)return;let n=this.registeredMediaEvents[e];n||(this.registeredMediaEvents[e]={},n=this.registeredMediaEvents[e]),n[t]=r}trackMedia(e){const t=this.getMediaIdentifier(e);this.isMediaElementBlackListed(e)||(this.media[t]=new ITNativeMedia(e,this))}trackYoutubeMedia(e){if(!e.src||!isYoutubeFrame(e.src))return;const t=new URL(e.src);t.searchParams.get("enablejsapi")||(t.searchParams.append("enablejsapi","1"),e.src=t.href),this.loadYoutubeIframeAPI();const r=this.getMediaIdentifier(e);this.isMediaElementBlackListed(e)||(this.media[r]=new YoutubeMedia(e,this))}isMediaElementBlackListed(e){const t=e.getAttribute("name");if(!t)return!1;const r=itConfig.getNodeConfiguration();return((null==r?void 0:r.media_tracking_blacklist)||[]).indexOf(t)>=0}forgetMedia(e){let t=e.id;if(t){if(!this.media[t]){const r=Object.entries(this.media).find((t=>{let[,r]=t;return r.el===e}));r&&(t=r[0])}this.media[t]&&(this.media[t].removeMediaListeners(),delete this.media[t])}}findMediaByElement(e){const t=Object.keys(this.media);let r=null;for(let n=0;n<t.length;n++){const i=this.media[t[n]];if(i&&i.el===e){r=i;break}}return r}}const NOT_SET_EVAR_VALUE="<not set>",VEEVA_CUSTOMER_TYPE="VeevaID";function getEvarValuesPayload(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={};return e.forEach((e=>{const n=instatag.config.specs.find((t=>t.evar_name===e));if(!n)return;const i=getDoPluginEvarValue(n,t),a=n.localized_evar_name||n.evar_label;r[a]=Array.isArray(i)?i[0]||"":i||""})),r}function getEventLabelByEventName(e){const t=instatag.config.events.find((t=>t.event_name===e));return t&&t.localized_event_name||e}function sendEventToCRM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e.eventName)return logError("Event name is not specified for Send To CRM snippet");const r=getEventLabelByEventName(e.eventName),n=Boolean(e.isKpiEvent),i=e.doPluginEvarValues||{},a={eVar18:"",eVar112:"",eVar2:"",eVar5:"",eVar6:"",eVar38:""};instatag.config.specs.forEach((e=>{void 0!==a[e.evar_name]&&(a[e.evar_name]=e.evar_fqn)}));const o=i.eVar18||get(a.eVar18,window),s=i.eVar112||get(a.eVar112,window),l=s===VEEVA_CUSTOMER_TYPE;if(!(r&&o&&l&&instatag.config.crm.client))return!1;const c=t.filter((e=>e!==NOT_SET_EVAR_VALUE)),u=getEvarValuesPayload(c,i),h={eVar2:i.eVar2||get(a.eVar2,window)||null,eVar5:i.eVar5||get(a.eVar5,window)||null,eVar6:i.eVar6||get(a.eVar6,window)||null,eVar38:i.eVar38||get(a.eVar38,window)||null};Object.keys(h).forEach((e=>{h[e]||delete h[e]}));const d={kpi:n,d:e.kpiDescription||"",ca:o,c:instatag.config.crm.client,app:instatag.config.applicationNodeId,event:r,dims:JSON.stringify(u),url:window.location.href,ua:window.navigator.userAgent,evars:JSON.stringify(h)},p=instatag.config.crm.settings;p&&p.session_time&&(d.st=p.session_time),httpRequest({method:"POST",url:window.WSC.modules.instatag.config.crm.endpoint,headers:{"Cache-Control":"no-cache, no-store, max-age=0"},body:JSON.stringify(d),onError:e=>{logError("Could not send event to CRM: ".concat(e.toString()))}})}const scodeTrackFunction=function(e){if(!e)return!1;EventDataLayer.pushWithCurrentDigitalData(adobeEventsMap[e]||e)},satelliteLoaded=function(){window._satellite&&(window._satellite.track=scodeTrackFunction)},ENGAGEMENT_EVENT_NAME="event118";let TIMER_INDEX=0,ENGAGEMENT_EVENT_FIRED=!1;class EngagementEventHandler{constructor(e){var t;(_defineProperty(this,"_eventRules",[]),instatag.eventRegister.getEvent(ENGAGEMENT_EVENT_NAME))||(null===(t=instatag.createEvent(ENGAGEMENT_EVENT_NAME))||void 0===t||t.register());this._eventRules=this.toEventRules(e);const r=this.prepareExtras();this.createTimers(r.timers),this.createScrollsActions(r.scrollProgresses)}canEventBeTriggered(){return this._eventRules.some((e=>e.every((e=>e.eventRun))))}checkEventRules(e){e&&e.length&&(this._eventRules=this._eventRules.map((t=>t.map((t=>(t.name&&e.find((e=>e.startsWith(t.name)))&&(t.eventRun=!0),t))))))}setTimer(e,t){return setTimeout((()=>{this.fire([e])}),t)}prepareExtras(){const e={timers:[],scrollProgresses:[]};return this._eventRules=this._eventRules.map((t=>t.map((t=>(t.name&&t.name.startsWith("timer")&&e.timers.push({name:t.name,duration:1e3*t.duration}),t.name&&t.name.startsWith("Page_Scroll")&&(e.scrollProgresses.includes(t.progress)||e.scrollProgresses.push(t.progress)),t))))),e}createTimers(e){e.forEach((e=>this.setTimer(e.name,e.duration)))}createScrollsActions(e){const t=[];e.forEach((e=>{t.push({depth:e.toString(),fn:()=>{instatag.engagementEventHandler.fire(["Page_Scroll_".concat(e)])}})})),t.length>0&&instatag.bootScrollDepthActions(t)}fire(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ENGAGEMENT_EVENT_FIRED)return;const r=instatag.eventRegister.getEvent(ENGAGEMENT_EVENT_NAME);r&&(t||(this.checkEventRules(e),this.canEventBeTriggered()))&&(r.fire(),ENGAGEMENT_EVENT_FIRED=!0)}toEventRules(e){return e.map((e=>e.map((e=>{let{customDomEventName:t,customEventName:r,duration:n,progress:i}=e;"timer"===r&&(r="timer".concat(TIMER_INDEX++)),"Page_Scroll"===r&&(r="Page_Scroll_".concat(i));const a={name:r||"",eventRun:!1,duration:n||0,progress:i||0};return t&&(a.name=ADOBE_EVENTS_MAP[t]||t),a}))))}}class RedirectionHandler{constructor(e){_defineProperty(this,"config",void 0),this.config=e,document.addEventListener("click",(e=>{this.handleLinkClick(e)}),!0)}handleLinkClick(e){if(!e||!e.target)return!0;const t=e.target;if(!this.isLink(t)||!this.containsDataItAttributes(t)||!this.isRedirectionURL(t.href||null)||this.isExitLink(t)||this.isBlockedElement(t))return!0;e.preventDefault(),this.delayRedirection(t.href)}isLink(e){return e instanceof HTMLAnchorElement||e instanceof HTMLAreaElement}containsDataItAttributes(e){return Array.from(e.attributes).some((e=>e.name===CUSTOM_EVENT_DATA_ATTR))}isRedirectionURL(e){return!!e&&!e.startsWith("#")}isExitLink(e){return Array.from(e.attributes).some((e=>"data-it-exit-link"===e.name))}isBlockedElement(e){return!(!this.config||!this.config.blockedCssSelectors)&&this.config.blockedCssSelectors.some((t=>e.matches(t)))}delayRedirection(e){let t=window.performance.getEntriesByType("resource").length;const r=setInterval((()=>{const n=window.performance.getEntriesByType("resource").length;this.areNewRequestsAppeared(t,n)||(clearInterval(r),window.location.href=e),t=n}),this.countIntervalTime())}areNewRequestsAppeared(e,t){return t>e}countIntervalTime(){return 1.05*(performance.timing.responseEnd-performance.timing.requestStart||0)+160}}const getNormalizedEvents=()=>{const e=[...itConfig.registration];for(let t=0;t<itConfig.events.length;t++){const r=itConfig.events[t];r.data_attribute_trigger_name&&e.push({name:r.event_name,selector:"[".concat(r.data_attribute_trigger_name,"]")})}return e},instatag={doPlugins:doPlugins,config:itConfig,snippetDynamicVariablePrefix:"D=",isTrackingConsentGiven:!1,runSnippets:runSnippets,sendEventToCRM:sendEventToCRM,satelliteLoaded:satelliteLoaded,$load(e){itConfig.unfold(e)},$start(){var e;if(!this.config.isUnfolded)throw new Error("Instatag: No config defined.");(this.config.launchScriptUrl||this.config.isAdobeBaked)&&(void 0===window.digitalData&&(window.digitalData={}),this.config.launchScriptUrl&&appendScript(this.config.launchScriptUrl),this.eventRegister=new EventRegister,this.snippetRuleEventRegister=new SnippetRuleEventRegister,this.itProductListView=productListTracking(),this.itTeaserTracker=teaserTracking(),this.itMediaTracker=new ITMediaTracker,this.config.engagementEvent&&this.config.engagementEvent.length&&(this.engagementEventHandler=new EngagementEventHandler(this.config.engagementEvent)),getNormalizedEvents().forEach((e=>{var t;null===(t=ITEvent.create(e))||void 0===t||t.register(this.eventRegister)})),null!==(e=this.ePrivacyPolicy)&&void 0!==e&&e.eprivacy_enabled||this.runDomLoadActions(),this.config.is_spa&&onRouteChange((()=>{eventBus.emitter.emit(eventBus.events.BEFORE_SPA_CHANGE),requestAnimationFrame((()=>{EventDataLayer.setInitialData(window.digitalData||{}),eventBus.emitter.emit(eventBus.events.AFTER_SPA_CHANGE)}))})),this.config.overlayLibraryUrl&&loadOverlayLibrary(this.config.overlayLibraryUrl))},runDomLoadActions(){onDomLoad((()=>{EventDataLayer.setInitialData(window.digitalData||{}),this.eventRegister.boot(),new RedirectionHandler(this.config.redirectionHandler)}))},modifyEvarValueForNextEvents(e,t){var r,n;if(null===(r=this.config.getEvent("event1"))||void 0===r||!r.evars.includes(e))return;const i=null===(n=this.config.getEvar(e))||void 0===n?void 0:n.evar_fqn;i&&EventDataLayer.modifyPageViewEventData(i,t)},preTrackCallback(e){},registerSnippetRuleCustomEvents(e){if(!e.length||this.snippetRuleEventRegister.booted)return!1;const t=getSnippetRulesToEventsMap(e);Object.keys(t).forEach((e=>{new ITSnippetRuleEventContainer({selector:e,snippetRules:t[e]}).register(this.snippetRuleEventRegister)})),this.snippetRuleEventRegister.bootIfPossible()},bootScrollDepthTacking(){this.config.scrollDepthTracking=!0,isDomLoaded()?scrollChangeService.boot():window.addEventListener("load",(()=>{scrollChangeService.boot()}))},bootScrollDepthActions(e){isDomLoaded()?scrollChangeService.bootWithActions(e):window.addEventListener("load",(()=>{scrollChangeService.bootWithActions(e)}))},disableScrollDepthTacking(){this.config.scrollDepthTracking=!1,scrollChangeService.off()},fireEngagementEvent(){this.engagementEventHandler||(this.engagementEventHandler=new EngagementEventHandler([])),this.engagementEventHandler.fire([],!0)},createEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e={name:e}),ITEvent.create(e,t)}};!function(e){instatag.ePrivacyPolicy=ePrivacy,e.WSC={modules:{instatag:instatag},registerModule(e){var t;if("function"!=typeof e)throw new Error("Module must be a function");const r=e();if("string"!=typeof r.$name||""===r.$name)throw new Error("No module.name set! Name is required!");null===(t=this.pushModule)||void 0===t||t.call(this,r)},pushModule(t){const r=t.$name.split("."),n=r.pop();let i=e.WSC.modules;for(let e=0;e<r.length;e++)"string"!=typeof r[e]||i[r[e]]||(i[r[e]]={}),"object"==typeof i[r[e]]&&(i=i[r[e]]);n&&(i[n]=t)}},console.log("running instatag","0.3.52")}(window)})();

/* Last update: 2024-09-25T13:32:19Z */

window.WSC.modules.instatag.$load({"events":[{"id":1,"event_name":"event1","dtm_event_name":"all_pages","dtm_event_appendable_name":null,"data_attribute_trigger_name":null,"dom_event_name":null,"fire_event_without_elements_by_evar":null,"is_default":1,"evars":["eVar1","eVar2","eVar3","eVar4","eVar5","eVar6","eVar7","eVar8","eVar10","eVar11","eVar12","eVar13","eVar14","eVar16","eVar18","eVar38","eVar39","eVar40","eVar50","eVar67","eVar75","eVar76","eVar77","eVar78","eVar81","eVar82","eVar83","eVar51","eVar100","eVar101","eVar102","eVar103","eVar104","eVar105","eVar106","eVar107","eVar108","eVar109","eVar110","eVar93","eVar112","eVar114","itCurrencyCode","eVar128","eVarOneMeetingParticipants","eVar19"],"workflow_options":{"appendEventToDigitalData":false,"cleanupDigitalData":false,"fireOnStartup":true},"localized_event_name":""},{"id":2,"event_name":"event5","dtm_event_name":"assetView","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-asset-viewed","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar4","eVar7","eVar10","eVar24","eVar76","eVar81","eVar82","eVar83"],"workflow_options":{"cleanupDigitalData":true,"fireOnlyOnce":true,"populateDigitalData":false},"before_function":"function (el, it, utils) {  var _values = el.getAttribute ? el.getAttribute(this._event.data_attribute_trigger_name) : \"\";  if (!_values.length) {    return false;  }  var assetsList = this.getEvar(\"eVar24\");  var valuesToApply = [];  _values.split(\",\").forEach(function(elem) {    valuesToApply.push({      path: assetsList.path,      value: elem,      source: \"data-attribute\"    });  });  /* context of before function is event itself */  this.populateDigitalData(valuesToApply);}","localized_event_name":""},{"id":3,"event_name":"event6","dtm_event_name":"trackAssetDownload","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-asset","dom_event_name":"auxclick,click,contextmenu","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar4","eVar7","eVar10","eVar23","eVar76","eVar81","eVar82","eVar83"],"localized_event_name":""},{"id":4,"event_name":"event8","dtm_event_name":"trackServiceToolStart","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-self-service-tool-start","dom_event_name":"click,contextmenu,DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar26"],"workflow_options":{"fireOnlyNewestElement":true},"localized_event_name":""},{"id":5,"event_name":"event9","dtm_event_name":"trackServiceComplete","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-self-service-tool-complete","dom_event_name":"click,contextmenu,DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar26"],"workflow_options":{"fireOnlyNewestElement":true},"localized_event_name":""},{"id":6,"event_name":"event10","dtm_event_name":"trackSelfDetailingStart","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-self-detailing-start","dom_event_name":"click,contextmenu,DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar27"],"workflow_options":{"fireOnlyNewestElement":true},"localized_event_name":""},{"id":7,"event_name":"event11","dtm_event_name":"trackSelfDetailingComplete","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-self-detailing-complete","dom_event_name":"click,contextmenu,DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar27"],"workflow_options":{"fireOnlyNewestElement":true},"localized_event_name":""},{"id":8,"event_name":"event12","dtm_event_name":"forms_formStart","dtm_event_appendable_name":"formStart","data_attribute_trigger_name":"data-it-form-name","dom_event_name":"change","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar31","eVar32","eVar33","eVar34","internalEvar_submition_text"],"workflow_options":{"fireOnlyOnce":true},"before_function":"function (el, it, utils) {  /**   * Fill eVars based on fields   */  /* get local evars */  var evar33 = this.getEvar(\"eVar33\");  var evar34 = this.getEvar(\"eVar34\");  /* get options */  var reasonEls = utils.queryAll(this.data.reason_selector);  var specialtyEls = utils.queryAll(this.data.specialty_selector);  var reasonDataAttrValue = el.hasAttribute(\"data-it-medical-information\") ? el.value : null;  var specialtyDataAttrValue = el.hasAttribute(\"data-it-specialty\") ? el.value : null;  /* check reason */  if ((reasonEls.length \u003e 0 \u0026\u0026 reasonEls[0].value !== undefined) || reasonDataAttrValue !== null) {    evar33.value = !reasonDataAttrValue ? reasonEls[0].value : reasonDataAttrValue;  }  /* check specialty */  if ((specialtyEls.length \u003e 0 \u0026\u0026 specialtyEls[0].value !== undefined) || specialtyDataAttrValue !== null) {    evar34.value = !specialtyDataAttrValue ? specialtyEls[0].value : specialtyDataAttrValue;  }}","after_function":"function(el, it, utils) {  var submittedFormName = this.getEvar(\"eVar32\")._value || this.getEvar(\"eVar32\")._instatagValue;  if(!submittedFormName) {    return false;  }  var formsEvarData = {\"formEvarData\": {}};  if (window.localStorage \u0026\u0026 window.localStorage.hasOwnProperty(\"formEvarData\")) {    var formsEvarData = JSON.parse(window.localStorage.getItem(\"formEvarData\"));  }  formsEvarData[\"formEvarData\"][submittedFormName] = {    event: \"event12\",    evars: {}  };  this._evars.forEach(function(evar) {    formsEvarData[\"formEvarData\"][submittedFormName][\"evars\"][evar._evar.evar_name] = {      \"_source\": evar._source,      \"_value\": typeof evar._value === \"string\" ? evar._value : null,      \"_instatagValue\": evar._instatagValue    };  });  window.localStorage.setItem(\"formEvarData\", JSON.stringify(formsEvarData));}","element_found_function":"function (el, instatag) {  var selector = this.cssSelector || this.selector;  if (!selector) {    return false;  }  var inputSelector = [    selector + \" input\",    selector + \" select\",    selector + \" textarea\"  ].join(\",\");  if (window.WSC.modules.instatag.config.trackFormInputFilled) {    var inputFilledEvent = instatag.createEvent({      name: \"event112\", /* form start */      selector: \"CSS://\" + inputSelector,      values: this.values, /* my values */      data: this.data /* my data */    });    inputFilledEvent.register();  }}","localized_event_name":""},{"id":9,"event_name":"event13","dtm_event_name":"forms_formSubmit","dtm_event_appendable_name":"formSubmit","data_attribute_trigger_name":"data-it-form-submit","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":"internalEvar_submition_text","is_default":0,"evars":["eVar31","eVar32","eVar33","eVar34","internalEvar_submition_text"],"workflow_options":{"fireOnSubmitTextVisible":true,"fireOnlyOnce":true},"before_function":"function(el, it, utils) {  /* form name is required field, so we should check evar32 for non-empty value */  var formNameFromAttr = !!el ? el.getAttribute(\"data-it-form-submit\") : null;  var eVar32 = this.getEvar(\"eVar32\");  var formNameFromEvar = eVar32._value || eVar32._instatagValue;  var hasFormDataInStorage = window.localStorage \u0026\u0026 window.localStorage.hasOwnProperty(\"formEvarData\");  if (!hasFormDataInStorage || (!formNameFromAttr \u0026\u0026 !formNameFromEvar)) {    return false;  }  var submittedFormsEvarData = JSON.parse(window.localStorage.getItem(\"formEvarData\"));  /* localstorage formEvarData keys are form names, use it as fallback when evar32 is not set */  if (!formNameFromEvar) {    for (var prop in submittedFormsEvarData.formEvarData) {      if (submittedFormsEvarData.formEvarData.hasOwnProperty(prop)) {        formNameFromEvar = prop;      }    }  }  var shouldBeFired = false;  /* check if form submit event was triggered */  if (formNameFromAttr) {    if (!submittedFormsEvarData.formEvarData[formNameFromAttr]) {      return false;    }    if (submittedFormsEvarData.formEvarData[formNameFromAttr][\"event\"] !== \"event12\") {      return false;    }    /* handle form submit via data-attr */    var formEvars = submittedFormsEvarData.formEvarData[formNameFromAttr][\"evars\"];    for (var evarName in formEvars) {      var evar = this.getEvar(evarName);      evar._value = formEvars[evarName]._value;      evar._instatagValue = formEvars[evarName]._instatagValue;      evar._source = formEvars[evarName]._source;    }    shouldBeFired = true;    delete submittedFormsEvarData.formEvarData[formNameFromAttr];  } else {    if (!submittedFormsEvarData.formEvarData[formNameFromEvar]) {      return false;    }    if (submittedFormsEvarData.formEvarData[formNameFromEvar][\"event\"] !== \"event12\") {      return false;    }    /* handle default form submit */    for (var formName in submittedFormsEvarData.formEvarData) {      var isFormSubmited = false;      var submitText = submittedFormsEvarData.formEvarData[formName][\"evars\"].internalEvar_submition_text;      if (submitText \u0026\u0026 submitText._value) {        isFormSubmited = utils.isStringInDocumentBody(submitText._value);      } else if (formNameFromEvar \u0026\u0026 eVar32._source === \"direct\") {        isFormSubmited = true;      }      if (isFormSubmited) {        for (var evarName in submittedFormsEvarData.formEvarData[formName][\"evars\"]) {          var evar = this.getEvar(evarName);          evar._value = submittedFormsEvarData.formEvarData[formName][\"evars\"][evarName]._value || evar._value;          evar._instatagValue = submittedFormsEvarData.formEvarData[formName][\"evars\"][evarName]._instatagValue || evar._instatagValue;          evar._source = submittedFormsEvarData.formEvarData[formName][\"evars\"][evarName]._source || evar._source;        }        shouldBeFired = true;        delete submittedFormsEvarData.formEvarData[formName];      }    }  }  if (!shouldBeFired) {    return false;  }  if (window.localStorage \u0026\u0026 window.localStorage.hasOwnProperty(\"formEvarData\")) {    if (Object.keys(submittedFormsEvarData.formEvarData).length \u003e 0) {      window.localStorage.setItem(\"formEvarData\", JSON.stringify(submittedFormsEvarData));    } else {      window.localStorage.removeItem(\"formEvarData\");    }  }}","element_found_function":"function (el, instatag) {  var selector = [    this.cssSelector + \" input\",    this.cssSelector + \" select\",    this.cssSelector + \" textarea\"  ].join(\",\");  /* create a form start event and attach it to fields */  var event = instatag.createEvent({    name: \"event12\", /* form start */    selector: \"CSS://\" + selector,    values: this.values, /* my values */    data: this.data /* my data */  });  event.register();  event._evars = [this.getEvar(\"eVar31\"), this.getEvar(\"eVar32\"), this.getEvar(\"eVar33\"), this.getEvar(\"eVar34\"), this.getEvar(\"internalEvar_submition_text\")];}","localized_event_name":""},{"id":12,"event_name":"event29","dtm_event_name":"trackButton","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-button","dom_event_name":"auxclick,click","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar28"],"before_function":"function (el, it, utils) {  if (this.data.getNameFromDOM === true) {    /* change evar value, use innerText or value or name */    var name = el.getAttribute(\"name\") || el.value || el.innerText || \"nothing-set\";    this.getEvar(\"eVar28\").value = name;  }}","localized_event_name":""},{"id":13,"event_name":"event33","dtm_event_name":"SurveyStart","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-survey-title","dom_event_name":"change","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar58","eVar59","eVar62","internalEvar_submition_text"],"workflow_options":{"fireOnlyOnce":true},"after_function":"function(el, it, utils) {  var submittedSurveyTitle = this.getEvar(\"eVar59\")._value || this.getEvar(\"eVar59\")._instatagValue;  if(!submittedSurveyTitle) {    return false;  }  var surveysEvarData = {\"surveyEvarData\": {}};  var surveyId = this.getEvar(\"eVar58\")._value || this.getEvar(\"eVar58\")._instatagValue;  var eVar = this.getEvar(\"eVar62\");  var surveySpecificator = !!surveyId ? surveyId : this.getEvar(\"eVar59\")._value || this.getEvar(\"eVar59\")._instatagValue;  if (el \u0026\u0026 el.form) {    eVar.value = \"s;\" + surveySpecificator + \"|\" + utils.serializeForm(el.form);  }  if (window.localStorage \u0026\u0026 window.localStorage.hasOwnProperty(\"surveyEvarData\")) {    var surveysEvarData = JSON.parse(window.localStorage.getItem(\"surveyEvarData\"));  }  surveysEvarData[\"surveyEvarData\"][submittedSurveyTitle] = {    event: \"event33\",    evars: {}  };  this._evars.forEach(function(evar) {    surveysEvarData[\"surveyEvarData\"][submittedSurveyTitle][\"evars\"][evar._evar.evar_name] = {      \"_source\": evar._source,      \"_value\": typeof evar._value === \"string\" ? evar._value : null,      \"_instatagValue\": evar._instatagValue    };  });  window.localStorage.setItem(\"surveyEvarData\", JSON.stringify(surveysEvarData));  if (el \u0026\u0026 el.form) {    el.form.addEventListener(\"change\", function(event) {      try {        var formData = \"s;\" + surveySpecificator + \"|\" + utils.serializeForm(event.target.form);        eVar.value = formData;        var data = window.localStorage.getItem(\"surveyEvarData\");        data = JSON.parse(data);        data[\"surveyEvarData\"][submittedSurveyTitle][\"evars\"][\"eVar62\"] = {          \"_source\": \"direct\",          \"_value\": formData,          \"_instatagValue\": eVar._instatagValue        };        window.localStorage.setItem(\"surveyEvarData\", JSON.stringify(data));      } catch(err) {}    })  }}","localized_event_name":""},{"id":14,"event_name":"event34","dtm_event_name":"SurveySubmit","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-survey-submit","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":"internalEvar_submition_text","is_default":0,"evars":["eVar58","eVar59","eVar62","internalEvar_submition_text"],"workflow_options":{"fireOnSubmitTextVisible":true,"fireOnlyOnce":true},"before_function":"function (el, it, utils) {  /* survey title is required */  var surveyTitleFromAttr = !!el ? el.getAttribute(\"data-it-survey-submit\") : null;  var eVar59 = this.getEvar(\"eVar59\");  var surveyTitleFromEvar = eVar59.value || eVar59._instatagValue;  var hasSurveyDataInStorage = window.localStorage \u0026\u0026 window.localStorage.hasOwnProperty(\"surveyEvarData\");  if (!hasSurveyDataInStorage || (!surveyTitleFromAttr \u0026\u0026 !surveyTitleFromEvar)) {    return false;  }  var submittedSurveysEvarData = JSON.parse(window.localStorage.getItem(\"surveyEvarData\"));  /* localstorage surveyEvarData keys are surveyy names, use it as fallback*/  if (!surveyTitleFromEvar) {    for (var prop in submittedSurveysEvarData.surveyEvarData) {      if (submittedSurveysEvarData.surveyEvarData.hasOwnProperty(prop)) {        surveyTitleFromEvar = prop;      }    }  }  var shouldBeFired = false;  /* check if form submit event was triggered */  if (surveyTitleFromAttr) {    if (!submittedSurveysEvarData.surveyEvarData[surveyTitleFromAttr]) {      return false;    }    if (submittedSurveysEvarData.surveyEvarData[surveyTitleFromAttr][\"event\"] !== \"event33\") {      return false;    }    /* handle poll submit via data-attr */    var surveyEvars = submittedSurveysEvarData.surveyEvarData[surveyTitleFromAttr][\"evars\"];    for (var evarName in surveyEvars) {      var evar = this.getEvar(evarName);      evar._value = surveyEvars[evarName]._value;      evar._instatagValue = surveyEvars[evarName]._instatagValue;      evar._source = surveyEvars[evarName]._source;    }    shouldBeFired = true;    delete submittedSurveysEvarData.surveyEvarData[surveyTitleFromAttr];  } else {    if (!submittedSurveysEvarData.surveyEvarData[surveyTitleFromEvar]) {      return false;    }    if (submittedSurveysEvarData.surveyEvarData[surveyTitleFromEvar][\"event\"] !== \"event33\") {      return false;    }    /* handle default form submit */    for (var surveyTitle in submittedSurveysEvarData.surveyEvarData) {      var isSurveySubmited = false;      var submitText = submittedSurveysEvarData.surveyEvarData[surveyTitle][\"evars\"].internalEvar_submition_text;      if (submitText \u0026\u0026 submitText._value) {        isSurveySubmited = utils.isStringInDocumentBody(submitText._value);      } else if (surveyTitleFromEvar \u0026\u0026 eVar59.source === \"direct\") {        isSurveySubmited = true;      }      if (isSurveySubmited) {        for (var evarName in submittedSurveysEvarData.surveyEvarData[surveyTitle][\"evars\"]) {          var evar = this.getEvar(evarName);          evar._value = submittedSurveysEvarData.surveyEvarData[surveyTitle][\"evars\"][evarName]._value || evar._value;          evar._instatagValue = submittedSurveysEvarData.surveyEvarData[surveyTitle][\"evars\"][evarName]._instatagValue || evar._instatagValue;          evar._source = submittedSurveysEvarData.surveyEvarData[surveyTitle][\"evars\"][evarName]._source || evar._source;        }        shouldBeFired = true;        delete submittedSurveysEvarData.surveyEvarData[surveyTitle];      }    }  }  if (!shouldBeFired) {    return false;  }  if (window.localStorage \u0026\u0026 window.localStorage.hasOwnProperty(\"surveyEvarData\")) {    if (Object.keys(submittedSurveysEvarData.surveyEvarData).length \u003e 0) {      window.localStorage.setItem(\"surveyEvarData\", JSON.stringify(submittedSurveysEvarData));    } else {      window.localStorage.removeItem(\"surveyEvarData\");    }  }}","localized_event_name":""},{"id":15,"event_name":"event35","dtm_event_name":"PollStart","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-poll-title","dom_event_name":"change","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar60","eVar61","eVar62","internalEvar_submition_text"],"workflow_options":{"fireOnlyOnce":true},"after_function":"function(el, it, utils) {  var submittedPollTitle = this.getEvar(\"eVar61\")._value || this.getEvar(\"eVar61\")._instatagValue;  if(!submittedPollTitle) {    return false;  }  var pollsEvarData = {\"pollEvarData\": {}};  var pollId = this.getEvar(\"eVar60\").value || this.getEvar(\"eVar60\")._instatagValue;  var eVar = this.getEvar(\"eVar62\");  var pollSpecificator = !!pollId ? pollId : this.getEvar(\"eVar61\")._value || this.getEvar(\"eVar61\")._instatagValue;  if (el \u0026\u0026 el.form) {    eVar.value = \"p;\" + pollSpecificator + \"|\" + utils.serializeForm(el.form);  }  if (window.localStorage \u0026\u0026 window.localStorage.hasOwnProperty(\"pollEvarData\")) {    var pollsEvarData = JSON.parse(window.localStorage.getItem(\"pollEvarData\"));  }  pollsEvarData[\"pollEvarData\"][submittedPollTitle] = {    event: \"event35\",    evars: {}  };  this._evars.forEach(function(evar) {    pollsEvarData[\"pollEvarData\"][submittedPollTitle][\"evars\"][evar._evar.evar_name] = {      \"_source\": evar._source,      \"_value\": typeof evar._value === \"string\" ? evar._value : null,      \"_instatagValue\": evar._instatagValue    };  });  window.localStorage.setItem(\"pollEvarData\", JSON.stringify(pollsEvarData));  if (el \u0026\u0026 el.form) {    el.form.addEventListener(\"change\", function(event) {      try {        var formData = \"p;\" + pollSpecificator + \"|\" + utils.serializeForm(event.target.form);        eVar.value = formData;        var data = window.localStorage.getItem(\"pollEvarData\");        data = JSON.parse(data);        data[\"pollEvarData\"][submittedPollTitle][\"evars\"][\"eVar62\"] = {          \"_source\": \"direct\",          \"_value\": formData,          \"_instatagValue\": eVar._instatagValue        };        window.localStorage.setItem(\"pollEvarData\", JSON.stringify(data));      } catch(err) {}    })  }}","localized_event_name":""},{"id":16,"event_name":"event36","dtm_event_name":"PollSubmit","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-poll-submit","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":"internalEvar_submition_text","is_default":0,"evars":["eVar60","eVar61","eVar62","internalEvar_submition_text"],"workflow_options":{"fireOnSubmitTextVisible":true,"fireOnlyOnce":true},"before_function":"function (el, it, utils) {  /* poll title is required */  var pollTitleFromAttr = !!el ? el.getAttribute(\"data-it-poll-submit\") : null;  var eVar61 = this.getEvar(\"eVar61\");  var pollTitleFromEvar = eVar61.value || eVar61._instatagValue;  var hasPollEvarDataInStorage = window.localStorage \u0026\u0026 window.localStorage.hasOwnProperty(\"pollEvarData\");  if (!hasPollEvarDataInStorage || (!pollTitleFromEvar \u0026\u0026 !pollTitleFromAttr)) {    return false;  }  var submittedPollsEvarData = JSON.parse(window.localStorage.getItem(\"pollEvarData\"));  /* localstorage pollEvarData keys are poll names, use it as fallback*/  if (!pollTitleFromEvar) {    for (var prop in submittedPollsEvarData.pollEvarData) {      if (submittedPollsEvarData.pollEvarData.hasOwnProperty(prop)) {        pollTitleFromEvar = prop;      }    }  }  var shouldBeFired = false;  /* check if form submit event was triggered */  if (pollTitleFromAttr) {    if (!submittedPollsEvarData.pollEvarData[pollTitleFromAttr]) {      return false;    }    if (submittedPollsEvarData.pollEvarData[pollTitleFromAttr][\"event\"] !== \"event35\") {      return false;    }    /* handle poll submit via data-attr */    var pollEvars = submittedPollsEvarData.pollEvarData[pollTitleFromAttr][\"evars\"];    for (var evarName in pollEvars) {      var evar = this.getEvar(evarName);      evar._value = pollEvars[evarName]._value;      evar._instatagValue = pollEvars[evarName]._instatagValue;      evar._source = pollEvars[evarName]._source;    }    shouldBeFired = true;    delete submittedPollsEvarData.pollEvarData[pollTitleFromAttr];  } else {    if (!submittedPollsEvarData.pollEvarData[pollTitleFromEvar]) {      return false;    }    if (submittedPollsEvarData.pollEvarData[pollTitleFromEvar][\"event\"] !== \"event35\") {      return false;    }    /* handle default form submit */    for (var pollTitle in submittedPollsEvarData.pollEvarData) {      var isPollSubmited = false;      var submitText = submittedPollsEvarData.pollEvarData[pollTitle][\"evars\"].internalEvar_submition_text;      if (submitText \u0026\u0026 submitText._value) {        isPollSubmited = utils.isStringInDocumentBody(submitText._value);      } else if (pollTitleFromEvar \u0026\u0026 eVar61.source === \"direct\") {        isPollSubmited = true;      }      if (isPollSubmited) {        for (var evarName in submittedPollsEvarData.pollEvarData[pollTitle][\"evars\"]) {          var evar = this.getEvar(evarName);          evar._value = submittedPollsEvarData.pollEvarData[pollTitle][\"evars\"][evarName]._value || evar._value;          evar._instatagValue = submittedPollsEvarData.pollEvarData[pollTitle][\"evars\"][evarName]._instatagValue || evar._instatagValue;          evar._source = submittedPollsEvarData.pollEvarData[pollTitle][\"evars\"][evarName]._source || evar._source;        }        shouldBeFired = true;        delete submittedPollsEvarData.pollEvarData[pollTitle];      }    }  }  if (!shouldBeFired) {    return false;  }  if (window.localStorage \u0026\u0026 window.localStorage.hasOwnProperty(\"pollEvarData\")) {    if (Object.keys(submittedPollsEvarData.pollEvarData).length \u003e 0) {      window.localStorage.setItem(\"pollEvarData\", JSON.stringify(submittedPollsEvarData));    } else {      window.localStorage.removeItem(\"pollEvarData\");    }  }}","localized_event_name":""},{"id":17,"event_name":"event53","dtm_event_name":"contentVoted","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-rating-feedback","dom_event_name":"click,contextmenu","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar72","eVar73","eVar130"],"localized_event_name":""},{"id":18,"event_name":"event56","dtm_event_name":"content_engagement_track","dtm_event_appendable_name":null,"data_attribute_trigger_name":null,"dom_event_name":"click,contextmenu","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar74"],"localized_event_name":""},{"id":19,"event_name":"event57","dtm_event_name":"content_engagement_track","dtm_event_appendable_name":null,"data_attribute_trigger_name":null,"dom_event_name":"click","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar74"],"localized_event_name":""},{"id":20,"event_name":"event58","dtm_event_name":"content_engagement_track","dtm_event_appendable_name":null,"data_attribute_trigger_name":null,"dom_event_name":"click","fire_event_without_elements_by_evar":null,"is_default":0,"evars":[""],"before_function":"function () {  window.contentEngagement = \"email\";}","localized_event_name":""},{"id":21,"event_name":"event59","dtm_event_name":"content_engagement_track","dtm_event_appendable_name":null,"data_attribute_trigger_name":null,"dom_event_name":"click","fire_event_without_elements_by_evar":null,"is_default":0,"evars":[""],"before_function":"function () {  window.contentEngagement = \"read more\";}","localized_event_name":""},{"id":22,"event_name":"event60","dtm_event_name":"newsletter:subscribe","dtm_event_appendable_name":null,"data_attribute_trigger_name":null,"dom_event_name":null,"fire_event_without_elements_by_evar":null,"is_default":0,"evars":[""],"workflow_options":{"appendEventToDigitalData":true,"callSatellite":false,"cleanupDigitalData":false,"fireOnStartup":true},"before_function":"function (el, it, utils) {  /* Check if the user JUST subscribed to the newsletter */  var hasJustSubscribed = window.hasOwnProperty(\"_bi_grv\")    \u0026\u0026 typeof window._bi_grv.subscription !== \"undefined\"    \u0026\u0026 window._bi_grv.subscription === true;  return hasJustSubscribed;}","localized_event_name":""},{"id":23,"event_name":"event61","dtm_event_name":"newsletter:unsubscribe","dtm_event_appendable_name":null,"data_attribute_trigger_name":null,"dom_event_name":null,"fire_event_without_elements_by_evar":null,"is_default":0,"evars":[""],"workflow_options":{"appendEventToDigitalData":true,"callSatellite":false,"cleanupDigitalData":false,"fireOnStartup":true},"before_function":"function (el, it, utils) {  /* Check if the user JUST unsubscribed from the newsletter */  var hasJustUnsubscribed = window.hasOwnProperty(\"_bi_grv\")    \u0026\u0026 typeof window._bi_grv.subscription !== \"undefined\"    \u0026\u0026 window._bi_grv.subscription === false;  return hasJustUnsubscribed;}","localized_event_name":""},{"id":29,"event_name":"event2","dtm_event_name":"visitor_loginComplete","dtm_event_appendable_name":"loginSuccess","data_attribute_trigger_name":"data-it-logged-in","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar16","eVar18","eVar67","eVar78","eVar112"],"workflow_options":{"appendEventToDigitalData":true,"cleanupDigitalData":false},"before_function":"function (el, it, utils) {  /* Check if data-attribute is set */  var attribName = \"\";  if (el.getAttribute) {    attribName = el.getAttribute(this._event.data_attribute_trigger_name) || \"\";  }  if (attribName.toLowerCase() === \"true\") {    /* we have it set via data-attribute here */    return true;  }  /* Check if the user JUST has logged in */  var hasJustSignedIn = window.hasOwnProperty(\"_bi_grv\")    \u0026\u0026 typeof window._bi_grv.v_id !== \"undefined\"    \u0026\u0026 window._bi_grv.has_logged_in === true;  return hasJustSignedIn;}","localized_event_name":""},{"id":30,"event_name":"event_disclaimer","dtm_event_name":"__internal__checkDisclaimer","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-popup","dom_event_name":null,"fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar8"],"workflow_options":{"appendEventToDigitalData":false,"callSatellite":true,"cleanupDigitalData":false,"fireOnStartup":true,"fireOnlyOnce":true},"custom_send_function":"function (el, it, utils) {    /**     * As we\"re getting executed, we know that there should be     * a disclaimer popup     *     * 1. Check our option to determine if the disclaimer is open or not     *    (use localStorage || cookie for that)     *     * If disclaimer is open     *   --\u003e 1. change digitalData eVar8 to options.disclaimerName     *   --\u003e 2. window.setInterval(xxx, 250) to check if the cookie/localStorage item has been     *          set (which will lead to a \"normal\" website (instead of showing the disclaimer))     *     *     * if disclaimer is gone (even through our setInterval or initially)     *   --\u003e set eVar8 back to its default     *   --\u003e reexecute pageView     */    /* Checking existance of popup */    var _hasPopup = function () {        if (window.localStorage \u0026\u0026 window.localStorage.hasOwnProperty(storageName)) {            return storageValue ? window.localStorage.getItem(storageName) !== storageValue : false;        }        var search = new RegExp(storageValue ? storageName + \"=\" + storageValue : storageName + \"=\");        return !search.test(document.cookie);    };    var storageName = this.data.storageNameAttr || (el \u0026\u0026 el.getAttribute(\"data-it-cookie-name\"));    var storageValue = this.data.storageValueAttr ||(el \u0026\u0026 el.getAttribute(\"data-it-cookie-value\"));    var popupName = this.data.popupNameAttr || (el \u0026\u0026 el.getAttribute(\"data-it-popup\"));    var hasPopup = _hasPopup();    /* if disclaimer is closed, we\"re done... */    if (!(hasPopup \u0026\u0026 storageName)) {        return false;    }    /* if disclaimer is open ... */    /* Setting local eVar8 to popupName to make sure to overwrite local DTM data */    var pageView = it.eventRegister.getEvent(\"event1\");    var originalEvar = pageView.getEvar(\"eVar8\");    utils.storage.originalPageName = originalEvar._instatagValue;    utils.set(originalEvar.path, popupName, window);    var interval = window.setInterval(function () {        var hasPopup = _hasPopup();        if (!hasPopup) {            window.clearInterval(interval);            /* RESET */            utils.set(originalEvar.path, utils.storage.originalPageName, window);            delete utils.storage.originalPageName;            /* FIRE */            pageView.setOption(\"callSatellite\", true);            pageView.fire();        }    }, 250);}","localized_event_name":""},{"id":31,"event_name":"event3","dtm_event_name":"trackInternalSearch","dtm_event_appendable_name":"internalSearch","data_attribute_trigger_name":"data-it-keywords","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar21","eVar22","eVar86"],"workflow_options":{"fireOnlyNewestElement":true,"fireOnlyOnce":false},"localized_event_name":""},{"id":32,"event_name":"self_service_tool_step","dtm_event_name":"trackServiceStep","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-self-service-tool-step","dom_event_name":"click,contextmenu,DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar26"],"workflow_options":{"appendEventToDigitalData":false,"callSatellite":false,"fireOnlyNewestElement":true},"localized_event_name":""},{"id":33,"event_name":"self_detailing_step","dtm_event_name":"trackSelfDetailingStep","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-self-detailing-step","dom_event_name":"click,contextmenu,DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar27"],"workflow_options":{"appendEventToDigitalData":false,"callSatellite":false,"fireOnlyNewestElement":true},"localized_event_name":""},{"id":34,"event_name":"event75","dtm_event_name":"teaserView","dtm_event_appendable_name":"teaserView","data_attribute_trigger_name":"data-it-teaser","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVarTeaserName"],"workflow_options":{"cleanupDigitalData":true,"fireOnStartup":false},"before_function":"function (el, it, utils) {  /* if no dom element provided, skip rest */  if (!el) {    return true;  }  /* old data-attribute backwards compatibility, where format was data-it-teasers=\"name=id;name2=id2;\"\" */  /* this will be triggered using __internal__teaserTracking event */  if (el.hasAttribute(\"data-it-teasers\")) {    var teasers = el.getAttribute(\"data-it-teasers\") || \"\";    if (teasers.length === 0) {      return false;    }    var valuesToApply = [];    var evar = this.getEvar(\"eVarTeaserName\");    teasers = teasers.split(\";\").filter(Boolean);    teasers.forEach(function(teaser) {      var teaserName = teaser.replace(/=(.*)/, \"\");      valuesToApply.push({        path: evar.path,        value: teaserName,        source: \"direct\"      });    });    /* skip automatic populateDigitalData */    this.setOption(\"populateDigitalData\", false);    /* run custom populateDigitalData */    this.populateDigitalData(valuesToApply);    return true;  }  if (it.config.advancedTeaserTracking) {    var elementInViewport = it.itTeaserTracker.isElementIntersected(el);    /* skip default event fire when advanced teaser tracking enabled i.e. when teaser not in viewport */    if (!elementInViewport) {      return false;    } else {      /* stop element observing */      it.itTeaserTracker.unobserve(el);    }  }}","element_found_function":"function (el, it, utils) {  if (it.config.advancedTeaserTracking) {    it.itTeaserTracker.observe(el);  }}","localized_event_name":""},{"id":35,"event_name":"userIsAuthenticated","dtm_event_name":"__internal_user_is_authenticated","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-uid","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar16","eVar18"],"workflow_options":{"appendEventToDigitalData":false,"callSatellite":false,"cleanupDigitalData":false,"fireOnlyOnce":true},"before_function":"function (el, it, utils) {  var loginStatus = \"logged in\";  var pageView = it.eventRegister.getEvent(\"event1\");  var loginStatusEvar = pageView.getEvar(\"eVar16\");  utils.set(loginStatusEvar.path, loginStatus, window);  this.getEvar(\"eVar16\").value = loginStatus;}","localized_event_name":""},{"id":36,"event_name":"isErrorPage","dtm_event_name":"__internal_is_error_page","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-error-type","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVarErrorType","eVarErrorPage"],"workflow_options":{"appendEventToDigitalData":false,"callSatellite":false,"cleanupDigitalData":false,"fireOnlyOnce":true},"localized_event_name":""},{"id":38,"event_name":"event14","dtm_event_name":"forms_registrationStart","dtm_event_appendable_name":"registrationStart","data_attribute_trigger_name":"data-it-registration-form-name","dom_event_name":"change","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar31","eVar32","eVar33","eVar34","internalEvar_submition_text"],"workflow_options":{"fireOnlyOnce":true},"before_function":"function (el, it, utils) {  /**   * Fill eVars based on fields   */  /* get local evars */  var evar33 = this.getEvar(\"eVar33\");  var evar34 = this.getEvar(\"eVar34\");  /* get options */  var reasonEls = utils.queryAll(this.data.reason_selector);  var specialtyEls = utils.queryAll(this.data.specialty_selector);  var reasonDataAttrValue = el.hasAttribute(\"data-it-medical-information\") ? el.value : null;  var specialtyDataAttrValue = el.hasAttribute(\"data-it-specialty\") ? el.value : null;  /* check reason */  if ((reasonEls.length \u003e 0 \u0026\u0026 reasonEls[0].value !== undefined) || reasonDataAttrValue !== null) {    evar33.value = !reasonDataAttrValue ? reasonEls[0].value : reasonDataAttrValue;  }  /* check specialty */  if ((specialtyEls.length \u003e 0 \u0026\u0026 specialtyEls[0].value !== undefined) || specialtyDataAttrValue !== null) {    evar34.value = !specialtyDataAttrValue ? specialtyEls[0].value : specialtyDataAttrValue;  }}","after_function":"function(el, it, utils) {  var submittedFormName = this.getEvar(\"eVar32\")._value || this.getEvar(\"eVar32\")._instatagValue;  if(!submittedFormName) {    return false;  }  var formsEvarData = {\"formEvarData\": {}};  if (window.localStorage \u0026\u0026 window.localStorage.hasOwnProperty(\"formEvarData\")) {    var formsEvarData = JSON.parse(window.localStorage.getItem(\"formEvarData\"));  }  formsEvarData[\"formEvarData\"][submittedFormName] = {    event: \"event14\",    evars: {}  };  this._evars.forEach(function(evar) {    formsEvarData[\"formEvarData\"][submittedFormName][\"evars\"][evar._evar.evar_name] = {      \"_source\": evar._source,      \"_value\": typeof evar._value === \"string\" ? evar._value : null,      \"_instatagValue\": evar._instatagValue    };  });  window.localStorage.setItem(\"formEvarData\", JSON.stringify(formsEvarData));}","element_found_function":"function (el, instatag) {  var selector = this.cssSelector || this.selector;  if (!selector) {    return false;  }  var inputSelector = [    selector + \" input\",    selector + \" select\",    selector + \" textarea\"  ].join(\",\");  if (window.WSC.modules.instatag.config.trackFormInputFilled) {    var inputFilledEvent = instatag.createEvent({      name: \"event112\", /* form start */      selector: \"CSS://\" + inputSelector,      values: this.values, /* my values */      data: this.data /* my data */    });    inputFilledEvent.register();  }}","localized_event_name":""},{"id":39,"event_name":"event15","dtm_event_name":"forms_registrationSubmit","dtm_event_appendable_name":"registrationSubmit","data_attribute_trigger_name":"data-it-registration-form-submit","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":"internalEvar_submition_text","is_default":0,"evars":["eVar31","eVar32","eVar33","eVar34","internalEvar_submition_text"],"workflow_options":{"fireOnSubmitTextVisible":true,"fireOnlyOnce":true},"before_function":"function(el, it, utils) {  /* form name is required field, so we should check evar32 for non-empty value */  var formNameFromAttr = !!el ? el.getAttribute(\"data-it-registration-form-submit\") : null;  var eVar32 = this.getEvar(\"eVar32\");  var formNameFromEvar = eVar32._value || eVar32._instatagValue;  var hasFormDataInStorage = window.localStorage \u0026\u0026 window.localStorage.hasOwnProperty(\"formEvarData\");  if (!hasFormDataInStorage || (!formNameFromAttr \u0026\u0026 !formNameFromEvar)) {    return false;  }  var submittedFormsEvarData = JSON.parse(window.localStorage.getItem(\"formEvarData\"));  /* localstorage formEvarData keys are form names, use it as fallback when evar32 is not set */  if (!formNameFromEvar) {    for (var prop in submittedFormsEvarData.formEvarData) {      if (submittedFormsEvarData.formEvarData.hasOwnProperty(prop)) {        formNameFromEvar = prop;      }    }  }  var shouldBeFired = false;  /* check if form submit event was triggered */  if (formNameFromAttr) {    if (!submittedFormsEvarData.formEvarData[formNameFromAttr]) {      return false;    }    if (submittedFormsEvarData.formEvarData[formNameFromAttr][\"event\"] !== \"event14\") {      return false;    }    /* handle form submit via data-attr */    var formEvars = submittedFormsEvarData.formEvarData[formNameFromAttr][\"evars\"];    for (var evarName in formEvars) {      var evar = this.getEvar(evarName);      evar._value = formEvars[evarName]._value;      evar._instatagValue = formEvars[evarName]._instatagValue;      evar._source = formEvars[evarName]._source;    }    shouldBeFired = true;    delete submittedFormsEvarData.formEvarData[formNameFromAttr];  } else {    if (!submittedFormsEvarData.formEvarData[formNameFromEvar]) {      return false;    }    if (submittedFormsEvarData.formEvarData[formNameFromEvar][\"event\"] !== \"event14\") {      return false;    }    /* handle default form submit */    for (var formName in submittedFormsEvarData.formEvarData) {      var isFormSubmited = false;      var submitText = submittedFormsEvarData.formEvarData[formName][\"evars\"].internalEvar_submition_text;      if (submitText \u0026\u0026 submitText._value) {        isFormSubmited = utils.isStringInDocumentBody(submitText._value);      } else if (formNameFromEvar \u0026\u0026 eVar32._source === \"direct\") {        isFormSubmited = true;      }      if (isFormSubmited) {        for (var evarName in submittedFormsEvarData.formEvarData[formName][\"evars\"]) {          var evar = this.getEvar(evarName);          evar._value = submittedFormsEvarData.formEvarData[formName][\"evars\"][evarName]._value || evar._value;          evar._instatagValue = submittedFormsEvarData.formEvarData[formName][\"evars\"][evarName]._instatagValue || evar._instatagValue;          evar._source = submittedFormsEvarData.formEvarData[formName][\"evars\"][evarName]._source || evar._source;        }        shouldBeFired = true;        delete submittedFormsEvarData.formEvarData[formName];      }    }  }  if (!shouldBeFired) {    return false;  }  if (window.localStorage \u0026\u0026 window.localStorage.hasOwnProperty(\"formEvarData\")) {    if (Object.keys(submittedFormsEvarData.formEvarData).length \u003e 0) {      window.localStorage.setItem(\"formEvarData\", JSON.stringify(submittedFormsEvarData));    } else {      window.localStorage.removeItem(\"formEvarData\");    }  }}","element_found_function":"function (el, instatag) {  var selector = [    this.cssSelector + \" input\",    this.cssSelector + \" select\",    this.cssSelector + \" textarea\"  ].join(\",\");  /* create a form start event and attach it to fields */  var event = instatag.createEvent({    name: \"event14\", /* form start */    selector: \"CSS://\" + selector,    values: this.values, /* my values */    data: this.data /* my data */  });  event.register();  event._evars = [this.getEvar(\"eVar31\"), this.getEvar(\"eVar32\"), this.getEvar(\"eVar33\"), this.getEvar(\"eVar34\"), this.getEvar(\"internalEvar_submition_text\")];}","localized_event_name":""},{"id":47,"event_name":"order_confirmation_page","dtm_event_name":"orderConfirmation","dtm_event_appendable_name":"order_confirmation_page","data_attribute_trigger_name":"data-it-order-confirmation-page","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVarOrderProductId","eVarOrderProductCategory","eVar71","eVar70","eVarItemQuantity","eVarItemPrice","eVarTransactionProductStockStatus"],"workflow_options":{"cleanupDigitalData":true,"populateDigitalData":false},"before_function":"function (el, it, utils) {  var valuesToApply = [];  var paymentEvar = this.getEvar(\"eVar71\");  var purchaseIdEvar = this.getEvar(\"eVar70\");  var paymentVal = paymentEvar._value || \"\";  var purchaseVal = purchaseIdEvar._value || \"\";  if (paymentVal) {    valuesToApply.push({      path: paymentEvar.path,      value: paymentVal,      source: \"direct\"    });  } else {    var paymentEl = document.querySelector(\"[data-it-payment-method]\");    if (paymentEl)  {      valuesToApply.push({        path: paymentEvar.path,        value: paymentEl.getAttribute(\"data-it-payment-method\"),        source: \"data-attribute\"      });    }  }  if (purchaseVal) {    valuesToApply.push({      path: purchaseIdEvar.path,      value: purchaseVal,      source: \"direct\"    });  } else {    var purchaseEl = document.querySelector(\"[data-it-order-id]\");    if (purchaseEl) {      valuesToApply.push({        path: purchaseIdEvar.path,        value: purchaseEl.getAttribute(\"data-it-order-id\"),        source: \"data-attribute\"      });    }  }  var idEvar = this.getEvar(\"eVarOrderProductId\");  var categoryEvar = this.getEvar(\"eVarOrderProductCategory\");  var qtyEvar = this.getEvar(\"eVarItemQuantity\");  var priceEvar = this.getEvar(\"eVarItemPrice\");  var stock = this.getEvar(\"eVarTransactionProductStockStatus\");  var dataElems = Array.isArray(idEvar._value) ? idEvar._value : document.querySelectorAll(\"[data-it-order-product-id]\");  /* fire the event without popluating dd if no items found */  if (!dataElems.length \u0026\u0026 !valuesToApply.length) {    return true;  } else if (!dataElems.length \u0026\u0026 valuesToApply.length) {    this.populateDigitalData(valuesToApply);    return true;  }  if (Array.isArray(idEvar._value)) {    idEvar._value.forEach(function(element) {      valuesToApply.push({        path: idEvar.path,        value: element.id,        source: \"direct\"      });      valuesToApply.push({        path: categoryEvar.path,        value: element.category,        source: \"direct\"      });      valuesToApply.push({        path: priceEvar.path,        value: {\"basePrice\": element.price},        source: \"direct\"      });      valuesToApply.push({        path: qtyEvar.path,        value: element.qty,        source: \"direct\"      });      valuesToApply.push({        path: stock.path,        value: element.stock || \"\",        source: \"direct\"      });    });    this.populateDigitalData(valuesToApply);    return true  }  var values = {};  var knownIds = [];  dataElems.forEach(function(elem) {    var id = elem.getAttribute(\"data-it-order-product-id\");    var cat = elem.getAttribute(\"data-it-order-product-category\");    var qty = elem.getAttribute(\"data-it-order-item-quantity\");    var price = elem.getAttribute(\"data-it-order-item-price\");    var stockVal = stock.computeAttributeValue(elem) || \"\";    var idsList = id.split(\",\");    var categoryList = cat.split(\",\");    idsList.forEach(function(elId, idx) {      if (knownIds.indexOf(elId) === -1) {        knownIds.push(elId);        if (qty === null) {          var el = elem.querySelector(\"[data-it-order-item-quantity]\");          if (el) {            qty = el.getAttribute(\"data-it-order-item-quantity\");            qty = qty || \"1\";          } else {            qty = \"1\";          }        }        if (price === null) {          var el = elem.querySelector(\"[data-it-order-item-price]\");          if (el) {            price = el.getAttribute(\"data-it-order-item-price\");          }        }        if (values[elId]) {          values[elId].qty = Number(values[elId].qty) + Number(qty);        } else {          values[elId] = {            id: elId,            cat: categoryList[idx] || categoryList[categoryList.length - 1] || \"\",            qty: qty,            /* if index is greater than 0 means we have multi product element, so we want to set price only for the first product */            price: (idx \u003e 0 \u0026\u0026 price) ? 0 : price,            stock: stockVal          };        }      }    });  });  Object.keys(values).forEach(function(key) {    valuesToApply.push({      path: idEvar.path,      value: values[key].id,      source: \"data-attribute\"    });    valuesToApply.push({      path: categoryEvar.path,      value: values[key].cat,      source: \"data-attribute\"    });    if (values[key]) {      valuesToApply.push({        path: priceEvar.path,        value: {\"basePrice\": values[key].price},        source: \"data-attribute\"      });    }    valuesToApply.push({      path: qtyEvar.path,      value: String(values[key].qty),      source: \"data-attribute\"    });    valuesToApply.push({      path: stock.path,      value: values[key].stock,      source: \"data-attribute\"    });  });  this.populateDigitalData(valuesToApply);}","localized_event_name":""},{"id":48,"event_name":"event37","dtm_event_name":"productView","dtm_event_appendable_name":"product_view","data_attribute_trigger_name":"data-it-product","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVarProductId","eVarProductCategory","eVarProductStockStatus"],"workflow_options":{"cleanupDigitalData":true,"populateDigitalData":false},"before_function":"function (el, it, utils) {  var pId = this.getEvar(\"eVarProductId\");  var cat = this.getEvar(\"eVarProductCategory\");  var stockInfo = this.getEvar(\"eVarProductStockStatus\");  if (pId.value \u0026\u0026 pId.source === \"direct\") {    this.populateDigitalData([      {        path: pId.path,        value: pId.value,        source: \"direct\"      }, {        path: cat.path,        value: cat.value,        source: \"direct\"      }, {        path: stockInfo.path,        value: stockInfo.value,        source: \"data-attribute\"      }    ]);    return true;  }  var dataEl = document.querySelector(\"[data-it-product-id]\");  if (!dataEl) {    return false;  }  var pIdVal = dataEl.getAttribute(\"data-it-product-id\");  var catVal = dataEl.getAttribute(\"data-it-product-category\");  var stockVal = dataEl.getAttribute(\"data-it-product-stock-status\");  pId.value = pIdVal;  cat.value = catVal;  stockInfo.value = stockVal || \"\";  this.populateDigitalData([    {      path: pId.path,      value: pId.value,      source: \"data-attribute\"    }, {      path: cat.path,      value: cat.value,      source: \"data-attribute\"    }, {      path: stockInfo.path,      value: stockInfo.value,      source: \"data-attribute\"    }  ]);}","localized_event_name":""},{"id":49,"event_name":"scAdd","dtm_event_name":"cartAddition","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-cart-addition","dom_event_name":"auxclick,click","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVarProductId","eVarProductCategory","eVarProductStockStatus"],"workflow_options":{"appendEventToDigitalData":false,"callSatellite":true,"populateDigitalData":false},"before_function":"function (el, it, utils) {  var pId = this.getEvar(\"eVarProductId\");  var pCat = this.getEvar(\"eVarProductCategory\");  var stockInfo = this.getEvar(\"eVarProductStockStatus\");  var pIdVal = pId._value || \"\";  var pCatVal = pCat._value || \"\";  var stockVal = stockInfo._value || \"\";  if (!pIdVal \u0026\u0026 el) {    pIdVal = pId.computeAttributeValue(el) || \"\";  }  if (!pCatVal \u0026\u0026 el) {    pCatVal = pCat.computeAttributeValue(el) || \"\";  }  if (!stockVal \u0026\u0026 el) {    stockVal = stockInfo.computeAttributeValue(el) || \"\";  }  /* fire the event without popluating dd.cart if not items found */  if (!pIdVal) {    return true;  }  var valuesToApply = [];  var idsList = pIdVal.split(\",\");  var categoryList = pCatVal.split(\",\");  idsList.forEach(function(elem, idx) {    valuesToApply.push({      path: pId.path,      value: elem,      source: \"data-attribute\"    });    valuesToApply.push({      path: pCat.path,      value: categoryList[idx] || categoryList[categoryList.length - 1],      source: \"data-attribute\"    });    valuesToApply.push({      path: stockInfo.path,      value: stockVal,      source: \"data-attribute\"    });  });  this.populateDigitalData(valuesToApply);}","localized_event_name":""},{"id":50,"event_name":"scRemove","dtm_event_name":"cartRemoval","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-cart-removal","dom_event_name":"auxclick,click","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVarCartProductId","eVarCartProductCategory","eVarCartProductStockStatus"],"workflow_options":{"appendEventToDigitalData":false,"callSatellite":true,"populateDigitalData":false},"before_function":"function (el, it, utils) {  var pId = this.getEvar(\"eVarCartProductId\");  var pCat = this.getEvar(\"eVarCartProductCategory\");  var stock = this.getEvar(\"eVarCartProductStockStatus\");  var pIdVal = pId._value || \"\";  var pCatVal = pCat._value || \"\";  var stockVal = stock._value || \"\";  if (!pIdVal \u0026\u0026 el) {    pIdVal = pId.computeAttributeValue(el) || \"\";  }  if (!pCatVal \u0026\u0026 el) {    pCatVal = pCat.computeAttributeValue(el) || \"\";  }  if (!stockVal \u0026\u0026 el) {    stockVal = stock.computeAttributeValue(el) || \"\";  }  /* fire the event without popluating dd.cart if not items found */  if (!pIdVal) {    return true;  }  var idsList = pIdVal.split(\",\");  var categoryList = pCatVal.split(\",\");  var valuesToApply = [];  idsList.forEach(function(elem, idx) {    valuesToApply.push({      path: pId.path,      value: elem,      source: \"data-attribute\"    });    valuesToApply.push({      path: pCat.path,      value: categoryList[idx] || categoryList[categoryList.length - 1],      source: \"data-attribute\"    });    valuesToApply.push({      path: stock.path,      value: stockVal,      source: \"data-attribute\"    });  });  this.populateDigitalData(valuesToApply);}","localized_event_name":""},{"id":51,"event_name":"scView","dtm_event_name":"cartView","dtm_event_appendable_name":"cart_view","data_attribute_trigger_name":"data-it-cart","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVarCartProductId","eVarCartProductCategory","eVarCartProductStockStatus"],"workflow_options":{"cleanupDigitalData":true,"populateDigitalData":false},"before_function":"function (el, it, utils) {  var pId = this.getEvar(\"eVarCartProductId\");  var cat = this.getEvar(\"eVarCartProductCategory\");  var stock = this.getEvar(\"eVarCartProductStockStatus\");  var knownIds = [];  var valuesToApply = [];  var pIdDirectVal = pId._value || \"\";  var pCatDirectVal = cat._value || \"\";  if (pIdDirectVal) {    var idsList = pIdDirectVal.split(\",\");    var categoryList = pCatDirectVal.split(\",\");    idsList.forEach(function(elem, idx) {      valuesToApply.push({        path: pId.path,        value: elem,        source: \"direct\"      });      valuesToApply.push({        path: cat.path,        value: categoryList[idx] || categoryList[categoryList.length - 1] || \"\",        source: \"direct\"      });      valuesToApply.push({        path: stock.path,        value: stock.value,        source: \"direct\"      });    });    this.populateDigitalData(valuesToApply);    return true;  }  var dataEl = document.querySelectorAll(\"[data-it-cart-product-id]\");  if (!dataEl) {    return false;  }  dataEl.forEach(function(elem) {    var pIdVal = elem.getAttribute(\"data-it-cart-product-id\");    var catVal = elem.getAttribute(\"data-it-cart-product-category\");    var stockVal = stock.computeAttributeValue(elem) || \"\";    var idsList = pIdVal.split(\",\");    var categoryList = catVal.split(\",\");    idsList.forEach(function(elem, idx) {      if (knownIds.indexOf(elem) === -1) {        knownIds.push(elem);        valuesToApply.push({          path: pId.path,          value: elem,          source: \"data-attribute\"        });        valuesToApply.push({          path: cat.path,          value: categoryList[idx] || categoryList[categoryList.length - 1] || \"\",          source: \"data-attribute\"        });        valuesToApply.push({          path: stock.path,          value: stockVal,          source: \"data-attribute\"        });      }    });  });  this.populateDigitalData(valuesToApply);}","localized_event_name":""},{"id":52,"event_name":"scCheckout","dtm_event_name":"cartCheckout","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-cart-checkout","dom_event_name":"auxclick,click","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVarCartProductId","eVarCartProductCategory","eVarCartProductStockStatus"],"workflow_options":{"appendEventToDigitalData":false,"callSatellite":true,"populateDigitalData":false},"before_function":"function (el, it, utils) {  var knownIds = [];  var valuesToApply = [];  var pId = this.getEvar(\"eVarCartProductId\");  var pCat = this.getEvar(\"eVarCartProductCategory\");  var stock = this.getEvar(\"eVarCartProductStockStatus\");  var pIdDirectVal = pId._value || \"\";  var pCatDirectVal = pCat._value || \"\";  var stockVal = stock._value || \"\";  if (pIdDirectVal) {    var idsList = pIdDirectVal.split(\",\");    var categoryList = pCatDirectVal.split(\",\");    idsList.forEach(function(elem, idx) {      valuesToApply.push({        path: pId.path,        value: elem,        source: \"direct\"      });      valuesToApply.push({        path: pCat.path,        value: categoryList[idx] || categoryList[categoryList.length - 1] || \"\",        source: \"direct\"      });      valuesToApply.push({        path: stock.path,        value: stockVal,        source: \"direct\"      });    });    this.populateDigitalData(valuesToApply);    return true;  }  var dataElems = document.querySelectorAll(\"[data-it-cart-product-id]\");  /* fire the event without popluating dd.cart if not items found */  if (!dataElems.length) {    return true;  }  dataElems.forEach(function(elem) {    var pIdVal = elem.getAttribute(\"data-it-cart-product-id\");    var pCatVal = elem.getAttribute(\"data-it-cart-product-category\");    var stockValue = stock.computeAttributeValue(elem) || \"\";    var idsList = pIdVal.split(\",\");    var categoryList = pCatVal.split(\",\");    idsList.forEach(function(elem, idx) {      if (knownIds.indexOf(elem) === -1) {        knownIds.push(elem);        valuesToApply.push({          path: pId.path,          value: elem,          source: \"data-attribute\"        });        valuesToApply.push({          path: pCat.path,          value: categoryList[idx] || categoryList[categoryList.length - 1] || \"\",          source: \"data-attribute\"        });        valuesToApply.push({          path: stock.path,          value: stockValue,          source: \"data-attribute\"        });      }    });  });  this.populateDigitalData(valuesToApply);}","localized_event_name":""},{"id":53,"event_name":"event38","dtm_event_name":"checkoutView","dtm_event_appendable_name":"checkout_page_view","data_attribute_trigger_name":"data-it-checkout-page","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVarCartProductId","eVarCartProductCategory","eVarCartProductStockStatus"],"workflow_options":{"cleanupDigitalData":true,"populateDigitalData":false},"before_function":"function (el, it, utils) {  var knownIds = [];  var valuesToApply = [];  var pId = this.getEvar(\"eVarCartProductId\");  var pCat = this.getEvar(\"eVarCartProductCategory\");  var stock = this.getEvar(\"eVarCartProductStockStatus\");  var pIdDirectVal = pId._value || \"\";  var pCatDirectVal = pCat._value || \"\";  var stockVal = stock._value || \"\";  if (pIdDirectVal) {    var idsList = pIdDirectVal.split(\",\");    var categoryList = pCatDirectVal.split(\",\");    idsList.forEach(function(elem, idx) {      valuesToApply.push({        path: pId.path,        value: elem,        source: \"direct\"      });      valuesToApply.push({        path: pCat.path,        value: categoryList[idx] || categoryList[categoryList.length - 1] || \"\",        source: \"direct\"      });      valuesToApply.push({        path: stock.path,        value: stockVal,        source: \"direct\"      });    });    this.populateDigitalData(valuesToApply);    return true;  }  var dataElems = document.querySelectorAll(\"[data-it-cart-product-id]\");  /* fire the event without popluating dd.cart if not items found */  if (!dataElems.length) {    return true;  }  dataElems.forEach(function(elem) {    var pIdVal = elem.getAttribute(\"data-it-cart-product-id\");    var pCatVal = elem.getAttribute(\"data-it-cart-product-category\");    var stockVal = stock.computeAttributeValue(elem) || \"\";    var idsList = pIdVal.split(\",\");    var categoryList = pCatVal.split(\",\");    idsList.forEach(function(elem, idx) {      if (knownIds.indexOf(elem) === -1) {        knownIds.push(elem);        valuesToApply.push({          path: pId.path,          value: elem,          source: \"data-attribute\"        });        valuesToApply.push({          path: pCat.path,          value: categoryList[idx] || categoryList[categoryList.length - 1] || \"\",          source: \"data-attribute\"        });        valuesToApply.push({          path: stock.path,          value: stockVal,          source: \"data-attribute\"        });      }    });  });  this.populateDigitalData(valuesToApply);}","localized_event_name":""},{"id":54,"event_name":"event39","dtm_event_name":"orderReview","dtm_event_appendable_name":"order_review_page","data_attribute_trigger_name":"data-it-review-page","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVarCartProductId","eVarCartProductCategory","eVarCartProductStockStatus"],"workflow_options":{"cleanupDigitalData":true,"populateDigitalData":false},"before_function":"function (el, it, utils) {  var pId = this.getEvar(\"eVarCartProductId\");  var pCat = this.getEvar(\"eVarCartProductCategory\");  var stock = this.getEvar(\"eVarCartProductStockStatus\");  var knownIds = [];  var valuesToApply = [];  var pIdDirectVal = pId._value || \"\";  var pCatDirectVal = pCat._value || \"\";  if (pIdDirectVal)  {    var idsList = pIdDirectVal.split(\",\");    var categoryList = pCatDirectVal.split(\",\");    idsList.forEach(function(elem, idx) {      valuesToApply.push({        path: pId.path,        value: elem,        source: \"direct\"      });      valuesToApply.push({        path: pCat.path,        value: categoryList[idx] || categoryList[categoryList.length - 1] || \"\",        source: \"direct\"      });      valuesToApply.push({        path: stock.path,        value: stock.value,        source: \"direct\"      });    });    this.populateDigitalData(valuesToApply);    return true;  }  var dataElems = document.querySelectorAll(\"[data-it-cart-product-id]\");  /* fire the event without popluating dd.cart if not items found */  if (!dataElems.length) {    return true;  }  dataElems.forEach(function(elem) {    var pIdVal = elem.getAttribute(\"data-it-cart-product-id\");    var pCatVal = elem.getAttribute(\"data-it-cart-product-category\");    var stockVal = stock.computeAttributeValue(elem) || \"\";    var idsList = pIdVal.split(\",\");    var categoryList = pCatVal.split(\",\");    idsList.forEach(function(elem, idx) {      if (knownIds.indexOf(elem) === -1) {        knownIds.push(elem);        valuesToApply.push({          path: pId.path,          value: elem,          source: \"data-attribute\"        });        valuesToApply.push({          path: pCat.path,          value: categoryList[idx] || categoryList[categoryList.length - 1] || \"\",          source: \"data-attribute\"        });        valuesToApply.push({          path: stock.path,          value: stockVal,          source: \"data-attribute\"        });      }    });  });  this.populateDigitalData(valuesToApply);}","localized_event_name":""},{"id":55,"event_name":"event91","dtm_event_name":"paymentStart","dtm_event_appendable_name":"payment_start_page","data_attribute_trigger_name":"data-it-payment-start","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVarOrderProductId","eVarOrderProductCategory","eVar71","eVar111","eVarTransactionProductStockStatus"],"workflow_options":{"cleanupDigitalData":true,"populateDigitalData":false},"before_function":"function (el, it, utils) {  var valuesToApply = [];  var pId = this.getEvar(\"eVarOrderProductId\");  var pCat = this.getEvar(\"eVarOrderProductCategory\");  var stock = this.getEvar(\"eVarTransactionProductStockStatus\");  var pAmount = this.getEvar(\"eVar111\");  var pMethod = this.getEvar(\"eVar71\");  var amountValue = pAmount._value || \"\";  var methodValue = pMethod._value || \"\";  if (amountValue) {      valuesToApply.push({        path: pAmount.path,        value: amountValue,        source: \"direct\"      });  } else {    var paymentAmountEl = document.querySelector(\"[data-it-payment-amount]\");    if (paymentAmountEl) {      valuesToApply.push({        path: pAmount.path,        value: paymentAmountEl.getAttribute(\"data-it-payment-amount\"),        source: \"data-attribute\"      });    }  }  if (methodValue) {    valuesToApply.push({      path: pMethod.path,      value: methodValue,      source: \"direct\"    });  } else {    var paymentMethodEl = document.querySelector(\"[data-it-payment-method]\");    if (paymentMethodEl) {      valuesToApply.push({        path: pMethod.path,        value: paymentMethodEl.getAttribute(\"data-it-payment-method\"),        source: \"data-attribute\"      });    }  }  var dataElems = pId._value || document.querySelectorAll(\"[data-it-order-product-id]\");  /* fire the event without popluating dd if not items found */  if (!dataElems.length \u0026\u0026 !valuesToApply.length) {    return true;  } else if (!dataElems.length \u0026\u0026 valuesToApply.length) {    this.populateDigitalData(valuesToApply);    return true;  }  if (pId._value) {    var idsList = pId._value.split(\",\");    var categoryList = (pCat._value || \"\").split(\",\");    idsList.forEach(function(elem, idx) {      valuesToApply.push({        path: pId.path,        value: elem,        source: \"direct\"      });      valuesToApply.push({        path: pCat.path,        value: categoryList[idx] || categoryList[categoryList.length - 1] || \"\",        source: \"direct\"      });      valuesToApply.push({        path: stock.path,        value: stock.value || \"\",        source: \"direct\"      });    });    this.populateDigitalData(valuesToApply);    return true;  }  var knownIds = [];  dataElems.forEach(function(elem) {    var pIdVal = elem.getAttribute(\"data-it-order-product-id\");    var pCatVal = elem.getAttribute(\"data-it-order-product-category\");    var stockVal = stock.computeAttributeValue(elem) || \"\";    var idsList = pIdVal.split(\",\");    var categoryList = pCatVal.split(\",\");    idsList.forEach(function(elem, idx) {      if (knownIds.indexOf(elem) === -1) {        knownIds.push(elem);        valuesToApply.push({          path: pId.path,          value: elem,          source: \"data-attribute\"        });        valuesToApply.push({          path: pCat.path,          value: categoryList[idx] || categoryList[categoryList.length - 1] || \"\",          source: \"data-attribute\"        });        valuesToApply.push({          path: stock.path,          value: stockVal,          source: \"data-attribute\"        });      }    });  });  this.populateDigitalData(valuesToApply);}","localized_event_name":""},{"id":56,"event_name":"event92","dtm_event_name":"paymentComplete","dtm_event_appendable_name":"payment_complete_page","data_attribute_trigger_name":"data-it-payment-complete","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVarOrderProductId","eVarOrderProductCategory","eVar71","eVar111","eVarTransactionProductStockStatus"],"workflow_options":{"cleanupDigitalData":true,"populateDigitalData":false},"before_function":"function (el, it, utils) {  var valuesToApply = [];  var pId = this.getEvar(\"eVarOrderProductId\");  var pCat = this.getEvar(\"eVarOrderProductCategory\");  var pAmount = this.getEvar(\"eVar111\");  var pMethod = this.getEvar(\"eVar71\");  var stock = this.getEvar(\"eVarTransactionProductStockStatus\");  if (pAmount._value) {    valuesToApply.push({      path: pAmount.path,      value: pAmount._value,      source: \"direct\"    });  } else {    var paymentAmountEl = document.querySelector(\"[data-it-payment-amount]\");    if (paymentAmountEl) {      valuesToApply.push({        path: pAmount.path,        value: paymentAmountEl.getAttribute(\"data-it-payment-amount\"),        source: \"data-attribute\"      });    }  }  if (pMethod._value) {    valuesToApply.push({      path: pMethod.path,      value: pMethod._value,      source: \"direct\"    });  } else {    var paymentMethodEl = document.querySelector(\"[data-it-payment-method]\");    if (paymentMethodEl) {      valuesToApply.push({        path: pMethod.path,        value: paymentMethodEl.getAttribute(\"data-it-payment-method\"),        source: \"data-attribute\"      });    }  }  var dataElems = pId._value || document.querySelectorAll(\"[data-it-order-product-id]\");  /* fire the event without popluating dd if not items found */  if (!dataElems.length \u0026\u0026 !valuesToApply.length) {    return true;  } else if (!dataElems.length \u0026\u0026 valuesToApply.length) {    this.populateDigitalData(valuesToApply);    return true;  }  if (pId._value) {    var idsList = pId._value.split(\",\");    var categoryList = (pCat._value || \"\").split(\",\");    idsList.forEach(function(elem, idx) {      valuesToApply.push({        path: pId.path,        value: elem,        source: \"direct\"      });      valuesToApply.push({        path: pCat.path,        value: categoryList[idx] || categoryList[categoryList.length - 1] || \"\",        source: \"direct\"      });      valuesToApply.push({        path: stock.path,        value: stock.value || \"\",        source: \"direct\"      });    });    this.populateDigitalData(valuesToApply);    return true;  }  var knownIds = [];  dataElems.forEach(function(elem) {    var pIdVal = elem.getAttribute(\"data-it-order-product-id\");    var pCatVal = elem.getAttribute(\"data-it-order-product-category\");    var stockVal = stock.computeAttributeValue(elem) || \"\";    var idsList = pIdVal.split(\",\");    var categoryList = pCatVal.split(\",\");    idsList.forEach(function(elem, idx) {      if (knownIds.indexOf(elem) === -1) {        knownIds.push(elem);        valuesToApply.push({          path: pId.path,          value: elem,          source: \"data-attribute\"        });        valuesToApply.push({          path: pCat.path,          value: categoryList[idx] || categoryList[categoryList.length - 1] || \"\",          source: \"data-attribute\"        });        valuesToApply.push({          path: stock.path,          value: stockVal,          source: \"data-attribute\"        });      }    });  });  this.populateDigitalData(valuesToApply);}","localized_event_name":""},{"id":57,"event_name":"exitLinkEvent","dtm_event_name":"customExitClick","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-exit-link","dom_event_name":"auxclick,click","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVarExitURL"],"localized_event_name":""},{"id":58,"event_name":"event78","dtm_event_name":"sellerProduct","dtm_event_appendable_name":"seller_view","data_attribute_trigger_name":"data-it-seller-product","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVarProductId","eVarProductCategory","eVar87","eVarSellerName","eVarSellerAddress"],"workflow_options":{"cleanupDigitalData":true,"fireOnlyNewestElement":true,"populateDigitalData":true},"localized_event_name":""},{"id":59,"event_name":"event79","dtm_event_name":"sellerRedirectWTB","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-seller-redirect","dom_event_name":"click","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVarProductId","eVarProductCategory","eVar87","eVarSellerName","eVarSellerAddress"],"workflow_options":{"populateDigitalData":true},"localized_event_name":""},{"id":60,"event_name":"event77","dtm_event_name":"trackButtonView","dtm_event_appendable_name":"Button_view","data_attribute_trigger_name":"data-it-where-to-buy","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar28"],"workflow_options":{"cleanupDigitalData":true,"fireOnlyNewestElement":true,"populateDigitalData":true},"localized_event_name":""},{"id":61,"event_name":"event88","dtm_event_name":"getDirectionsClicked","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-get-directions","dom_event_name":"click","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar88","eVar95"],"workflow_options":{"populateDigitalData":true},"localized_event_name":""},{"id":62,"event_name":"event51","dtm_event_name":"courseStart","dtm_event_appendable_name":"course_courseStart","data_attribute_trigger_name":"data-it-course-start","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar93"],"workflow_options":{"fireOnlyOnce":true,"populateDigitalData":true},"before_function":"function (el, it, utils) {  var courseId = el.getAttribute ? el.getAttribute(this._event.data_attribute_trigger_name) : \"\";  var event = it.eventRegister.getEvent(\"event51\");  var idEvar = event.getEvar(\"eVar93\");  idEvar.value = courseId || \"\";}","localized_event_name":""},{"id":63,"event_name":"event52","dtm_event_name":"courseComplete","dtm_event_appendable_name":"course_courseComplete","data_attribute_trigger_name":"data-it-course-complete","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar93"],"workflow_options":{"fireOnlyOnce":true,"populateDigitalData":true},"before_function":"function (el, it, utils) {  var courseId = el.getAttribute ? el.getAttribute(this._event.data_attribute_trigger_name) : \"\";  var event = it.eventRegister.getEvent(\"event52\");  var idEvar = event.getEvar(\"eVar93\");  idEvar.value = courseId || \"\";}","localized_event_name":""},{"id":64,"event_name":"event87","dtm_event_name":"courseJoin","dtm_event_appendable_name":"course_courseJoin","data_attribute_trigger_name":"data-it-course-join","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar93"],"workflow_options":{"fireOnlyOnce":true,"populateDigitalData":true},"before_function":"function (el, it, utils) {  var courseId = el.getAttribute ? el.getAttribute(this._event.data_attribute_trigger_name) : \"\";  var event = it.eventRegister.getEvent(\"event87\");  var idEvar = event.getEvar(\"eVar93\");  idEvar.value = courseId || \"\";}","localized_event_name":""},{"id":65,"event_name":"event85","dtm_event_name":"moduleStart","dtm_event_appendable_name":"module_moduleStart","data_attribute_trigger_name":"data-it-module-start","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar93","eVar94"],"workflow_options":{"fireOnlyOnce":true,"populateDigitalData":true},"before_function":"function (el, it, utils) {  var moduleId = el.getAttribute ? el.getAttribute(this._event.data_attribute_trigger_name) : \"\";  var event = it.eventRegister.getEvent(\"event85\");  var idEvar = event.getEvar(\"eVar94\");  idEvar.value = moduleId || \"\";}","localized_event_name":""},{"id":66,"event_name":"event86","dtm_event_name":"moduleComplete","dtm_event_appendable_name":"module_moduleComplete","data_attribute_trigger_name":"data-it-module-complete","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar93","eVar94"],"workflow_options":{"fireOnlyOnce":true,"populateDigitalData":true},"before_function":"function (el, it, utils) {  var moduleId = el.getAttribute ? el.getAttribute(this._event.data_attribute_trigger_name) : \"\";  var event = it.eventRegister.getEvent(\"event86\");  var idEvar = event.getEvar(\"eVar94\");  idEvar.value = moduleId || \"\";}","localized_event_name":""},{"id":67,"event_name":"event95","dtm_event_name":"soft_authentication","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-soft-auth","dom_event_name":"auxclick,click","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar78"],"before_function":"function(el, it, utils) {  if (!el || !el.getAttribute) {    return false;  }  var evar = this.getEvar(\"eVar78\");  evar._value = el.getAttribute(\"data-it-soft-auth\") || \"\";  evar._source = \"data-attribute\";}","localized_event_name":""},{"id":68,"event_name":"event112","dtm_event_name":"forms_inputChange","dtm_event_appendable_name":null,"data_attribute_trigger_name":null,"dom_event_name":"change","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar32","eVar115"],"workflow_options":{"appendEventToDigitalData":false,"populateDigitalData":true,"skipDomEventBubble":true},"before_function":"function (el, it, utils) {  var inputNameEvar = this.getEvar(\"eVar115\");  if (el \u0026\u0026 el.getAttribute) {    inputNameEvar.value = el.getAttribute(\"name\") || \"\";  }}","localized_event_name":""},{"id":69,"event_name":"event113","dtm_event_name":"returnProduct","dtm_event_appendable_name":"shoppingCart_returnProductTracking","data_attribute_trigger_name":"data-it-return-product","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar116","eVar117","eVar118","returnProductId","returnProductCategory","returnProductQuantity","eVarReturnProductStockStatus"],"workflow_options":{"populateDigitalData":false},"before_function":"function (el, it, utils) {  var reason = this.getEvar(\"eVar116\");  var lot = this.getEvar(\"eVar117\");  var expDate = this.getEvar(\"eVar118\");  var productId = this.getEvar(\"returnProductId\");  var productCategory = this.getEvar(\"returnProductCategory\");  var productQuantity = this.getEvar(\"returnProductQuantity\");  var stock = this.getEvar(\"eVarReturnProductStockStatus\");  var valuesToApply = [];  if (!reason.value) {    var el = document.querySelector(\"[\" + reason._evar.data_attribute_name + \"]\");    if (el) {      reason.value = el.getAttribute(reason._evar.data_attribute_name) || \"\";    }  }  if (!lot.value) {    var el = document.querySelector(\"[\" + lot._evar.data_attribute_name + \"]\");    if (el) {      lot.value = el.getAttribute(lot._evar.data_attribute_name) || \"\";    }  }  if (!expDate.value) {    var el = document.querySelector(\"[\" + expDate._evar.data_attribute_name + \"]\");    if (el) {      expDate.value = el.getAttribute(expDate._evar.data_attribute_name) || \"\";    }  }  if (reason.value) {    valuesToApply.push({      path: reason.path,      value: reason.value,      source: reason.source    });  }  if (lot.value) {    valuesToApply.push({      path: lot.path,      value: lot.value,      source: lot.source    });  }  if (expDate.value) {    valuesToApply.push({      path: expDate.path,      value: expDate.value,      source: expDate.source    });  }  if (Array.isArray(productId.value)) {    productId.value.forEach(function(element) {      valuesToApply.push({        path: productId.path,        value: element.id,        source: \"direct\"      });      valuesToApply.push({        path: productCategory.path,        value: element.category,        source: \"direct\"      });      valuesToApply.push({        path: productQuantity.path,        value: element.qty,        source: \"direct\"      });      valuesToApply.push({        path: stock.path,        value: element.stock,        source: \"direct\"      });    });    this.populateDigitalData(valuesToApply);    return true;  }  var dataElems = document.querySelectorAll(\"[\" + productId._evar.data_attribute_name + \"]\");  var knownIds = [];  if (dataElems.length === 0) {    this.populateDigitalData(valuesToApply);    return true;  }  dataElems.forEach(function(elem) {    var pIdVal = elem.getAttribute(productId._evar.data_attribute_name);    var pCatVal = elem.getAttribute(productCategory._evar.data_attribute_name);    var pQty = elem.getAttribute(productQuantity._evar.data_attribute_name);    var stockVal = stock.computeAttributeValue(elem) || \"\";    var idsList = pIdVal.split(\",\");    var categoryList = pCatVal.split(\",\");    idsList.forEach(function(elem, idx) {      if (knownIds.indexOf(elem) === -1) {        knownIds.push(elem);        valuesToApply.push({          path: productId.path,          value: elem,          source: \"data-attribute\"        });        valuesToApply.push({          path: productCategory.path,          value: categoryList[idx] || categoryList[categoryList.length - 1] || \"\",          source: \"data-attribute\"        });        valuesToApply.push({          path: productQuantity.path,          value: pQty,          source: \"data-attribute\"        });        valuesToApply.push({          path: stock.path,          value: stockVal,          source: \"data-attribute\"        });      }    });  });  this.populateDigitalData(valuesToApply);}","after_function":"function (el, it, utils) {  /* reset evar values because there could be multiple products to return */  this.evars.forEach(function(item) {    item.reset();  });}","localized_event_name":""},{"id":70,"event_name":"event_teaser_tracking","dtm_event_name":"__internal__teaserTracking","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-teasers","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":[""],"workflow_options":{"appendEventToDigitalData":false,"cleanupDigitalData":false,"populateDigitalData":false},"before_function":"function (el, it, utils) {  if (!el) {    return false;  }  /* create real teaser view event and use current dom el for computation */  var teaserViewEvent = it.createEvent({    name: \"event75\", /* teaser view */    selector: null  });  teaserViewEvent.fire(el);}","localized_event_name":""},{"id":71,"event_name":"event76","dtm_event_name":"teaserClick","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-teaser","dom_event_name":"click","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVarTeaserName"],"workflow_options":{"cleanupDigitalData":true,"fireOnStartup":false},"localized_event_name":""},{"id":72,"event_name":"event22","dtm_event_name":"mediaTracking_start","dtm_event_appendable_name":null,"data_attribute_trigger_name":null,"dom_event_name":null,"fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar10","eVar29","eVar120","eVar121","eVar122","eVar123","eVar124"],"workflow_options":{"cleanupDigitalData":true},"before_function":"function(el, it, utils) {  var id = el.id;  var name = el.getAttribute(\"name\");  var contentFallback = (el.nodeName || \"\").toLowerCase();  /* Prepare everything */  var nodeConfiguration = it.config.getNodeConfiguration();  if (nodeConfiguration.media_tracking_blacklist.indexOf(id) \u003e= 0) {    return false;  }  this.getEvar(\"eVar29\").value = name;  var eVar121 = this.getEvar(\"eVar121\");  eVar121.value = eVar121._instatagValue ? eVar121._instatagValue : (el.getAttribute(\"data-it-media-player-type\") || eVar121.value || \"\");  var eVar10 = this.getEvar(\"eVar10\");  eVar10.value = eVar10._instatagValue ? eVar10._instatagValue : (el.getAttribute(\"data-it-content-type\") || contentFallback);  var eVar81 = this.getEvar(\"eVar81\");  eVar81.value = eVar81._instatagValue ? eVar81._instatagValue : (el.getAttribute(\"data-it-content-sub-type\") || \"\");}","element_found_function":"function(el, it, utils) {  var id = WSC.modules.instatag.itMediaTracker.getMediaIdentifier(el);  WSC.modules.instatag.itMediaTracker.storeRegisteredEvent(id, \"mediaStart\", this);}","localized_event_name":""},{"id":73,"event_name":"event28","dtm_event_name":"mediaTracking_complete","dtm_event_appendable_name":null,"data_attribute_trigger_name":null,"dom_event_name":null,"fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar10","eVar29","eVar120","eVar121","eVar122","eVar123","eVar124"],"workflow_options":{"cleanupDigitalData":true},"before_function":"function(el, it, utils) {  var id = el.id;  var name = el.getAttribute(\"name\");  var contentFallback = (el.nodeName || \"\").toLowerCase();  /* Prepare everything */  var nodeConfiguration = it.config.getNodeConfiguration();  if (nodeConfiguration.media_tracking_blacklist.indexOf(id) \u003e= 0) {    return false;  }  this.getEvar(\"eVar29\").value = name;  var eVar121 = this.getEvar(\"eVar121\");  eVar121.value = eVar121._instatagValue ? eVar121._instatagValue : (el.getAttribute(\"data-it-media-player-type\") || eVar121.value || \"\");  var eVar10 = this.getEvar(\"eVar10\");  eVar10.value = eVar10._instatagValue ? eVar10._instatagValue : (el.getAttribute(\"data-it-content-type\") || contentFallback);  var eVar81 = this.getEvar(\"eVar81\");  eVar81.value = eVar81._instatagValue ? eVar81._instatagValue : (el.getAttribute(\"data-it-content-sub-type\") || \"\");}","element_found_function":"function(el, it, utils) {  var id = WSC.modules.instatag.itMediaTracker.getMediaIdentifier(el);  WSC.modules.instatag.itMediaTracker.storeRegisteredEvent(id, \"mediaComplete\", this);}","localized_event_name":""},{"id":74,"event_name":"event23","dtm_event_name":"mediaTracking_playTime","dtm_event_appendable_name":null,"data_attribute_trigger_name":null,"dom_event_name":null,"fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar10","eVar29","eVar120","eVar121","eVar122","eVar123","eVar124"],"workflow_options":{"cleanupDigitalData":true},"before_function":"function(el, it, utils) {  var id = el.id;  var name = el.getAttribute(\"name\");  var contentFallback = (el.nodeName || \"\").toLowerCase();  /* Prepare everything */  var nodeConfiguration = it.config.getNodeConfiguration();  if (nodeConfiguration.media_tracking_blacklist.indexOf(id) \u003e= 0) {    return false;  }  this.getEvar(\"eVar29\").value = name;  var eVar121 = this.getEvar(\"eVar121\");  eVar121.value = eVar121._instatagValue ? eVar121._instatagValue : (el.getAttribute(\"data-it-media-player-type\") || eVar121.value || \"\");  var eVar10 = this.getEvar(\"eVar10\");  eVar10.value = eVar10._instatagValue ? eVar10._instatagValue : (el.getAttribute(\"data-it-content-type\") || contentFallback);  var eVar81 = this.getEvar(\"eVar81\");  eVar81.value = eVar81._instatagValue ? eVar81._instatagValue : (el.getAttribute(\"data-it-content-sub-type\") || \"\");}","element_found_function":"function(el, it, utils) {  var id = WSC.modules.instatag.itMediaTracker.getMediaIdentifier(el);  WSC.modules.instatag.itMediaTracker.storeRegisteredEvent(id, \"mediaPlaytime\", this);}","localized_event_name":""},{"id":75,"event_name":"event116","dtm_event_name":"productListView","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-product-list-view","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVarProductListId","eVarProductListCategory","eVarProductListStockStatus"],"workflow_options":{"appendEventToDigitalData":false,"callSatellite":true,"cleanupDigitalData":true,"populateDigitalData":true},"before_function":"function (el, it, utils) {  /* prevent event fire via default event flow */  /* we manually define data for this event and when all setup this function will no longer prevent it */  /* check library/intersection/index.js:56-72 */  return false;}","element_found_function":"function (el, it, utils) {  if (el) {    it.itProductListView.observe(el);  }}","localized_event_name":""},{"id":76,"event_name":"event115","dtm_event_name":"errorTracking","dtm_event_appendable_name":"errorTracking","data_attribute_trigger_name":"data-it-error","dom_event_name":"DOMContentLoaded","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar125"],"workflow_options":{"cleanupDigitalData":true},"localized_event_name":""},{"id":77,"event_name":"Page_Scroll","dtm_event_name":"Page_Scroll","dtm_event_appendable_name":null,"data_attribute_trigger_name":null,"dom_event_name":null,"fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar36"],"localized_event_name":""},{"id":78,"event_name":"event117","dtm_event_name":"trackAssetPrint","dtm_event_appendable_name":null,"data_attribute_trigger_name":"data-it-asset-print","dom_event_name":"auxclick,click,contextmenu","fire_event_without_elements_by_evar":null,"is_default":0,"evars":["eVar23","eVar81","eVar82","eVar83"],"localized_event_name":""},{"id":79,"event_name":"event118","dtm_event_name":"engagementEvent","dtm_event_appendable_name":null,"data_attribute_trigger_name":null,"dom_event_name":null,"fire_event_without_elements_by_evar":null,"is_default":0,"evars":[""],"workflow_options":{"fireOnlyOnce":true},"localized_event_name":""}],"registered_events":[{"event_name":"event1","evars":[{"name":"eVar1","value":"Corporate"},{"name":"eVar2","value":"angels-initiative.com"},{"name":"eVar3","value":"HP"},{"name":"eVar4","value":"unbranded"},{"name":"eVar5","value":"hcp"},{"name":"eVar6","value":"NA"},{"name":"eVar40","value":"WW"},{"name":"eVar51","value":"InstaTag + Launch"}]},{"event_name":"event60","evars":[]},{"event_name":"event61","evars":[]},{"event_name":"event2","evars":[]}],"specifications":[{"id":1,"evar_name":"eVar1","evar_label":"OPU","evar_fqn":"digitalData.website.websiteInfo.opu","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":2,"evar_name":"eVar2","evar_label":"Website","evar_fqn":"digitalData.website.websiteInfo.websiteTitle","data_attribute_name":null,"allow_empty_value":0,"default_function":"function () {  return window.title;}","runlevel":"runtime","localized_evar_name":""},{"id":3,"evar_name":"eVar3","evar_label":"Website Business","evar_fqn":"digitalData.website.websiteInfo.websiteBusiness","data_attribute_name":"data-it-website-business","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":4,"evar_name":"eVar4","evar_label":"Branding","evar_fqn":"digitalData.website.websiteInfo.websitePromotionType","data_attribute_name":"data-it-website-branding","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":5,"evar_name":"eVar5","evar_label":"Website Target","evar_fqn":"digitalData.website.websiteInfo.websiteTarget","data_attribute_name":"data-it-website-target","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":6,"evar_name":"eVar6","evar_label":"Therapeutic Area","evar_fqn":"digitalData.website.websiteInfo.websiteTA","data_attribute_name":"data-it-website-ta","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":7,"evar_name":"eVar7","evar_label":"Language","evar_fqn":"digitalData.page.pageCategory.language","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":9,"evar_name":"eVar10","evar_label":"Content Type","evar_fqn":"digitalData.page.pageCategory.contentType","data_attribute_name":"data-it-content-type","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":10,"evar_name":"eVar11","evar_label":"Site Section","evar_fqn":"digitalData.page.pageCategory.primaryCategory","data_attribute_name":null,"allow_empty_value":0,"default_function":"function() {    // if digitalData.page.pageCategory.primaryCategory is already set    if (typeof digitalData !== \"undefined\" \u0026\u0026 typeof digitalData.page !== \"undefined\" \u0026\u0026 typeof digitalData.page.pageCategory !== \"undefined\" \u0026\u0026 typeof digitalData.page.pageCategory.primaryCategory !== \"undefined\") {        return digitalData.page.pageCategory.primaryCategory;    }    // default    var arr_pieces = window.location.pathname.slice(1).split(\"/\");    return arr_pieces.length \u003e 0 ? arr_pieces[0] : \"\";}","runlevel":"domContentLoaded","localized_evar_name":""},{"id":11,"evar_name":"eVar12","evar_label":"Site Sub Section","evar_fqn":"digitalData.page.pageCategory.subCategory","data_attribute_name":null,"allow_empty_value":0,"default_function":"function () {  var arr_pieces = window.location.pathname.slice(1).split(\"/\");  return arr_pieces.length \u003e 1 ? arr_pieces[1] : \"\";}","runlevel":"runtime","localized_evar_name":""},{"id":12,"evar_name":"eVar13","evar_label":"Site Sub Sub Section","evar_fqn":"digitalData.page.pageCategory.subSubCategory","data_attribute_name":null,"allow_empty_value":0,"default_function":"function () {  var arr_pieces = window.location.pathname.slice(1).split(\"/\");  return arr_pieces.length \u003e 2 ? arr_pieces[2] : \"\";}","runlevel":"runtime","localized_evar_name":""},{"id":13,"evar_name":"eVar14","evar_label":"Tags","evar_fqn":"digitalData.page.pageInfo.tags","data_attribute_name":"data-it-tags","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":14,"evar_name":"eVar16","evar_label":"Login Status","evar_fqn":"digitalData.user.profile.profileInfo.loginStatus","data_attribute_name":null,"allow_empty_value":0,"default_function":"function () {  const LOGGED_IN = \"logged in\";  const NOT_LOGGED_IN = \"not logged in\";  const utility = arguments[1] || null;  function checkBIGRV() {    if (window.hasOwnProperty(\"_bi_grv\") \u0026\u0026 typeof window._bi_grv.v_id !== \"undefined\") {      return LOGGED_IN;    }    return NOT_LOGGED_IN;  }  if (!utility) {    return checkBIGRV();  }  const paramKeys = [\"bi_id\", \"biid\", \"cust_id\"];  for (const key of paramKeys) {    const resultParam = utility.getQueryParamInsensitive(key);    if (resultParam) {      return LOGGED_IN;    }  }  return checkBIGRV();}","runlevel":"runtime","localized_evar_name":""},{"id":15,"evar_name":"eVar18","evar_label":"Customer ID","evar_fqn":"digitalData.member.memberID","data_attribute_name":"data-it-uid","allow_empty_value":0,"default_function":"function () {  const utility = arguments[1] || null;  function checkBIGRV_ID() {    if (window.hasOwnProperty(\"_bi_grv\") \u0026\u0026 typeof window._bi_grv.v_id !== \"undefined\") {      return window._bi_grv.v_id;    }    return null;  }  if (!utility) {    return checkBIGRV_ID();  }  const paramKeys = [\"bi_id\", \"biid\", \"cust_id\"];  for (const key of paramKeys) {    const resultParam = utility.getQueryParamInsensitive(key);    if (resultParam) {      return resultParam;    }  }  return checkBIGRV_ID();}","runlevel":"runtime","localized_evar_name":""},{"id":16,"evar_name":"eVar21","evar_label":"Internal Search term","evar_fqn":"digitalData.internalSearch.searchInfo.keywords","data_attribute_name":"data-it-keywords","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":17,"evar_name":"eVar22","evar_label":"Internal Search results","evar_fqn":"digitalData.internalSearch.searchInfo.totalResults","data_attribute_name":"data-it-results","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":18,"evar_name":"eVar23","evar_label":"Asset ID","evar_fqn":"digitalData.asset.0.assetID","data_attribute_name":"data-it-asset,data-it-asset-print","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":19,"evar_name":"eVar24","evar_label":"Asset List","evar_fqn":"digitalData.asset.*.assetID","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":20,"evar_name":"eVar26","evar_label":"Self Service Tool Name","evar_fqn":"digitalData.selfService.toolName","data_attribute_name":"data-it-self-service-tool-name","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":21,"evar_name":"eVar27","evar_label":"Self Detailing Name","evar_fqn":"digitalData.selfDetailing.name","data_attribute_name":"data-it-self-detailing-name","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":22,"evar_name":"eVar28","evar_label":"Button/Link name","evar_fqn":"digitalData.button.*.buttonName","data_attribute_name":"data-it-button, data-it-where-to-buy","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":25,"evar_name":"eVar30","evar_label":"Video segment","evar_fqn":"digitalData.video.videoSegment","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":26,"evar_name":"eVar31","evar_label":"Event ID","evar_fqn":"digitalData.forms.eventID","data_attribute_name":"data-it-form-event","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":27,"evar_name":"eVar32","evar_label":"Form Name","evar_fqn":"digitalData.forms.formName","data_attribute_name":"data-it-form-name,data-it-registration-form-name","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":28,"evar_name":"eVar33","evar_label":"Form Medical Information","evar_fqn":"digitalData.forms.formfield.medicalInformation","data_attribute_name":"data-it-medical-information","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":29,"evar_name":"eVar34","evar_label":"Form Speciality","evar_fqn":"digitalData.forms.formfield.speciality","data_attribute_name":"data-it-specialty","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":30,"evar_name":"eVar35","evar_label":"Form Type","evar_fqn":"tbd","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":31,"evar_name":"eVar38","evar_label":"Brand","evar_fqn":"digitalData.brandInfo.brandName","data_attribute_name":"data-it-product-brand","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":32,"evar_name":"eVar39","evar_label":"Indication","evar_fqn":"digitalData.brandInfo.indication","data_attribute_name":"data-it-product-brand-indication","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":33,"evar_name":"eVar40","evar_label":"Country","evar_fqn":"digitalData.page.pageInfo.country","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":34,"evar_name":"eVar50","evar_label":"Hub Page Template","evar_fqn":"digitalData.page.pageInfo.pageType","data_attribute_name":"data-it-page-template","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":35,"evar_name":"eVar58","evar_label":"Survey ID","evar_fqn":"digitalData.userFeedback.surveyInfo.surveyID","data_attribute_name":"data-it-survey-id","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":36,"evar_name":"eVar59","evar_label":"Survey Title","evar_fqn":"digitalData.userFeedback.surveyInfo.surveyTitle","data_attribute_name":"data-it-survey-title","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":37,"evar_name":"eVar60","evar_label":"Poll ID","evar_fqn":"digitalData.userFeedback.pollInfo.pollID","data_attribute_name":"data-it-poll-id","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":38,"evar_name":"eVar61","evar_label":"Poll Title","evar_fqn":"digitalData.userFeedback.pollInfo.pollTitle","data_attribute_name":"data-it-poll-title","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":39,"evar_name":"eVar62","evar_label":"Question-Response","evar_fqn":"digitalData.userFeedback.questionResponse","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":40,"evar_name":"eVar67","evar_label":"Authentication Method","evar_fqn":"digitalData.user.profile.profileInfo.authenticationMethod","data_attribute_name":"data-it-auth-method","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":41,"evar_name":"eVar72","evar_label":"Content ID","evar_fqn":"digitalData.userFeedback.contentInfo.contentID","data_attribute_name":"data-it-rated-content","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":42,"evar_name":"eVar73","evar_label":"Content Rating","evar_fqn":"digitalData.userFeedback.contentInfo.contentRating","data_attribute_name":"data-it-rating","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":43,"evar_name":"eVar74","evar_label":"Content Engagement and Sharing via Social Media","evar_fqn":"contentEngagement","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":44,"evar_name":"eVar75","evar_label":"Content Object ID","evar_fqn":"digitalData.page.pageInfo.contentObjectID","data_attribute_name":"data-it-content-object-id","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":45,"evar_name":"eVar76","evar_label":"Content Key Message","evar_fqn":"digitalData.page.pageInfo.contentKeyMessage","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":46,"evar_name":"eVar77","evar_label":"Content Perspective Name","evar_fqn":"digitalData.page.pageInfo.contentPerspective","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":47,"evar_name":"eVar78","evar_label":"Visitor Type","evar_fqn":"digitalData.user.profile.profileInfo.visitorType","data_attribute_name":"data-it-visitor-type","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":48,"evar_name":"eVar81","evar_label":"Content Sub-Type","evar_fqn":"digitalData.page.pageCategory.contentSubType","data_attribute_name":"data-it-content-sub-type","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":49,"evar_name":"eVar82","evar_label":"Associated Enriched Content","evar_fqn":"digitalData.page.pageCategory.associatedEnrichedContent","data_attribute_name":"data-it-associated-enriched-content","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":50,"evar_name":"eVar83","evar_label":"Content Segment","evar_fqn":"digitalData.page.pageCategory.contentSegment","data_attribute_name":"data-it-content-segment","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":8,"evar_name":"eVar8","evar_label":"Page Name","evar_fqn":"digitalData.page.pageInfo.pageName","data_attribute_name":null,"allow_empty_value":0,"default_function":"function(){return document.title;}","runlevel":"runtime","localized_evar_name":""},{"id":53,"evar_name":"eVar63","evar_label":"Time Parting","evar_fqn":"digitalData.userFeedback.forumInfo.forumID","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":54,"evar_name":"eVar64","evar_label":"Forum Title","evar_fqn":"digitalData.userFeedback.forumInfo.forumTitle","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":55,"evar_name":"eVar65","evar_label":"Topic ID","evar_fqn":"digitalData.userFeedback.forumInfo.topicID","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":56,"evar_name":"eVar66","evar_label":"Topic Title","evar_fqn":"digitalData.userFeedback.forumInfo.topicTitle","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":57,"evar_name":"eVar51","evar_label":"Tag Manager Name","evar_fqn":"digitalData.website.websiteInfo.websiteTagManagerName","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":58,"evar_name":"eVar52","evar_label":"Course Host","evar_fqn":"digitalData.course.courseHost","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":59,"evar_name":"eVar53","evar_label":"Blog Name","evar_fqn":"digitalData.blog.blogInfo.blogName","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":60,"evar_name":"eVar54","evar_label":"Blog Author","evar_fqn":"digitalData.blog.blogInfo.author","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":61,"evar_name":"eVar55","evar_label":"Post Title","evar_fqn":"digitalData.blog.blogInfo.postTitle","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":62,"evar_name":"eVar56","evar_label":"Post Date","evar_fqn":"digitalData.blog.blogInfo.postDate","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":63,"evar_name":"eVar57","evar_label":"Blog ID","evar_fqn":"digitalData.blog.blogInfo.blogID","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":66,"evar_name":"eVar48","evar_label":"ThirdParty CustomerID","evar_fqn":"digitalData.customerID","data_attribute_name":null,"allow_empty_value":0,"default_function":"function () {  var regexStr = \"[\\?\u0026]cust_id=([^\u0026#]*)\";  var results = new RegExp(regexStr, \"i\").exec(window.location.href);  return results != undefined ? decodeURIComponent(results[1]) : null;}","runlevel":"runtime","localized_evar_name":""},{"id":67,"evar_name":"eVarErrorType","evar_label":"Error page type","evar_fqn":"digitalData.error.errorInfo.errorType","data_attribute_name":"data-it-error-type","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":68,"evar_name":"eVarErrorPage","evar_label":"Is an Error page","evar_fqn":"digitalData.error.errorInfo.errorPage","data_attribute_name":"data-it-error-page","allow_empty_value":0,"default_function":"function () {  return \"Yes\";}","runlevel":"runtime","localized_evar_name":""},{"id":69,"evar_name":"internalEvar_submition_text","evar_label":"Submition Text","evar_fqn":"","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":70,"evar_name":"eVar100","evar_label":"User Location","evar_fqn":"digitalData.page.pageInfo.eVar100","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":71,"evar_name":"eVar101","evar_label":"eVar101","evar_fqn":"digitalData.page.pageInfo.eVar101","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":72,"evar_name":"eVar102","evar_label":"eVar102","evar_fqn":"digitalData.page.pageInfo.eVar102","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":73,"evar_name":"eVar103","evar_label":"eVar103","evar_fqn":"digitalData.page.pageInfo.eVar103","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":74,"evar_name":"eVar104","evar_label":"eVar104","evar_fqn":"digitalData.page.pageInfo.eVar104","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":75,"evar_name":"eVar105","evar_label":"eVar105","evar_fqn":"digitalData.page.pageInfo.eVar105","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":76,"evar_name":"eVar106","evar_label":"eVar106","evar_fqn":"digitalData.page.pageInfo.eVar106","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":77,"evar_name":"eVar107","evar_label":"eVar107","evar_fqn":"digitalData.page.pageInfo.eVar107","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":78,"evar_name":"eVar108","evar_label":"eVar108","evar_fqn":"digitalData.page.pageInfo.eVar108","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":79,"evar_name":"eVar109","evar_label":"eVar109","evar_fqn":"digitalData.page.pageInfo.eVar109","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":80,"evar_name":"eVar110","evar_label":"eVar110","evar_fqn":"digitalData.page.pageInfo.eVar110","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":104,"evar_name":"eVarProductId","evar_label":"Product ID","evar_fqn":"digitalData.product.*.productInfo.productID","data_attribute_name":"data-it-product-id","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":105,"evar_name":"eVarProductCategory","evar_label":"Product category","evar_fqn":"digitalData.product.*.productInfo.productCategory","data_attribute_name":"data-it-product-category","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":106,"evar_name":"eVarCartProductId","evar_label":"Cart product ID","evar_fqn":"digitalData.cart.item.*.productInfo.productID","data_attribute_name":"data-it-cart-product-id","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":107,"evar_name":"eVarCartProductCategory","evar_label":"Cart product category","evar_fqn":"digitalData.cart.item.*.productInfo.productCategory","data_attribute_name":"data-it-cart-product-category","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":108,"evar_name":"eVarOrderProductId","evar_label":"Order product ID","evar_fqn":"digitalData.transaction.item.*.productInfo.productID","data_attribute_name":"data-it-order-product-id","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":109,"evar_name":"eVarOrderProductCategory","evar_label":"Order product category","evar_fqn":"digitalData.transaction.item.*.productInfo.productCategory","data_attribute_name":"data-it-order-product-category","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":110,"evar_name":"eVar71","evar_label":"Payment method","evar_fqn":"digitalData.transaction.paymentMethod","data_attribute_name":"data-it-payment-method","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":111,"evar_name":"eVar111","evar_label":"Payment Amount","evar_fqn":"digitalData.transaction.paymentAmount","data_attribute_name":"data-it-payment-amount","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":112,"evar_name":"eVar70","evar_label":"Order ID","evar_fqn":"digitalData.transaction.purchaseID","data_attribute_name":"data-it-order-id","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":113,"evar_name":"eVarItemQuantity","evar_label":"Order item quantity","evar_fqn":"digitalData.transaction.item.*.quantity","data_attribute_name":"data-it-order-item-quantity","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":114,"evar_name":"eVarItemPrice","evar_label":"Order item price","evar_fqn":"digitalData.transaction.item.*.price","data_attribute_name":"data-it-order-item-price","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":117,"evar_name":"eVar86","evar_label":"Search Category","evar_fqn":"digitalData.internalSearch.searchInfo.SearchCategory","data_attribute_name":"data-it-search-category","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":118,"evar_name":"eVarExitURL","evar_label":"Exit URL","evar_fqn":"digitalData.exitURL","data_attribute_name":"data-it-exit-link","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":119,"evar_name":"eVar87","evar_label":"Product price","evar_fqn":"digitalData.product.*.productInfo.sellerPrice","data_attribute_name":"data-it-product-price","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":120,"evar_name":"eVarSellerName","evar_label":"Product seller name","evar_fqn":"digitalData.product.*.productInfo.sellerName","data_attribute_name":"data-it-product-seller","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":121,"evar_name":"eVarSellerAddress","evar_label":"Product seller address","evar_fqn":"digitalData.product.*.productInfo.sellerAddress","data_attribute_name":"data-it-product-seller-address","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":122,"evar_name":"eVar88","evar_label":"Seller name","evar_fqn":"digitalData.seller.*.sellerName","data_attribute_name":"data-it-seller-name","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":123,"evar_name":"eVar95","evar_label":"Seller description","evar_fqn":"digitalData.seller.*.sellerAddress","data_attribute_name":"data-it-seller-address","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":124,"evar_name":"eVar93","evar_label":"Course ID","evar_fqn":"digitalData.course.courseID","data_attribute_name":"data-it-course-id","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":125,"evar_name":"eVar94","evar_label":"Module ID","evar_fqn":"digitalData.module.moduleID","data_attribute_name":"data-it-module-id","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":126,"evar_name":"eVar112","evar_label":"Customer ID Type","evar_fqn":"digitalData.user.profile.profileInfo.customerIDType","data_attribute_name":"data-it-uid-type","allow_empty_value":0,"default_function":"function (itEvent) {  if (!itEvent) return;  const CUST_ID_QUERY_PARAM = \"cust_id\";  const BI_ID_QUERY_PARAM = \"bi_id\";  const BIID_QUERY_PARAM = \"biid\";  function isVeevaId(veevaId) {    return veevaId \u0026\u0026 typeof veevaId === \"string\" \u0026\u0026 (veevaId.length === 15 || veevaId.length === 18);  }  const uID = itEvent.getEvar(\"eVar18\");  const uIDType = itEvent.getEvar(\"eVar112\");  if (!uIDType) {    return;  }  if (uID.value \u0026\u0026 isVeevaId(uID.value)) {    uIDType.value = \"VeevaID\";  }  if (uID.value \u0026\u0026 uID.source === \"data-attribute\") {    return;  }  const utility = arguments[2] || null;  if (!utility) {    return;  }  let biIdParam = utility.getQueryParamInsensitive(BI_ID_QUERY_PARAM);  if (!biIdParam) {    biIdParam = utility.getQueryParamInsensitive(BIID_QUERY_PARAM);  }  if (biIdParam \u0026\u0026 isVeevaId(biIdParam)) {    uIDType.value = \"biid_VeevaID\";    return;  }  else if (biIdParam) {    uIDType.value = \"biid_\" + (uIDType.value || \"unknown\");    return;  }  const custIdparam = utility.getQueryParamInsensitive(CUST_ID_QUERY_PARAM);  if (custIdparam \u0026\u0026 isVeevaId(custIdparam)) {    uIDType.value = \"VeevaID\";    return;  }}","runlevel":"runtime","localized_evar_name":""},{"id":127,"evar_name":"eVar114","evar_label":"Website library version","evar_fqn":"digitalData.website.websiteInfo.websiteTagManagerLibVersion","data_attribute_name":null,"allow_empty_value":0,"default_function":"function () {  var config = window.WSC.modules.instatag.config;  return (config.env || \"\") + config.version;}","runlevel":"runtime","localized_evar_name":""},{"id":128,"evar_name":"eVar115","evar_label":"Filled input name","evar_fqn":"digitalData.forms.inputField","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":129,"evar_name":"eVar116","evar_label":"Return reason","evar_fqn":"digitalData.returnProduct.reason","data_attribute_name":"data-it-return-product-reason","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":130,"evar_name":"eVar117","evar_label":"Product return lot","evar_fqn":"digitalData.returnProduct.lot","data_attribute_name":"data-it-return-product-lot","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":131,"evar_name":"eVar118","evar_label":"Product return expiration date","evar_fqn":"digitalData.returnProduct.expiration","data_attribute_name":"data-it-return-product-expiration","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":132,"evar_name":"returnProductId","evar_label":"Product return id","evar_fqn":"digitalData.returnProduct.item.*.productInfo.productID","data_attribute_name":"data-it-return-product-id","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":133,"evar_name":"returnProductCategory","evar_label":"Product return category","evar_fqn":"digitalData.returnProduct.item.*.productInfo.productCategory","data_attribute_name":"data-it-return-product-category","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":134,"evar_name":"returnProductQuantity","evar_label":"Product return quantity","evar_fqn":"digitalData.returnProduct.item.*.quantity","data_attribute_name":"data-it-return-product-quantity","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":135,"evar_name":"itCurrencyCode","evar_label":"Currency code","evar_fqn":"digitalData.page.pageInfo.currencyCode","data_attribute_name":"data-it-currency-code","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":136,"evar_name":"eVar29","evar_label":"Media Name","evar_fqn":"digitalData.media.name","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":137,"evar_name":"eVar120","evar_label":"Media ID","evar_fqn":"digitalData.media.id","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":138,"evar_name":"eVar121","evar_label":"Media Player Type","evar_fqn":"digitalData.media.playerType","data_attribute_name":"data-it-media-player-type","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":139,"evar_name":"eVar122","evar_label":"Media Seek Time","evar_fqn":"digitalData.media.seekTime","data_attribute_name":"data-it-media-seek-time","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":140,"evar_name":"eVar123","evar_label":"Media Total Duration","evar_fqn":"digitalData.media.totalDuration","data_attribute_name":"data-it-media-duration","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":141,"evar_name":"eVar124","evar_label":"Media Play Time","evar_fqn":"digitalData.media.playTime","data_attribute_name":"data-it-media-play-time","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":142,"evar_name":"eVarTeaserName","evar_label":"Teaser name","evar_fqn":"digitalData.teaser.*.name","data_attribute_name":"data-it-teaser","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":143,"evar_name":"eVarProductStockStatus","evar_label":"Product stock status","evar_fqn":"digitalData.product.*.productInfo.productStockStatus","data_attribute_name":"data-it-product-stock-status","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":144,"evar_name":"eVarCartProductStockStatus","evar_label":"Product stock status","evar_fqn":"digitalData.cart.item.*.productInfo.productStockStatus","data_attribute_name":"data-it-product-stock-status","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":145,"evar_name":"eVarTransactionProductStockStatus","evar_label":"Product stock status","evar_fqn":"digitalData.transaction.item.*.productInfo.productStockStatus","data_attribute_name":"data-it-product-stock-status","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":146,"evar_name":"eVarReturnProductStockStatus","evar_label":"Return product stock status","evar_fqn":"digitalData.returnProduct.item.*.productInfo.productStockStatus","data_attribute_name":"data-it-product-stock-status","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":147,"evar_name":"eVar125","evar_label":"Error Tracking","evar_fqn":"digitalData.error.errorInfo.errorName.*.error","data_attribute_name":"data-it-error","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":148,"evar_name":"eVarProductListId","evar_label":"List product id","evar_fqn":"digitalData.productList.item.*.productInfo.productID","data_attribute_name":"data-it-product-list-id","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":149,"evar_name":"eVarProductListCategory","evar_label":"List product category","evar_fqn":"digitalData.productList.item.*.productInfo.productCategory","data_attribute_name":"data-it-product-list-category","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":150,"evar_name":"eVarProductListStockStatus","evar_label":"List product stock status","evar_fqn":"digitalData.productList.item.*.productInfo.productStockStatus","data_attribute_name":"data-it-product-stock-status","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":151,"evar_name":"eVar36","evar_label":"Scroll depth","evar_fqn":"digitalData.scroll.scrollDepth","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":154,"evar_name":"eVar130","evar_label":"Content Rating Feedback","evar_fqn":"digitalData.userFeedback.contentInfo.contentRatingFeedback","data_attribute_name":"data-it-rating-feedback","allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""},{"id":167,"evar_name":"eVar19","evar_label":"Member First Primary ID","evar_fqn":"digitalData.member.memberFPID","data_attribute_name":null,"allow_empty_value":0,"default_function":"","runlevel":"runtime","localized_evar_name":""}],"app_key":"c0a12af6-9600-4fc7-abe6-d133d42c7d2b","application_node_id":8090396,"page_node_id":0,"override_local_evars":true,"override_local_evars_with_functions":false,"is_spa":false,"track_spa_params":false,"send_to_cdp":false,"cdp_endpoint":"","one_trust_token":"","track_performance_data":false,"has_shadow_dom":false,"use_parent_window_for_eprivacy_control":false,"env":"p","node_configuration":{"node_id":8090396,"separator":":","media_name_style":"3","max_tracking_calls":"100","media_tracking_blacklist":["https://player.vimeo.com/progressive_redirect/playback/922365951/rendition/1080p/file.mp4?loc=external\u0026signature=cdf6c42de8f36e2ab0be26ef3eedf122a1ac78c2ab8e13d7de6b99ca32177410"]},"overlay_library_url":"https://script.bi-instatag.com/overlay/c0a12af6-9600-4fc7-abe6-d133d42c7d2b/8090396/59df63fc07abb164d24e4fad9bbc171e/10651","launch_script":"//assets.adobedtm.com/414cfb5a3140/76f6cf903d57/launch-601c20fcc3df.min.js","crm_configuration":{"client":null,"endpoint":"https://crm.bi-instatag.com"},"engagement_event":null,"is_adobe_baked":false,"is_production_url":true,"redirection_handler_blocking_rules":null});
;window.WSC.modules.instatag.snippetLookupTable={};window.WSC.modules.instatag.customDomEventSnippets=[];window.WSC.modules.instatag.snippetLookupTable['pseudo1']=[];window.WSC.modules.instatag.snippetLookupTable['pseudo1'].push({fn:(function(window,document,internalData,undefined){if(digitalData && digitalData.product && digitalData.product.constructor === Object && digitalData.product.productInfo)
{
    if(!digitalData.brandInfo)
    {
        digitalData.brandInfo = {};
    }
    if(!digitalData.brandInfo.brandName)
    {
        digitalData.brandInfo.brandName = digitalData.product.productInfo.brand;
    }
    if(!digitalData.brandInfo.indication)
    {
        digitalData.brandInfo.indication = digitalData.product.productInfo.brandIndication;
    }
    digitalData.product = [];
};
}),policy_cookie_name:null,filters:[],kpi_event:false,description:""});window.WSC.modules.instatag.snippetLookupTable['pseudo1'].push({fn:(function(window,document,internalData,undefined){// default consent state
window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }


var allCons = window.__itEprivacyBanner.getCurrentPolicyStatus();
var consMarketing = allCons['HP - Marketing'];
var consTracking = allCons['Tracking'];
var consGoogleAds = allCons['Google Ads'];

var gCons = {};

   if (consMarketing === true){
       gCons['ad_storage']='granted';
       gCons['ad_personalization']='granted';
       gCons['ad_user_data']='granted';

   } else {
       gCons['ad_storage']='denied';
       gCons['ad_personalization']='denied';
     gCons['ad_user_data']='denied';
   };

   if (consGoogleAds === true){
       gCons['ad_storage']='granted';
       gCons['ad_personalization']='granted';
       gCons['ad_user_data']='granted';
   } else if (consGoogleAds === false){
       gCons['ad_storage']='denied';
       gCons['ad_personalization']='denied';
     gCons['ad_user_data']='denied';
   };
   

       if (consTracking === true){
       gCons['analytics_storage']='granted';
   } else {
       gCons['analytics_storage']='denied';
   };

// for websites with deactivated eprivacy, Tracking is true by default, Marketing is undefined
       if (consTracking === true && typeof consMarketing === "undefined"){
       gCons['ad_storage']='granted';
       gCons['ad_personalization']='granted';
       gCons['ad_user_data']='granted';
   };

  gtag('consent', 'default', gCons);

// updated consent states
document.addEventListener('itTrackingConsentChange', function (event) {
   var consMarketing = event.detail['HP - Marketing'];
   var consTracking = event.detail['Tracking'];
   var consGoogleAds = event.detail['Google Ads'];

var gCons = {};

   if (consMarketing === true){
       gCons['ad_storage']='granted';
       gCons['ad_personalization']='granted';
       gCons['ad_user_data']='granted';
   } else {
       gCons['ad_storage']='denied';
       gCons['ad_personalization']='denied';
      gCons['ad_user_data']='denied';
   };

    
   if (consGoogleAds === true){
       gCons['ad_storage']='granted';
       gCons['ad_personalization']='granted';
       gCons['ad_user_data']='granted';
   } else if (consGoogleAds === false){
       gCons['ad_storage']='denied';
       gCons['ad_personalization']='denied';
     gCons['ad_user_data']='denied';
   };

    
       if (consTracking === true){
       gCons['analytics_storage']='granted';
   } else {
       gCons['analytics_storage']='denied';
   };
    
    
    // for websites with deactivated eprivacy, Tracking is true by default, Marketing is undefined
       if (consTracking === true && typeof consMarketing === "undefined"){
       gCons['ad_storage']='granted';
       gCons['ad_personalization']='granted';
       gCons['ad_user_data']='granted';
   };
    
  
  function gtag() { dataLayer.push(arguments); }
  gtag('consent', 'update', gCons);


});
}),policy_cookie_name:null,filters:[],kpi_event:false,description:""});WSC.modules.instatag.runSnippets(['pseudo2']);
window.WSC.modules.instatag.$start();
WSC.modules.instatag['nameOfWebProperty']='Corporate';WSC.modules.instatag['isTrackingConsentGiven']=true;


WSC.modules.instatag.runSnippets(['pseudo1']);WSC.modules.instatag.registerSnippetRuleCustomEvents(WSC.modules.instatag.customDomEventSnippets);